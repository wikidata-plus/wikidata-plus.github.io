import{d as Ae,r as Bn,u as Ka,o as Fn,a as mo,i as oi,g as ei,p as Ya,_ as Qa,j as tu,k as _o,h as Rn,w as go,F as eu,f as iu}from"./index-8jTyUR94.js";var ti={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nu=ti.exports,Vr;function ru(){return Vr||(Vr=1,function(n,s){(function(r,c){c(s)})(nu,function(r){var c="1.9.4";function a(t){var e,i,o,h;for(i=1,o=arguments.length;i<o;i++){h=arguments[i];for(e in h)t[e]=h[e]}return t}var p=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function m(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var x=0;function k(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function b(t,e,i){var o,h,v,A;return A=function(){o=!1,h&&(v.apply(i,h),h=!1)},v=function(){o?h=arguments:(t.apply(i,arguments),setTimeout(A,e),o=!0)},v}function g(t,e,i){var o=e[1],h=e[0],v=o-h;return t===o&&i?t:((t-h)%v+v)%v+h}function u(){return!1}function w(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return y(t).split(/\s+/)}function _(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function T(t,e,i){var o=[];for(var h in t)o.push(encodeURIComponent(i?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!e||e.indexOf("?")===-1?"?":"&")+o.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(t,e){return t.replace(C,function(i,o){var h=e[o];if(h===void 0)throw new Error("No value provided for variable "+i);return typeof h=="function"&&(h=h(e)),h})}var S=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function I(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var F=0;function H(t){var e=+new Date,i=Math.max(0,16-(e-F));return F=e+i,window.setTimeout(t,i)}var z=window.requestAnimationFrame||M("RequestAnimationFrame")||H,q=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function N(t,e,i){if(i&&z===H)t.call(e);else return z.call(window,m(t,e))}function X(t){t&&q.call(window,t)}var K={__proto__:null,extend:a,create:p,bind:m,get lastId(){return x},stamp:k,throttle:b,wrapNum:g,falseFn:u,formatNum:w,trim:y,splitWords:f,setOptions:_,getParamString:T,template:P,isArray:S,indexOf:I,emptyImageUrl:U,requestFn:z,cancelFn:q,requestAnimFrame:N,cancelAnimFrame:X};function D(){}D.extend=function(t){var e=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=p(i);o.constructor=e,e.prototype=o;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(e[h]=this[h]);return t.statics&&a(e,t.statics),t.includes&&(ft(t.includes),a.apply(null,[o].concat(t.includes))),a(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?p(i.options):{},a(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,A=o._initHooks.length;v<A;v++)o._initHooks[v].call(this)}},e},D.include=function(t){var e=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},D.mergeOptions=function(t){return a(this.prototype.options,t),this},D.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function ft(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=S(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e);else{t=f(t);for(var h=0,v=t.length;h<v;h++)this._on(t[h],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],e);else{t=f(t);for(var h=arguments.length===1,v=0,A=t.length;v<A;v++)h?this._off(t[v]):this._off(t[v],e,i)}return this},_on:function(t,e,i,o){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var h={fn:e,ctx:i};o&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,e,i){var o,h,v;if(this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(h=0,v=o.length;h<v;h++)o[h].fn=u;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var A=this._listens(t,e,i);if(A!==!1){var B=o[A];this._firingCount&&(B.fn=u,this._events[t]=o=o.slice()),o.splice(A,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=a({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var v=0,A=h.length;v<A;v++){var B=h[v],j=B.fn;B.once&&this.off(t,j,B.ctx),j.call(B.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,i,o){typeof t!="string"&&console.warn('"string" type argument expected');var h=e;typeof e!="function"&&(o=!!e,h=void 0,i=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,h,i)!==!1)return!0;if(o){for(var A in this._eventParents)if(this._eventParents[A].listens(t,e,i,o))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;i===this&&(i=void 0);for(var h=0,v=o.length;h<v;h++)if(o[h].fn===e&&o[h].ctx===i)return h;return!1},once:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e,!0);else{t=f(t);for(var h=0,v=t.length;h<v;h++)this._on(t[h],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[k(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[k(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var G=D.extend(Y);function J(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var ut=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(t){return this.clone()._add(tt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(tt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new J(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new J(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ut(this.x),this.y=ut(this.y),this},distanceTo:function(t){t=tt(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=tt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=tt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function tt(t,e,i){return t instanceof J?t:S(t)?new J(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new J(t.x,t.y):new J(t,e,i)}function _t(t,e){if(t)for(var i=e?[t,e]:t,o=0,h=i.length;o<h;o++)this.extend(i[o])}_t.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof J||typeof t[0]=="number"||"x"in t)e=i=tt(t);else if(t=Tt(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return tt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return tt(this.min.x,this.max.y)},getTopRight:function(){return tt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof J?t=tt(t):t=Tt(t),t instanceof _t?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Tt(t);var e=this.min,i=this.max,o=t.min,h=t.max,v=h.x>=e.x&&o.x<=i.x,A=h.y>=e.y&&o.y<=i.y;return v&&A},overlaps:function(t){t=Tt(t);var e=this.min,i=this.max,o=t.min,h=t.max,v=h.x>e.x&&o.x<i.x,A=h.y>e.y&&o.y<i.y;return v&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,o=Math.abs(e.x-i.x)*t,h=Math.abs(e.y-i.y)*t;return Tt(tt(e.x-o,e.y-h),tt(i.x+o,i.y+h))},equals:function(t){return t?(t=Tt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Tt(t,e){return!t||t instanceof _t?t:new _t(t,e)}function mt(t,e){if(t)for(var i=e?[t,e]:t,o=0,h=i.length;o<h;o++)this.extend(i[o])}mt.prototype={extend:function(t){var e=this._southWest,i=this._northEast,o,h;if(t instanceof it)o=t,h=t;else if(t instanceof mt){if(o=t._southWest,h=t._northEast,!o||!h)return this}else return t?this.extend(nt(t)||gt(t)):this;return!e&&!i?(this._southWest=new it(o.lat,o.lng),this._northEast=new it(h.lat,h.lng)):(e.lat=Math.min(o.lat,e.lat),e.lng=Math.min(o.lng,e.lng),i.lat=Math.max(h.lat,i.lat),i.lng=Math.max(h.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,h=Math.abs(e.lng-i.lng)*t;return new mt(new it(e.lat-o,e.lng-h),new it(i.lat+o,i.lng+h))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof it||"lat"in t?t=nt(t):t=gt(t);var e=this._southWest,i=this._northEast,o,h;return t instanceof mt?(o=t.getSouthWest(),h=t.getNorthEast()):o=h=t,o.lat>=e.lat&&h.lat<=i.lat&&o.lng>=e.lng&&h.lng<=i.lng},intersects:function(t){t=gt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>=e.lat&&o.lat<=i.lat,A=h.lng>=e.lng&&o.lng<=i.lng;return v&&A},overlaps:function(t){t=gt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>e.lat&&o.lat<i.lat,A=h.lng>e.lng&&o.lng<i.lng;return v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=gt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(t,e){return t instanceof mt?t:new mt(t,e)}function it(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}it.prototype={equals:function(t,e){if(!t)return!1;t=nt(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+w(this.lat,t)+", "+w(this.lng,t)+")"},distanceTo:function(t){return $t.distance(this,nt(t))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return gt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function nt(t,e,i){return t instanceof it?t:S(t)&&typeof t[0]!="object"?t.length===3?new it(t[0],t[1],t[2]):t.length===2?new it(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new it(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new it(t,e,i)}var Rt={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),o=this.transformation.transform(e.min,i),h=this.transformation.transform(e.max,i);return new _t(o,h)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?g(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?g(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new it(i,e,o)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,h=e.lng-i.lng;if(o===0&&h===0)return t;var v=t.getSouthWest(),A=t.getNorthEast(),B=new it(v.lat-o,v.lng-h),j=new it(A.lat-o,A.lng-h);return new mt(B,j)}},$t=a({},Rt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,h=e.lat*i,v=Math.sin((e.lat-t.lat)*i/2),A=Math.sin((e.lng-t.lng)*i/2),B=v*v+Math.cos(o)*Math.cos(h)*A*A,j=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*j}}),Ie=6378137,Be={R:Ie,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),h=Math.sin(o*e);return new J(this.R*t.lng*e,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var e=180/Math.PI;return new it((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Ie*Math.PI;return new _t([-t,-t],[t,t])}()};function Fe(t,e,i,o){if(S(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=o}Fe.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new J((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function ae(t,e,i,o){return new Fe(t,e,i,o)}var ue=a({},$t,{code:"EPSG:3857",projection:Be,transformation:function(){var t=.5/(Math.PI*Be.R);return ae(t,.5,-t,.5)}()}),Vi=a({},ue,{code:"EPSG:900913"});function hi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Re(t,e){var i="",o,h,v,A,B,j;for(o=0,v=t.length;o<v;o++){for(B=t[o],h=0,A=B.length;h<A;h++)j=B[h],i+=(h?"L":"M")+j.x+" "+j.y;i+=e?et.svg?"z":"x":""}return i||"M0 0"}var ne=document.documentElement.style,zt="ActiveXObject"in window,ze=zt&&!document.addEventListener,E="msLaunchUri"in navigator&&!("documentMode"in document),l=Wt("webkit"),d=Wt("android"),O=Wt("android 2")||Wt("android 3"),R=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),W=d&&Wt("Google")&&R<537&&!("AudioNode"in window),V=!!window.opera,ht=!E&&Wt("chrome"),pt=Wt("gecko")&&!l&&!V&&!zt,wt=!ht&&Wt("safari"),Ot=Wt("phantom"),vt="OTransition"in ne,ye=navigator.platform.indexOf("Win")===0,je=zt&&"transition"in ne,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!O,Gn="MozPerspective"in ne,Ns=!window.L_DISABLE_3D&&(je||ve||Gn)&&!vt&&!Ot,Ze=typeof orientation<"u"||Wt("mobile"),Is=Ze&&l,Bs=Ze&&ve,Xn=!window.PointerEvent&&window.MSPointerEvent,Jn=!!(window.PointerEvent||Xn),Kn="ontouchstart"in window||!!window.TouchEvent,Fs=!window.L_NO_TOUCH&&(Kn||Jn),Rs=Ze&&V,zs=Ze&&pt,js=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zs=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch{}return t}(),Us=function(){return!!document.createElement("canvas").getContext}(),Gi=!!(document.createElementNS&&hi("svg").createSVGRect),$s=!!Gi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qs=!Gi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Ds=navigator.platform.indexOf("Mac")===0,Hs=navigator.platform.indexOf("Linux")===0;function Wt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var et={ie:zt,ielt9:ze,edge:E,webkit:l,android:d,android23:O,androidStock:W,opera:V,chrome:ht,gecko:pt,safari:wt,phantom:Ot,opera12:vt,win:ye,ie3d:je,webkit3d:ve,gecko3d:Gn,any3d:Ns,mobile:Ze,mobileWebkit:Is,mobileWebkit3d:Bs,msPointer:Xn,pointer:Jn,touch:Fs,touchNative:Kn,mobileOpera:Rs,mobileGecko:zs,retina:js,passiveEvents:Zs,canvas:Us,svg:Gi,vml:qs,inlineSvg:$s,mac:Ds,linux:Hs},Yn=et.msPointer?"MSPointerDown":"pointerdown",Qn=et.msPointer?"MSPointerMove":"pointermove",tr=et.msPointer?"MSPointerUp":"pointerup",er=et.msPointer?"MSPointerCancel":"pointercancel",Xi={touchstart:Yn,touchmove:Qn,touchend:tr,touchcancel:er},ir={touchstart:Ks,touchmove:li,touchend:li,touchcancel:li},ke={},nr=!1;function Ws(t,e,i){return e==="touchstart"&&Js(),ir[e]?(i=ir[e].bind(this,i),t.addEventListener(Xi[e],i,!1),i):(console.warn("wrong event specified:",e),u)}function Vs(t,e,i){if(!Xi[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Xi[e],i,!1)}function Gs(t){ke[t.pointerId]=t}function Xs(t){ke[t.pointerId]&&(ke[t.pointerId]=t)}function rr(t){delete ke[t.pointerId]}function Js(){nr||(document.addEventListener(Yn,Gs,!0),document.addEventListener(Qn,Xs,!0),document.addEventListener(tr,rr,!0),document.addEventListener(er,rr,!0),nr=!0)}function li(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in ke)e.touches.push(ke[i]);e.changedTouches=[e],t(e)}}function Ks(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&St(e),li(t,e)}function Ys(t){var e={},i,o;for(o in t)i=t[o],e[o]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var Qs=200;function ta(t,e){t.addEventListener("dblclick",e);var i=0,o;function h(v){if(v.detail!==1){o=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var A=cr(v);if(!(A.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!A.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var B=Date.now();B-i<=Qs?(o++,o===2&&e(Ys(v))):o=1,i=B}}}return t.addEventListener("click",h),{dblclick:e,simDblclick:h}}function ea(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Ji=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ue=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),or=Ue==="webkitTransition"||Ue==="OTransition"?Ue+"End":"transitionend";function sr(t){return typeof t=="string"?document.getElementById(t):t}function $e(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return i==="auto"?null:i}function dt(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function kt(t){var e=t.parentNode;e&&e.removeChild(t)}function fi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function be(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function xe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Ki(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=di(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function at(t,e){if(t.classList!==void 0)for(var i=f(e),o=0,h=i.length;o<h;o++)t.classList.add(i[o]);else if(!Ki(t,e)){var v=di(t);Yi(t,(v?v+" ":"")+e)}}function bt(t,e){t.classList!==void 0?t.classList.remove(e):Yi(t,y((" "+di(t)+" ").replace(" "+e+" "," ")))}function Yi(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function di(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function jt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ia(t,e)}function ia(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function pi(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ce(t,e,i){var o=e||new J(0,0);t.style[Ji]=(et.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function xt(t,e){t._leaflet_pos=e,et.any3d?ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function he(t){return t._leaflet_pos||new J(0,0)}var qe,De,Qi;if("onselectstart"in document)qe=function(){ot(window,"selectstart",St)},De=function(){yt(window,"selectstart",St)};else{var He=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qe=function(){if(He){var t=document.documentElement.style;Qi=t[He],t[He]="none"}},De=function(){He&&(document.documentElement.style[He]=Qi,Qi=void 0)}}function tn(){ot(window,"dragstart",St)}function en(){yt(window,"dragstart",St)}var mi,nn;function rn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(_i(),mi=t,nn=t.style.outlineStyle,t.style.outlineStyle="none",ot(window,"keydown",_i))}function _i(){mi&&(mi.style.outlineStyle=nn,mi=void 0,nn=void 0,yt(window,"keydown",_i))}function ar(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function on(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var na={__proto__:null,TRANSFORM:Ji,TRANSITION:Ue,TRANSITION_END:or,get:sr,getStyle:$e,create:dt,remove:kt,empty:fi,toFront:be,toBack:xe,hasClass:Ki,addClass:at,removeClass:bt,setClass:Yi,getClass:di,setOpacity:jt,testProp:pi,setTransform:ce,setPosition:xt,getPosition:he,get disableTextSelection(){return qe},get enableTextSelection(){return De},disableImageDrag:tn,enableImageDrag:en,preventOutline:rn,restoreOutline:_i,getSizedParentNode:ar,getScale:on};function ot(t,e,i,o){if(e&&typeof e=="object")for(var h in e)an(t,h,e[h],i);else{e=f(e);for(var v=0,A=e.length;v<A;v++)an(t,e[v],i,o)}return this}var Vt="_leaflet_events";function yt(t,e,i,o){if(arguments.length===1)ur(t),delete t[Vt];else if(e&&typeof e=="object")for(var h in e)un(t,h,e[h],i);else if(e=f(e),arguments.length===2)ur(t,function(B){return I(e,B)!==-1});else for(var v=0,A=e.length;v<A;v++)un(t,e[v],i,o);return this}function ur(t,e){for(var i in t[Vt]){var o=i.split(/\d/)[0];(!e||e(o))&&un(t,o,null,null,i)}}var sn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function an(t,e,i,o){var h=e+k(i)+(o?"_"+k(o):"");if(t[Vt]&&t[Vt][h])return this;var v=function(B){return i.call(o||t,B||window.event)},A=v;!et.touchNative&&et.pointer&&e.indexOf("touch")===0?v=Ws(t,e,v):et.touch&&e==="dblclick"?v=ta(t,v):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(sn[e]||e,v,et.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(v=function(B){B=B||window.event,hn(t,B)&&A(B)},t.addEventListener(sn[e],v,!1)):t.addEventListener(e,A,!1):t.attachEvent("on"+e,v),t[Vt]=t[Vt]||{},t[Vt][h]=v}function un(t,e,i,o,h){h=h||e+k(i)+(o?"_"+k(o):"");var v=t[Vt]&&t[Vt][h];if(!v)return this;!et.touchNative&&et.pointer&&e.indexOf("touch")===0?Vs(t,e,v):et.touch&&e==="dblclick"?ea(t,v):"removeEventListener"in t?t.removeEventListener(sn[e]||e,v,!1):t.detachEvent("on"+e,v),t[Vt][h]=null}function le(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function cn(t){return an(t,"wheel",le),this}function We(t){return ot(t,"mousedown touchstart dblclick contextmenu",le),t._leaflet_disable_click=!0,this}function St(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function fe(t){return St(t),le(t),this}function cr(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function hr(t,e){if(!e)return new J(t.clientX,t.clientY);var i=on(e),o=i.boundingClientRect;return new J((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var ra=et.linux&&et.chrome?window.devicePixelRatio:et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lr(t){return et.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ra:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function hn(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var oa={__proto__:null,on:ot,off:yt,stopPropagation:le,disableScrollPropagation:cn,disableClickPropagation:We,preventDefault:St,stop:fe,getPropagationPath:cr,getMousePosition:hr,getWheelDelta:lr,isExternalTarget:hn,addListener:ot,removeListener:yt},fr=G.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=he(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),xt(this._el,i),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),lt=G.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=_(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(nt(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ue&&et.any3d&&!et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,or,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(nt(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=a({animate:i.animate},i.zoom),i.pan=a({animate:i.animate,duration:i.duration},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),h=this.getSize().divideBy(2),v=t instanceof J?t:this.latLngToContainerPoint(t),A=v.subtract(h).multiplyBy(1-1/o),B=this.containerPointToLatLng(h.add(A));return this.setView(B,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():gt(t);var i=tt(e.paddingTopLeft||e.padding||[0,0]),o=tt(e.paddingBottomRight||e.padding||[0,0]),h=this.getBoundsZoom(t,!1,i.add(o));if(h=typeof e.maxZoom=="number"?Math.min(e.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var v=o.subtract(i).divideBy(2),A=this.project(t.getSouthWest(),h),B=this.project(t.getNorthEast(),h),j=this.unproject(A.add(B).divideBy(2).add(v),h);return{center:j,zoom:h}},fitBounds:function(t,e){if(t=gt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=tt(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){at(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!et.any3d)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),h=this.project(t),v=this.getSize(),A=this._zoom;t=nt(t),e=e===void 0?A:e;var B=Math.max(v.x,v.y),j=B*this.getZoomScale(A,e),$=h.distanceTo(o)||1,Q=1.42,rt=Q*Q;function ct(Pt){var Li=Pt?-1:1,Va=Pt?j:B,Ga=j*j-B*B+Li*rt*rt*$*$,Xa=2*Va*rt*$,kn=Ga/Xa,Wr=Math.sqrt(kn*kn+1)-kn,Ja=Wr<1e-9?-18:Math.log(Wr);return Ja}function Mt(Pt){return(Math.exp(Pt)-Math.exp(-Pt))/2}function Lt(Pt){return(Math.exp(Pt)+Math.exp(-Pt))/2}function Ut(Pt){return Mt(Pt)/Lt(Pt)}var Nt=ct(0);function Se(Pt){return B*(Lt(Nt)/Lt(Nt+Q*Pt))}function qa(Pt){return B*(Lt(Nt)*Ut(Nt+Q*Pt)-Mt(Nt))/rt}function Da(Pt){return 1-Math.pow(1-Pt,1.5)}var Ha=Date.now(),Dr=(ct(1)-Nt)/Q,Wa=i.duration?1e3*i.duration:1e3*Dr*.8;function Hr(){var Pt=(Date.now()-Ha)/Wa,Li=Da(Pt)*Dr;Pt<=1?(this._flyToFrame=N(Hr,this),this._move(this.unproject(o.add(h.subtract(o).multiplyBy(qa(Li)/$)),A),this.getScaleZoom(B/Se(Li),A),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Hr.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=gt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,gt(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=tt(e.paddingTopLeft||e.padding||[0,0]),o=tt(e.paddingBottomRight||e.padding||[0,0]),h=this.project(this.getCenter()),v=this.project(t),A=this.getPixelBounds(),B=Tt([A.min.add(i),A.max.subtract(o)]),j=B.getSize();if(!B.contains(v)){this._enforcingBounds=!0;var $=v.subtract(B.getCenter()),Q=B.extend(v).getSize().subtract(j);h.x+=$.x<0?-Q.x:Q.x,h.y+=$.y<0?-Q.y:Q.y,this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),h=i.divideBy(2).round(),v=o.subtract(h);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=m(this._handleGeolocationResponse,this),i=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,o=new it(e,i),h=o.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var A=this.getBoundsZoom(h);this.setView(o,v.maxZoom?Math.min(A,v.maxZoom):A)}var B={latlng:o,bounds:h,timestamp:t.timestamp};for(var j in t.coords)typeof t.coords[j]=="number"&&(B[j]=t.coords[j]);this.fire("locationfound",B)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)kt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=dt("div",i,e||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new mt(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=gt(t),i=tt(i||[0,0]);var o=this.getZoom()||0,h=this.getMinZoom(),v=this.getMaxZoom(),A=t.getNorthWest(),B=t.getSouthEast(),j=this.getSize().subtract(i),$=Tt(this.project(B,o),this.project(A,o)).getSize(),Q=et.any3d?this.options.zoomSnap:1,rt=j.x/$.x,ct=j.y/$.y,Mt=e?Math.max(rt,ct):Math.min(rt,ct);return o=this.getScaleZoom(Mt,o),Q&&(o=Math.round(o/(Q/100))*(Q/100),o=e?Math.ceil(o/Q)*Q:Math.floor(o/Q)*Q),Math.max(h,Math.min(v,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new _t(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(nt(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(tt(t),e)},layerPointToLatLng:function(t){var e=tt(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(nt(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(nt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(gt(t))},distance:function(t,e){return this.options.crs.distance(nt(t),nt(e))},containerPointToLayerPoint:function(t){return tt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return tt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(tt(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(t)))},mouseEventToContainerPoint:function(t){return hr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=sr(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(e,"scroll",this._onScroll,this),this._containerId=k(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&et.any3d,at(t,"leaflet-container"+(et.touch?" leaflet-touch":"")+(et.retina?" leaflet-retina":"")+(et.ielt9?" leaflet-oldie":"")+(et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=$e(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(at(t.markerPane,"leaflet-zoom-hide"),at(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){xt(this._mapPane,new J(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var h=this._zoom!==e;this._moveStart(h,i)._move(t,e)._moveEnd(h),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,o){e===void 0&&(e=this._zoom);var h=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?i&&i.pinch&&this.fire("zoom",i):((h||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){xt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[k(this._container)]=this;var e=t?yt:ot;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),et.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],o,h=e==="mouseout"||e==="mouseover",v=t.target||t.srcElement,A=!1;v;){if(o=this._targets[k(v)],o&&(e==="click"||e==="preclick")&&this._draggableMoved(o)){A=!0;break}if(o&&o.listens(e,!0)&&(h&&!hn(v,t)||(i.push(o),h))||v===this._container)break;v=v.parentNode}return!i.length&&!A&&!h&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&rn(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var o=a({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var h=this._findEventTargets(t,e);if(i){for(var v=[],A=0;A<i.length;A++)i[A].listens(e,!0)&&v.push(i[A]);h=v.concat(h)}if(h.length){e==="contextmenu"&&St(t);var B=h[0],j={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var $=B.getLatLng&&(!B._radius||B._radius<=10);j.containerPoint=$?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(t),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=$?B.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(A=0;A<h.length;A++)if(h[A].fire(e,j,!0),j.originalEvent._stopped||h[A].options.bubblingMouseEvents===!1&&I(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return he(this._mapPane)||new J(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return Tt([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),h=this.getSize().divideBy(2),v=new _t(o.subtract(h),o.add(h)),A=this._getBoundsOffset(v,i,e);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?t:this.unproject(o.add(A),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new _t(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=Tt(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),h=o.min.subtract(t.min),v=o.max.subtract(t.max),A=this._rebound(h.x,-v.x),B=this._rebound(h.y,-v.y);return new J(A,B)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=et.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=Ji,o=this._proxy.style[i];ce(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),o===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),h=this._getCenterOffset(t)._divideBy(1-1/o);return i.animate!==!0&&!this.getSize().contains(h)?!1:(N(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,at(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sa(t,e){return new lt(t,e)}var qt=D.extend({options:{position:"topright"},initialize:function(t){_(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return at(e,"leaflet-control"),i.indexOf("bottom")!==-1?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new qt(t)};lt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=dt("div",e+"control-container",this._container);function o(h,v){var A=e+h+" "+e+v;t[h+v]=dt("div",A,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)kt(this._controlCorners[t]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dr=qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){_(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return qt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(k(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){at(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(at(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=dt("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),We(e),cn(e);var o=this._section=dt("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ot(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=dt("a",t+"-toggle",e);h.href="#",h.title="Layers",h.setAttribute("role","button"),ot(h,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){St(v),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=dt("div",t+"-base",o),this._separator=dt("div",t+"-separator",o),this._overlaysList=dt("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&k(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(m(function(o,h){return this.options.sortFunction(o.layer,h.layer,o.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fi(this._baseLayersList),fi(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,h=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,h+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(k(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=i):o=this._createRadioElement("leaflet-base-layers_"+k(this),i),this._layerControlInputs.push(o),o.layerId=k(t.layer),ot(o,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var v=document.createElement("span");e.appendChild(v),v.appendChild(o),v.appendChild(h);var A=t.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,o=[],h=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)e=t[v],i=this._getLayer(e.layerId).layer,e.checked?o.push(i):e.checked||h.push(i);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])&&this._map.removeLayer(h[v]);for(v=0;v<o.length;v++)this._map.hasLayer(o[v])||this._map.addLayer(o[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,o=this._map.getZoom(),h=t.length-1;h>=0;h--)e=t[h],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&o<i.options.minZoom||i.options.maxZoom!==void 0&&o>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ot(t,"click",St),this.expand();var e=this;setTimeout(function(){yt(t,"click",St),e._preventClick=!1})}}),aa=function(t,e,i){return new dr(t,e,i)},ln=qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=dt("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,h){var v=dt("a",i,o);return v.innerHTML=t,v.href="#",v.title=e,v.setAttribute("role","button"),v.setAttribute("aria-label",e),We(v),ot(v,"click",fe),ot(v,"click",h,this),ot(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";bt(this._zoomInButton,e),bt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(at(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(at(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ln,this.addControl(this.zoomControl))});var ua=function(t){return new ln(t)},pr=qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=dt("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=dt("div",e,i)),t.imperial&&(this._iScale=dt("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,o,h;e>5280?(i=e/5280,o=this._getRoundNum(i),this._updateScale(this._iScale,o+" mi",o/i)):(h=this._getRoundNum(e),this._updateScale(this._iScale,h+" ft",h/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),ca=function(t){return new pr(t)},ha='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(et.inlineSvg?ha+" ":"")+"Leaflet</a>"},initialize:function(t){_(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),We(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&new fn().addTo(this)});var la=function(t){return new fn(t)};qt.Layers=dr,qt.Zoom=ln,qt.Scale=pr,qt.Attribution=fn,Ve.layers=aa,Ve.zoom=ua,Ve.scale=ca,Ve.attribution=la;var Gt=D.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(t,e){return t.addHandler(e,this),this};var fa={Events:Y},mr=et.touch?"touchstart mousedown":"mousedown",re=G.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){_(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ot(this._dragStartTarget,mr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(re._dragging===this&&this.finishDrag(!0),yt(this._dragStartTarget,mr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ki(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){re._dragging===this&&this.finishDrag();return}if(!(re._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(re._dragging=this,this._preventOutline&&rn(this._element),tn(),qe(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=ar(this._element);this._startPoint=new J(e.clientX,e.clientY),this._startPos=he(this._element),this._parentScale=on(i);var o=t.type==="mousedown";ot(document,o?"mousemove":"touchmove",this._onMove,this),ot(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new J(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,St(t),this._moved||(this.fire("dragstart"),this._moved=!0,at(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),at(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),xt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yt(document,"mousemove touchmove",this._onMove,this),yt(document,"mouseup touchend touchcancel",this._onUp,this),en(),De();var e=this._moved&&this._moving;this._moving=!1,re._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function _r(t,e,i){var o,h=[1,4,2,8],v,A,B,j,$,Q,rt,ct;for(v=0,Q=t.length;v<Q;v++)t[v]._code=de(t[v],e);for(B=0;B<4;B++){for(rt=h[B],o=[],v=0,Q=t.length,A=Q-1;v<Q;A=v++)j=t[v],$=t[A],j._code&rt?$._code&rt||(ct=gi($,j,rt,e,i),ct._code=de(ct,e),o.push(ct)):($._code&rt&&(ct=gi($,j,rt,e,i),ct._code=de(ct,e),o.push(ct)),o.push(j));t=o}return t}function gr(t,e){var i,o,h,v,A,B,j,$,Q;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var rt=nt([0,0]),ct=gt(t),Mt=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());Mt<1700&&(rt=dn(t));var Lt=t.length,Ut=[];for(i=0;i<Lt;i++){var Nt=nt(t[i]);Ut.push(e.project(nt([Nt.lat-rt.lat,Nt.lng-rt.lng])))}for(B=j=$=0,i=0,o=Lt-1;i<Lt;o=i++)h=Ut[i],v=Ut[o],A=h.y*v.x-v.y*h.x,j+=(h.x+v.x)*A,$+=(h.y+v.y)*A,B+=A*3;B===0?Q=Ut[0]:Q=[j/B,$/B];var Se=e.unproject(tt(Q));return nt([Se.lat+rt.lat,Se.lng+rt.lng])}function dn(t){for(var e=0,i=0,o=0,h=0;h<t.length;h++){var v=nt(t[h]);e+=v.lat,i+=v.lng,o++}return nt([e/o,i/o])}var da={__proto__:null,clipPolygon:_r,polygonCenter:gr,centroid:dn};function wr(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=_a(t,i),t=ma(t,i),t}function yr(t,e,i){return Math.sqrt(Ge(t,e,i,!0))}function pa(t,e,i){return Ge(t,e,i)}function ma(t,e){var i=t.length,o=typeof Uint8Array<"u"?Uint8Array:Array,h=new o(i);h[0]=h[i-1]=1,pn(t,h,e,0,i-1);var v,A=[];for(v=0;v<i;v++)h[v]&&A.push(t[v]);return A}function pn(t,e,i,o,h){var v=0,A,B,j;for(B=o+1;B<=h-1;B++)j=Ge(t[B],t[o],t[h],!0),j>v&&(A=B,v=j);v>i&&(e[A]=1,pn(t,e,i,o,A),pn(t,e,i,A,h))}function _a(t,e){for(var i=[t[0]],o=1,h=0,v=t.length;o<v;o++)ga(t[o],t[h])>e&&(i.push(t[o]),h=o);return h<v-1&&i.push(t[v-1]),i}var vr;function kr(t,e,i,o,h){var v=o?vr:de(t,i),A=de(e,i),B,j,$;for(vr=A;;){if(!(v|A))return[t,e];if(v&A)return!1;B=v||A,j=gi(t,e,B,i,h),$=de(j,i),B===v?(t=j,v=$):(e=j,A=$)}}function gi(t,e,i,o,h){var v=e.x-t.x,A=e.y-t.y,B=o.min,j=o.max,$,Q;return i&8?($=t.x+v*(j.y-t.y)/A,Q=j.y):i&4?($=t.x+v*(B.y-t.y)/A,Q=B.y):i&2?($=j.x,Q=t.y+A*(j.x-t.x)/v):i&1&&($=B.x,Q=t.y+A*(B.x-t.x)/v),new J($,Q,h)}function de(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ga(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function Ge(t,e,i,o){var h=e.x,v=e.y,A=i.x-h,B=i.y-v,j=A*A+B*B,$;return j>0&&($=((t.x-h)*A+(t.y-v)*B)/j,$>1?(h=i.x,v=i.y):$>0&&(h+=A*$,v+=B*$)),A=t.x-h,B=t.y-v,o?A*A+B*B:new J(h,v)}function Zt(t){return!S(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function br(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(t)}function xr(t,e){var i,o,h,v,A,B,j,$;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Q=nt([0,0]),rt=gt(t),ct=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());ct<1700&&(Q=dn(t));var Mt=t.length,Lt=[];for(i=0;i<Mt;i++){var Ut=nt(t[i]);Lt.push(e.project(nt([Ut.lat-Q.lat,Ut.lng-Q.lng])))}for(i=0,o=0;i<Mt-1;i++)o+=Lt[i].distanceTo(Lt[i+1])/2;if(o===0)$=Lt[0];else for(i=0,v=0;i<Mt-1;i++)if(A=Lt[i],B=Lt[i+1],h=A.distanceTo(B),v+=h,v>o){j=(v-o)/h,$=[B.x-j*(B.x-A.x),B.y-j*(B.y-A.y)];break}var Nt=e.unproject(tt($));return nt([Nt.lat+Q.lat,Nt.lng+Q.lng])}var wa={__proto__:null,simplify:wr,pointToSegmentDistance:yr,closestPointOnSegment:pa,clipSegment:kr,_getEdgeIntersection:gi,_getBitCode:de,_sqClosestPointOnSegment:Ge,isFlat:Zt,_flat:br,polylineCenter:xr},mn={project:function(t){return new J(t.lng,t.lat)},unproject:function(t){return new it(t.y,t.x)},bounds:new _t([-180,-90],[180,90])},_n={R:6378137,R_MINOR:6356752314245179e-9,bounds:new _t([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,h=this.R_MINOR/i,v=Math.sqrt(1-h*h),A=v*Math.sin(o),B=Math.tan(Math.PI/4-o/2)/Math.pow((1-A)/(1+A),v/2);return o=-i*Math.log(Math.max(B,1e-10)),new J(t.lng*e*i,o)},unproject:function(t){for(var e=180/Math.PI,i=this.R,o=this.R_MINOR/i,h=Math.sqrt(1-o*o),v=Math.exp(-t.y/i),A=Math.PI/2-2*Math.atan(v),B=0,j=.1,$;B<15&&Math.abs(j)>1e-7;B++)$=h*Math.sin(A),$=Math.pow((1-$)/(1+$),h/2),j=Math.PI/2-2*Math.atan(v*$)-A,A+=j;return new it(A*e,t.x*e/i)}},ya={__proto__:null,LonLat:mn,Mercator:_n,SphericalMercator:Be},va=a({},$t,{code:"EPSG:3395",projection:_n,transformation:function(){var t=.5/(Math.PI*_n.R);return ae(t,.5,-t,.5)}()}),Pr=a({},$t,{code:"EPSG:4326",projection:mn,transformation:ae(1/180,1,-1/180,.5)}),ka=a({},Rt,{projection:mn,transformation:ae(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});Rt.Earth=$t,Rt.EPSG3395=va,Rt.EPSG3857=ue,Rt.EPSG900913=Vi,Rt.EPSG4326=Pr,Rt.Simple=ka;var Dt=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[k(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[k(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=k(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=k(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return k(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?S(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[k(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=k(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var h=this._zoomBoundLayers[o].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),e=h.maxZoom===void 0?e:Math.max(e,h.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pe=Dt.extend({initialize:function(t,e){_(this,e),this._layers={};var i,o;if(t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,o;for(i in this._layers)o=this._layers[i],o[t]&&o[t].apply(o,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return k(t)}}),ba=function(t,e){return new Pe(t,e)},Yt=Pe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Pe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Pe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new mt;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),xa=function(t,e){return new Yt(t,e)},Ee=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){_(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];typeof o=="number"&&(o=[o,o]);var h=tt(o),v=tt(e==="shadow"&&i.shadowAnchor||i.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return et.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Pa(t){return new Ee(t)}var Xe=Ee.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Xe.imagePath!="string"&&(Xe.imagePath=this._detectIconPath()),(this.options.imagePath||Xe.imagePath)+Ee.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,o,h){var v=o.exec(i);return v&&v[h]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=dt("div","leaflet-default-icon-path",document.body),e=$e(t,"background-image")||$e(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Er=Gt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new re(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),at(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,v=he(e._icon),A=i.getPixelBounds(),B=i.getPixelOrigin(),j=Tt(A.min._subtract(B).add(h),A.max._subtract(B).subtract(h));if(!j.contains(v)){var $=tt((Math.max(j.max.x,v.x)-j.max.x)/(A.max.x-j.max.x)-(Math.min(j.min.x,v.x)-j.min.x)/(A.min.x-j.min.x),(Math.max(j.max.y,v.y)-j.max.y)/(A.max.y-j.max.y)-(Math.min(j.min.y,v.y)-j.min.y)/(A.min.y-j.min.y)).multiplyBy(o);i.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),xt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=N(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=he(e._icon),h=e._map.layerPointToLatLng(o);i&&xt(i,o),e._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),wi=Dt.extend({options:{icon:new Xe,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){_(this,e),this._latlng=nt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),at(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(i,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),v=!1;h!==this._shadow&&(this._removeShadow(),v=!0),h&&(at(h,e),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&xt(this._icon,t),this._shadow&&xt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(at(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Er)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Er(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&jt(this._icon,t),this._shadow&&jt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?tt(e.iconSize):tt(0,0),o=e.iconAnchor?tt(e.iconAnchor):tt(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:i.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ea(t,e){return new wi(t,e)}var oe=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return _(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yi=oe.extend({options:{fill:!0,radius:10},initialize:function(t,e){_(this,e),this._latlng=nt(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return oe.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new _t(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ta(t,e){return new yi(t,e)}var gn=yi.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=a({},i,{radius:e})),_(this,e),this._latlng=nt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:oe.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===$t.distance){var h=Math.PI/180,v=this._mRadius/$t.R/h,A=i.project([e+v,t]),B=i.project([e-v,t]),j=A.add(B).divideBy(2),$=i.unproject(j).lat,Q=Math.acos((Math.cos(v*h)-Math.sin(e*h)*Math.sin($*h))/(Math.cos(e*h)*Math.cos($*h)))/h;(isNaN(Q)||Q===0)&&(Q=v/Math.cos(Math.PI/180*e)),this._point=j.subtract(i.getPixelOrigin()),this._radius=isNaN(Q)?0:j.x-i.project([$,t-Q]).x,this._radiusY=j.y-A.y}else{var rt=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(rt).x}this._updateBounds()}});function Oa(t,e,i){return new gn(t,e,i)}var Qt=oe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){_(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,o=Ge,h,v,A=0,B=this._parts.length;A<B;A++)for(var j=this._parts[A],$=1,Q=j.length;$<Q;$++){h=j[$-1],v=j[$];var rt=o(t,h,v,!0);rt<e&&(e=rt,i=o(t,h,v))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=nt(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new mt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Zt(t),o=0,h=t.length;o<h;o++)i?(e[o]=nt(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new _t;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new J(t,t);this._rawPxBounds&&(this._pxBounds=new _t([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var o=t[0]instanceof it,h=t.length,v,A;if(o){for(A=[],v=0;v<h;v++)A[v]=this._map.latLngToLayerPoint(t[v]),i.extend(A[v]);e.push(A)}else for(v=0;v<h;v++)this._projectLatlngs(t[v],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,o,h,v,A,B,j;for(i=0,h=0,v=this._rings.length;i<v;i++)for(j=this._rings[i],o=0,A=j.length;o<A-1;o++)B=kr(j[o],j[o+1],t,o,!0),B&&(e[h]=e[h]||[],e[h].push(B[0]),(B[1]!==j[o+1]||o===A-2)&&(e[h].push(B[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=wr(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,h,v,A,B,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,v=this._parts.length;i<v;i++)for(B=this._parts[i],o=0,A=B.length,h=A-1;o<A;h=o++)if(!(!e&&o===0)&&yr(t,B[h],B[o])<=j)return!0;return!1}});function La(t,e){return new Qt(t,e)}Qt._flat=br;var Te=Qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Qt.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof it&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Qt.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new J(e,e);if(t=new _t(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,h=this._rings.length,v;o<h;o++)v=_r(this._rings[o],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,o,h,v,A,B,j,$;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,j=this._parts.length;v<j;v++)for(i=this._parts[v],A=0,$=i.length,B=$-1;A<$;B=A++)o=i[A],h=i[B],o.y>t.y!=h.y>t.y&&t.x<(h.x-o.x)*(t.y-o.y)/(h.y-o.y)+o.x&&(e=!e);return e||Qt.prototype._containsPoint.call(this,t,!0)}});function Sa(t,e){return new Te(t,e)}var te=Yt.extend({initialize:function(t,e){_(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=S(t)?t:t.features,i,o,h;if(e){for(i=0,o=e.length;i<o;i++)h=e[i],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var A=vi(t,v);return A?(A.feature=xi(t),A.defaultOptions=A.options,this.resetStyle(A),v.onEachFeature&&v.onEachFeature(t,A),this.addLayer(A)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function vi(t,e){var i=t.type==="Feature"?t.geometry:t,o=i?i.coordinates:null,h=[],v=e&&e.pointToLayer,A=e&&e.coordsToLatLng||wn,B,j,$,Q;if(!o&&!i)return null;switch(i.type){case"Point":return B=A(o),Tr(v,t,B,e);case"MultiPoint":for($=0,Q=o.length;$<Q;$++)B=A(o[$]),h.push(Tr(v,t,B,e));return new Yt(h);case"LineString":case"MultiLineString":return j=ki(o,i.type==="LineString"?0:1,A),new Qt(j,e);case"Polygon":case"MultiPolygon":return j=ki(o,i.type==="Polygon"?1:2,A),new Te(j,e);case"GeometryCollection":for($=0,Q=i.geometries.length;$<Q;$++){var rt=vi({geometry:i.geometries[$],type:"Feature",properties:t.properties},e);rt&&h.push(rt)}return new Yt(h);case"FeatureCollection":for($=0,Q=i.features.length;$<Q;$++){var ct=vi(i.features[$],e);ct&&h.push(ct)}return new Yt(h);default:throw new Error("Invalid GeoJSON object.")}}function Tr(t,e,i,o){return t?t(e,i):new wi(i,o&&o.markersInheritOptions&&o)}function wn(t){return new it(t[1],t[0],t[2])}function ki(t,e,i){for(var o=[],h=0,v=t.length,A;h<v;h++)A=e?ki(t[h],e-1,i):(i||wn)(t[h]),o.push(A);return o}function yn(t,e){return t=nt(t),t.alt!==void 0?[w(t.lng,e),w(t.lat,e),w(t.alt,e)]:[w(t.lng,e),w(t.lat,e)]}function bi(t,e,i,o){for(var h=[],v=0,A=t.length;v<A;v++)h.push(e?bi(t[v],Zt(t[v])?0:e-1,i,o):yn(t[v],o));return!e&&i&&h.length>0&&h.push(h[0].slice()),h}function Oe(t,e){return t.feature?a({},t.feature,{geometry:e}):xi(e)}function xi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var vn={toGeoJSON:function(t){return Oe(this,{type:"Point",coordinates:yn(this.getLatLng(),t)})}};wi.include(vn),gn.include(vn),yi.include(vn),Qt.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),i=bi(this._latlngs,e?1:0,!1,t);return Oe(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Te.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),i=e&&!Zt(this._latlngs[0]),o=bi(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),Oe(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Pe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Oe(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",o=[];return this.eachLayer(function(h){if(h.toGeoJSON){var v=h.toGeoJSON(t);if(i)o.push(v.geometry);else{var A=xi(v);A.type==="FeatureCollection"?o.push.apply(o,A.features):o.push(A)}}}),i?Oe(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function Or(t,e){return new te(t,e)}var Ca=Or,Pi=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=gt(e),_(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(at(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&be(this._image),this},bringToBack:function(){return this._map&&xe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=gt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:dt("img");if(at(e,"leaflet-image-layer"),this._zoomAnimated&&at(e,"leaflet-zoom-animated"),this.options.className&&at(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=m(this.fire,this,"load"),e.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ce(this._image,i,e)},_reset:function(){var t=this._image,e=new _t(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();xt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Aa=function(t,e,i){return new Pi(t,e,i)},Lr=Pi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:dt("video");if(at(e,"leaflet-image-layer"),this._zoomAnimated&&at(e,"leaflet-zoom-animated"),this.options.className&&at(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=m(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],h=0;h<i.length;h++)o.push(i[h].src);this._url=i.length>0?o:[e.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var A=dt("source");A.src=this._url[v],e.appendChild(A)}}});function Ma(t,e,i){return new Lr(t,e,i)}var Sr=Pi.extend({_initImage:function(){var t=this._image=this._url;at(t,"leaflet-image-layer"),this._zoomAnimated&&at(t,"leaflet-zoom-animated"),this.options.className&&at(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Na(t,e,i){return new Sr(t,e,i)}var Xt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof it||S(t))?(this._latlng=nt(t),_(this,e)):(_(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(m(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=nt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&be(this._container),this},bringToBack:function(){return this._map&&xe(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Yt){e=null;var i=this._source._layers;for(var o in i)if(i[o]._map){e=i[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=tt(this.options.offset),i=this._getAnchor();this._zoomAnimated?xt(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(t,e,i,o){var h=e;return h instanceof t||(h=new t(o).setContent(e)),i&&h.setLatLng(i),h}}),Dt.include({_initOverlay:function(t,e,i,o){var h=i;return h instanceof t?(_(h,o),h._source=this):(h=e&&!o?e:new t(o,this),h.setContent(i)),h}});var Ei=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Xt.prototype.openOn.call(this,t)},onAdd:function(t){Xt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oe||this._source.on("preclick",le))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oe||this._source.off("preclick",le))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=dt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=dt("div",t+"-content-wrapper",e);if(this._contentNode=dt("div",t+"-content",i),We(e),cn(this._contentNode),ot(e,"contextmenu",le),this._tipContainer=dt("div",t+"-tip-container",e),this._tip=dt("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=dt("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',ot(o,"click",function(h){St(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,h=this.options.maxHeight,v="leaflet-popup-scrolled";h&&o>h?(e.height=h+"px",at(t,v)):bt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();xt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt($e(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,h=new J(this._containerLeft,-i-this._containerBottom);h._add(he(this._container));var v=t.layerPointToContainerPoint(h),A=tt(this.options.autoPanPadding),B=tt(this.options.autoPanPaddingTopLeft||A),j=tt(this.options.autoPanPaddingBottomRight||A),$=t.getSize(),Q=0,rt=0;v.x+o+j.x>$.x&&(Q=v.x+o-$.x+j.x),v.x-Q-B.x<0&&(Q=v.x-B.x),v.y+i+j.y>$.y&&(rt=v.y+i-$.y+j.y),v.y-rt-B.y<0&&(rt=v.y-B.y),(Q||rt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Q,rt]))}},_getAnchor:function(){return tt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ia=function(t,e){return new Ei(t,e)};lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(t,e,i){return this._initOverlay(Ei,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Dt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ei,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){fe(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof oe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ti=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Xt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,h=this._container,v=o.latLngToContainerPoint(o.getCenter()),A=o.layerPointToContainerPoint(t),B=this.options.direction,j=h.offsetWidth,$=h.offsetHeight,Q=tt(this.options.offset),rt=this._getAnchor();B==="top"?(e=j/2,i=$):B==="bottom"?(e=j/2,i=0):B==="center"?(e=j/2,i=$/2):B==="right"?(e=0,i=$/2):B==="left"?(e=j,i=$/2):A.x<v.x?(B="right",e=0,i=$/2):(B="left",e=j+(Q.x+rt.x)*2,i=$/2),t=t.subtract(tt(e,i,!0)).add(Q).add(rt),bt(h,"leaflet-tooltip-right"),bt(h,"leaflet-tooltip-left"),bt(h,"leaflet-tooltip-top"),bt(h,"leaflet-tooltip-bottom"),at(h,"leaflet-tooltip-"+B),xt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&jt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return tt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ba=function(t,e){return new Ti(t,e)};lt.include({openTooltip:function(t,e,i){return this._initOverlay(Ti,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Dt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ti,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(ot(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ot(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,o;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(e)}});var Cr=Ee.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(fi(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var o=tt(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Fa(t){return new Cr(t)}Ee.Default=Xe;var Je=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){_(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),kt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(be(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof J?t:new J(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),o=0,h=e.length,v;o<h;o++)v=e[o].style.zIndex,e[o]!==this._container&&v&&(i=t(i,+v));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et.ielt9){jt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var h=this._tiles[o];if(!(!h.current||!h.loaded)){var v=Math.min(1,(t-h.loaded)/200);jt(h.el,v),v<1?e=!0:(h.active?i=!0:this._onOpaqueTile(h),h.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(X(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(kt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],h=this._map;return o||(o=this._levels[t]={},o.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,h.getCenter(),h.getZoom()),u(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)kt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var h=Math.floor(t/2),v=Math.floor(e/2),A=i-1,B=new J(+h,+v);B.z=+A;var j=this._tileCoordsToKey(B),$=this._tiles[j];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),A>o?this._retainParent(h,v,A,o):!1)},_retainChildren:function(t,e,i,o){for(var h=2*t;h<2*t+2;h++)for(var v=2*e;v<2*e+2;v++){var A=new J(h,v);A.z=i+1;var B=this._tileCoordsToKey(A),j=this._tiles[B];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);i+1<o&&this._retainChildren(h,v,i+1,o)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var h=Math.round(e);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var v=this.options.updateWhenZooming&&h!==this._tileZoom;(!o||v)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),h=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();et.any3d?ce(t.el,h,o):xt(t.el,h)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),h=e.project(t,this._tileZoom).floor(),v=e.getSize().divideBy(o*2);return new _t(h.subtract(v),h.add(v))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(o),v=h.getCenter(),A=[],B=this.options.keepBuffer,j=new _t(h.getBottomLeft().subtract([B,-B]),h.getTopRight().add([B,-B]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var Q=this._tiles[$].coords;(Q.z!==this._tileZoom||!j.contains(new J(Q.x,Q.y)))&&(this._tiles[$].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var rt=h.min.y;rt<=h.max.y;rt++)for(var ct=h.min.x;ct<=h.max.x;ct++){var Mt=new J(ct,rt);if(Mt.z=this._tileZoom,!!this._isValidTile(Mt)){var Lt=this._tiles[this._tileCoordsToKey(Mt)];Lt?Lt.current=!0:A.push(Mt)}}if(A.sort(function(Nt,Se){return Nt.distanceTo(v)-Se.distanceTo(v)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ut=document.createDocumentFragment();for(ct=0;ct<A.length;ct++)this._addTile(A[ct],Ut);this._level.el.appendChild(Ut)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return gt(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),h=o.add(i),v=e.unproject(o,t.z),A=e.unproject(h,t.z);return[v,A]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new mt(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new J(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(kt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){at(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,et.ielt9&&this.options.opacity<1&&jt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&N(m(this._tileReady,this,t,null,h)),xt(h,i),this._tiles[o]={el:h,coords:t,current:!0},e.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);i=this._tiles[o],i&&(i.loaded=+new Date,this._map._fadeAnimated?(jt(i.el,0),X(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(at(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new J(this._wrapX?g(t.x,this._wrapX):t.x,this._wrapY?g(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new _t(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ra(t){return new Je(t)}var Le=Je.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=_(this,e),e.detectRetina&&et.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ot(i,"load",m(this._tileOnLoad,this,e,i)),ot(i,"error",m(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:et.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return P(this._url,a(e,this.options))},_tileOnLoad:function(t,e){et.ielt9?setTimeout(m(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,o=this.options.zoomOffset;return i&&(t=e-t),t+o},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=u,e.onerror=u,!e.complete)){e.src=U;var i=this._tiles[t].coords;kt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",U),Je.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===U))return Je.prototype._tileReady.call(this,t,e,i)}});function Ar(t,e){return new Le(t,e)}var Mr=Le.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=a({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);e=_(this,e);var h=e.detectRetina&&et.retina?2:1,v=this.getTileSize();i.width=v.x*h,i.height=v.y*h,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Le.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=Tt(i.project(e[0]),i.project(e[1])),h=o.min,v=o.max,A=(this._wmsVersion>=1.3&&this._crs===Pr?[h.y,h.x,v.y,v.x]:[h.x,h.y,v.x,v.y]).join(","),B=Le.prototype.getTileUrl.call(this,t);return B+T(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(t,e){return a(this.wmsParams,t),e||this.redraw(),this}});function za(t,e){return new Mr(t,e)}Le.WMS=Mr,Ar.wms=za;var ee=Dt.extend({options:{padding:.1},initialize:function(t){_(this,t),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),at(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,e),v=o.multiplyBy(-i).add(h).subtract(this._map._getNewPixelOrigin(t,e));et.any3d?ce(this._container,v,i):xt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new _t(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nr=ee.extend({options:{tolerance:0},getEvents:function(){var t=ee.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ee.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ot(t,"mousemove",this._onMouseMove,this),ot(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,kt(this._container),yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ee.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=et.retina?2:1;xt(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",et.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ee.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[k(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[k(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],o,h;for(h=0;h<e.length;h++){if(o=Number(e[h]),isNaN(o))return;i.push(o)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _t,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,h,v,A=t._parts,B=A.length,j=this._ctx;if(B){for(j.beginPath(),i=0;i<B;i++){for(o=0,h=A[i].length;o<h;o++)v=A[i][o],j[o?"lineTo":"moveTo"](v.x,v.y);e&&j.closePath()}this._fillStroke(j,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||o)/o;h!==1&&(i.save(),i.scale(1,h)),i.beginPath(),i.arc(e.x,e.y/h,o,0,Math.PI*2,!1),h!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,o,h=this._drawFirst;h;h=h.next)i=h.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(o=i);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(bt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,h=this._drawFirst;h;h=h.next)i=h.layer,i.options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(at(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(i)i.prev=o;else return;o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(o)o.next=i;else return;i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Ir(t){return et.canvas?new Nr(t):null}var Ke=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ja={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ee.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ke("shape");at(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ke("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;kt(e),t.removeInteractiveTarget(e),delete this._layers[k(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,h=t._container;h.stroked=!!o.stroke,h.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Ke("stroke")),h.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=S(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(h.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=Ke("fill")),h.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(h.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){be(t._container)},_bringToBack:function(t){xe(t._container)}},Oi=et.vml?Ke:hi,Ye=ee.extend({_initContainer:function(){this._container=Oi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ee.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),xt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Oi("path");t.options.className&&at(e,t.options.className),t.options.interactive&&at(e,"leaflet-interactive"),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){kt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[k(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Re(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||i,h="a"+i+","+o+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+h+i*2+",0 "+h+-i*2+",0 ";this._setPath(t,v)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){be(t._path)},_bringToBack:function(t){xe(t._path)}});et.vml&&Ye.include(ja);function Br(t){return et.svg||et.vml?new Ye(t):null}lt.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ir(t)||Br(t)}});var Fr=Te.extend({initialize:function(t,e){Te.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=gt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Za(t,e){return new Fr(t,e)}Ye.create=Oi,Ye.pointsToPath=Re,te.geometryToLayer=vi,te.coordsToLatLng=wn,te.coordsToLatLngs=ki,te.latLngToCoords=yn,te.latLngsToCoords=bi,te.getFeature=Oe,te.asFeature=xi,lt.mergeOptions({boxZoom:!0});var Rr=Gt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qe(),tn(),this._startPoint=this._map.mouseEventToContainerPoint(t),ot(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),at(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new _t(this._point,this._startPoint),i=e.getSize();xt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(kt(this._box),bt(this._container,"leaflet-crosshair")),De(),en(),yt(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var e=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",Rr),lt.mergeOptions({doubleClickZoom:!0});var zr=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,h=t.originalEvent.shiftKey?i-o:i+o;e.options.doubleClickZoom==="center"?e.setZoom(h):e.setZoomAround(t.containerPoint,h)}});lt.addInitHook("addHandler","doubleClickZoom",zr),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var jr=Gt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new re(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}at(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=gt(this._map.options.maxBounds);this._offsetLimit=Tt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,h=(o-e+i)%t+e-i,v=(o+e+i)%t-e-i,A=Math.abs(h+i)<Math.abs(v+i)?h:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,A=i.easeLinearity,B=h.multiplyBy(A/v),j=B.distanceTo([0,0]),$=Math.min(i.inertiaMaxSpeed,j),Q=B.multiplyBy($/j),rt=$/(i.inertiaDeceleration*A),ct=Q.multiplyBy(-rt/2).round();!ct.x&&!ct.y?e.fire("moveend"):(ct=e._limitOffset(ct,e.options.maxBounds),N(function(){e.panBy(ct,{duration:rt,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",jr),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zr=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ot(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,o,h;for(o=0,h=i.left.length;o<h;o++)e[i.left[o]]=[-1*t,0];for(o=0,h=i.right.length;o<h;o++)e[i.right[o]]=[t,0];for(o=0,h=i.down.length;o<h;o++)e[i.down[o]]=[0,t];for(o=0,h=i.up.length;o<h;o++)e[i.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,o,h;for(o=0,h=i.zoomIn.length;o<h;o++)e[i.zoomIn[o]]=t;for(o=0,h=i.zoomOut.length;o<h;o++)e[i.zoomOut[o]]=-t},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,o;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(o=this._panKeys[e],t.shiftKey&&(o=tt(o).multiplyBy(3)),i.options.maxBounds&&(o=i._limitOffset(tt(o),i.options.maxBounds)),i.options.worldCopyJump){var h=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(o)));i.panTo(h)}else i.panBy(o)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;fe(t)}}});lt.addInitHook("addHandler","keyboard",Zr),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ur=Gt.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=lr(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),o),fe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,v=i?Math.ceil(h/i)*i:h,A=t._limitZoom(e+(this._delta>0?v:-v))-e;this._delta=0,this._startTime=null,A&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+A):t.setZoomAround(this._lastMousePos,e+A))}});lt.addInitHook("addHandler","scrollWheelZoom",Ur);var Ua=600;lt.mergeOptions({tapHold:et.touchNative&&et.safari&&et.mobile,tapTolerance:15});var $r=Gt.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new J(e.clientX,e.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",St),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Ua),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){yt(document,"touchend",St),yt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new J(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});lt.addInitHook("addHandler","tapHold",$r),lt.mergeOptions({touchZoom:et.touch,bounceAtZoomLimits:!0});var qr=Gt.extend({addHooks:function(){at(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),St(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),h=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(h,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&h<1||this._zoom>e.getMaxZoom()&&h>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var v=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(h===1&&v.x===0&&v.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var A=m(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(A,this,!0),St(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",qr),lt.BoxZoom=Rr,lt.DoubleClickZoom=zr,lt.Drag=jr,lt.Keyboard=Zr,lt.ScrollWheelZoom=Ur,lt.TapHold=$r,lt.TouchZoom=qr,r.Bounds=_t,r.Browser=et,r.CRS=Rt,r.Canvas=Nr,r.Circle=gn,r.CircleMarker=yi,r.Class=D,r.Control=qt,r.DivIcon=Cr,r.DivOverlay=Xt,r.DomEvent=oa,r.DomUtil=na,r.Draggable=re,r.Evented=G,r.FeatureGroup=Yt,r.GeoJSON=te,r.GridLayer=Je,r.Handler=Gt,r.Icon=Ee,r.ImageOverlay=Pi,r.LatLng=it,r.LatLngBounds=mt,r.Layer=Dt,r.LayerGroup=Pe,r.LineUtil=wa,r.Map=lt,r.Marker=wi,r.Mixin=fa,r.Path=oe,r.Point=J,r.PolyUtil=da,r.Polygon=Te,r.Polyline=Qt,r.Popup=Ei,r.PosAnimation=fr,r.Projection=ya,r.Rectangle=Fr,r.Renderer=ee,r.SVG=Ye,r.SVGOverlay=Sr,r.TileLayer=Le,r.Tooltip=Ti,r.Transformation=Fe,r.Util=K,r.VideoOverlay=Lr,r.bind=m,r.bounds=Tt,r.canvas=Ir,r.circle=Oa,r.circleMarker=Ta,r.control=Ve,r.divIcon=Fa,r.extend=a,r.featureGroup=xa,r.geoJSON=Or,r.geoJson=Ca,r.gridLayer=Ra,r.icon=Pa,r.imageOverlay=Aa,r.latLng=nt,r.latLngBounds=gt,r.layerGroup=ba,r.map=sa,r.marker=Ea,r.point=tt,r.polygon=Sa,r.polyline=La,r.popup=Ia,r.rectangle=Za,r.setOptions=_,r.stamp=k,r.svg=Br,r.svgOverlay=Na,r.tileLayer=Ar,r.tooltip=Ba,r.transformation=ae,r.version=c,r.videoOverlay=Ma;var $a=window.L;r.noConflict=function(){return window.L=$a,this},window.L=r})}(ti,ti.exports)),ti.exports}var zn=ru();const ou={ref:"leaflet-map",class:"map"},su=Ae({__name:"VMap",props:{center:{}},setup(n){const s=n,r=Bn(),c=Ka("leaflet-map");return Ya("map",r),Fn(()=>{if(!c.value)throw new Error("Map reference is not available");r.value=zn.map(c.value),s.center&&r.value.setView(s.center,11.5)}),(a,p)=>(ei(),mo("div",ou,[oi(a.$slots,"default",{},void 0,!0)],512))}}),ml=Qa(su,[["__scopeId","data-v-0aecacf3"]]);function wo(){const n=tu("map");if(!n)throw new Error("useMapInstance() must be used inside <Map>");return n}const au=Ae({__name:"TileLayer",props:{urlTemplate:{type:String,required:!0},attribution:{type:String,required:!0}},setup(n){const s=wo(),r=n;return _o(s,()=>{s.value&&zn.tileLayer(r.urlTemplate,{attribution:r.attribution}).addTo(s.value)},{immediate:!0}),(c,a)=>oi(c.$slots,"default")}}),_l=Ae({__name:"OsmTileLayer",setup(n){return(s,r)=>(ei(),Rn(au,{"url-template":"https://tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}))}}),Gr=()=>{let n,s;const r=new Promise((c,a)=>{n=c,s=a});return{resolve:n,reject:s,value:r}},uu=(n,s)=>{var k;const r=n.name??`batcher:${Math.random().toString(16).slice(2)})`,c=n.scheduler??cu(10),a=(k=globalThis.__BATSHIT_DEVTOOLS__)==null?void 0:k.for(r);let p={seq:0,batch:new Set,currentRequest:Gr(),timer:void 0,start:null,latest:null};a==null||a.create({seq:p.seq});const m=()=>{p.batch=new Set,p.currentRequest=Gr(),p.timer=void 0,p.start=null,p.latest=null};return{fetch:b=>{p.start||(p.start=Date.now()),p.latest=Date.now(),p.batch.add(b),clearTimeout(p.timer);const g=c(p.start,p.latest,p.batch.size);a==null||a.queue({seq:p.seq,query:b,batch:[...p.batch],scheduled:g,latest:p.latest,start:p.start});const u=()=>{const w=p.seq,y=n.fetcher([...p.batch]),f=p.currentRequest;return a==null||a.fetch({seq:w,batch:[...p.batch]}),m(),y.then(_=>{a==null||a.data({seq:w,data:_}),f.resolve(_)}).catch(_=>{a==null||a.error({seq:w,error:_}),f.reject(_)}),p.seq++,y};if(g==="immediate"){const w=p.currentRequest;return u(),w.value.then(y=>n.resolver(y,b))}else return g==="never"?p.currentRequest.value.then(w=>n.resolver(w,b)):(p.timer=setTimeout(u,g),p.currentRequest.value.then(w=>n.resolver(w,b)))}}},cu=n=>(s,r)=>{const c=r-s;return n-c},hu=({windowMs:n,maxBatchSize:s})=>(r,c,a)=>{if(a>=s)return"immediate";const p=c-r;return n-p};function Si(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bn={exports:{}},Xr;function lu(){return Xr||(Xr=1,function(n,s){(function(r){n.exports=r()})(function(){return function(){function r(c,a,p){function m(b,g){if(!a[b]){if(!c[b]){var u=typeof Si=="function"&&Si;if(!g&&u)return u(b,!0);if(x)return x(b,!0);var w=new Error("Cannot find module '"+b+"'");throw w.code="MODULE_NOT_FOUND",w}var y=a[b]={exports:{}};c[b][0].call(y.exports,function(f){var _=c[b][1][f];return m(_||f)},y,y.exports,r,c,a,p)}return a[b].exports}for(var x=typeof Si=="function"&&Si,k=0;k<p.length;k++)m(p[k]);return m}return r}()({1:[function(r,c,a){a.byteLength=w,a.toByteArray=f,a.fromByteArray=C;for(var p=[],m=[],x=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,g=k.length;b<g;++b)p[b]=k[b],m[k.charCodeAt(b)]=b;m[45]=62,m[95]=63;function u(P){var S=P.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=P.indexOf("=");I===-1&&(I=S);var U=I===S?0:4-I%4;return[I,U]}function w(P){var S=u(P),I=S[0],U=S[1];return(I+U)*3/4-U}function y(P,S,I){return(S+I)*3/4-I}function f(P){var S,I=u(P),U=I[0],M=I[1],F=new x(y(P,U,M)),H=0,z=M>0?U-4:U,q;for(q=0;q<z;q+=4)S=m[P.charCodeAt(q)]<<18|m[P.charCodeAt(q+1)]<<12|m[P.charCodeAt(q+2)]<<6|m[P.charCodeAt(q+3)],F[H++]=S>>16&255,F[H++]=S>>8&255,F[H++]=S&255;return M===2&&(S=m[P.charCodeAt(q)]<<2|m[P.charCodeAt(q+1)]>>4,F[H++]=S&255),M===1&&(S=m[P.charCodeAt(q)]<<10|m[P.charCodeAt(q+1)]<<4|m[P.charCodeAt(q+2)]>>2,F[H++]=S>>8&255,F[H++]=S&255),F}function _(P){return p[P>>18&63]+p[P>>12&63]+p[P>>6&63]+p[P&63]}function T(P,S,I){for(var U,M=[],F=S;F<I;F+=3)U=(P[F]<<16&16711680)+(P[F+1]<<8&65280)+(P[F+2]&255),M.push(_(U));return M.join("")}function C(P){for(var S,I=P.length,U=I%3,M=[],F=16383,H=0,z=I-U;H<z;H+=F)M.push(T(P,H,H+F>z?z:H+F));return U===1?(S=P[I-1],M.push(p[S>>2]+p[S<<4&63]+"==")):U===2&&(S=(P[I-2]<<8)+P[I-1],M.push(p[S>>10]+p[S>>4&63]+p[S<<2&63]+"=")),M.join("")}},{}],2:[function(r,c,a){(function(p){(function(){var m=r("base64-js"),x=r("ieee754");a.Buffer=u,a.SlowBuffer=U,a.INSPECT_MAX_BYTES=50;var k=2147483647;a.kMaxLength=k,u.TYPED_ARRAY_SUPPORT=b(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{var E=new Uint8Array(1);return E.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},E.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function g(E){if(E>k)throw new RangeError('The value "'+E+'" is invalid for option "size"');var l=new Uint8Array(E);return l.__proto__=u.prototype,l}function u(E,l,d){if(typeof E=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(E)}return w(E,l,d)}typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192;function w(E,l,d){if(typeof E=="string")return T(E,l);if(ArrayBuffer.isView(E))return C(E);if(E==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(zt(E,ArrayBuffer)||E&&zt(E.buffer,ArrayBuffer))return P(E,l,d);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=E.valueOf&&E.valueOf();if(O!=null&&O!==E)return u.from(O,l,d);var R=S(E);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return u.from(E[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}u.from=function(E,l,d){return w(E,l,d)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array;function y(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function f(E,l,d){return y(E),E<=0?g(E):l!==void 0?typeof d=="string"?g(E).fill(l,d):g(E).fill(l):g(E)}u.alloc=function(E,l,d){return f(E,l,d)};function _(E){return y(E),g(E<0?0:I(E)|0)}u.allocUnsafe=function(E){return _(E)},u.allocUnsafeSlow=function(E){return _(E)};function T(E,l){if((typeof l!="string"||l==="")&&(l="utf8"),!u.isEncoding(l))throw new TypeError("Unknown encoding: "+l);var d=M(E,l)|0,O=g(d),R=O.write(E,l);return R!==d&&(O=O.slice(0,R)),O}function C(E){for(var l=E.length<0?0:I(E.length)|0,d=g(l),O=0;O<l;O+=1)d[O]=E[O]&255;return d}function P(E,l,d){if(l<0||E.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');var O;return l===void 0&&d===void 0?O=new Uint8Array(E):d===void 0?O=new Uint8Array(E,l):O=new Uint8Array(E,l,d),O.__proto__=u.prototype,O}function S(E){if(u.isBuffer(E)){var l=I(E.length)|0,d=g(l);return d.length===0||E.copy(d,0,0,l),d}if(E.length!==void 0)return typeof E.length!="number"||ze(E.length)?g(0):C(E);if(E.type==="Buffer"&&Array.isArray(E.data))return C(E.data)}function I(E){if(E>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return E|0}function U(E){return+E!=E&&(E=0),u.alloc(+E)}u.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==u.prototype},u.compare=function(l,d){if(zt(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),zt(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(l)||!u.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;for(var O=l.length,R=d.length,W=0,V=Math.min(O,R);W<V;++W)if(l[W]!==d[W]){O=l[W],R=d[W];break}return O<R?-1:R<O?1:0},u.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return u.alloc(0);var O;if(d===void 0)for(d=0,O=0;O<l.length;++O)d+=l[O].length;var R=u.allocUnsafe(d),W=0;for(O=0;O<l.length;++O){var V=l[O];if(zt(V,Uint8Array)&&(V=u.from(V)),!u.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(R,W),W+=V.length}return R};function M(E,l){if(u.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||zt(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var d=E.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&d===0)return 0;for(var R=!1;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return ue(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Re(E).length;default:if(R)return O?-1:ue(E).length;l=(""+l).toLowerCase(),R=!0}}u.byteLength=M;function F(E,l,d){var O=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(E||(E="utf8");;)switch(E){case"hex":return mt(this,l,d);case"utf8":case"utf-8":return J(this,l,d);case"ascii":return _t(this,l,d);case"latin1":case"binary":return Tt(this,l,d);case"base64":return G(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,l,d);default:if(O)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),O=!0}}u.prototype._isBuffer=!0;function H(E,l,d){var O=E[l];E[l]=E[d],E[d]=O}u.prototype.swap16=function(){var l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<l;d+=2)H(this,d,d+1);return this},u.prototype.swap32=function(){var l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<l;d+=4)H(this,d,d+3),H(this,d+1,d+2);return this},u.prototype.swap64=function(){var l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<l;d+=8)H(this,d,d+7),H(this,d+1,d+6),H(this,d+2,d+5),H(this,d+3,d+4);return this},u.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?J(this,0,l):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(l){if(!u.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:u.compare(this,l)===0},u.prototype.inspect=function(){var l="",d=a.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},u.prototype.compare=function(l,d,O,R,W){if(zt(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),O===void 0&&(O=l?l.length:0),R===void 0&&(R=0),W===void 0&&(W=this.length),d<0||O>l.length||R<0||W>this.length)throw new RangeError("out of range index");if(R>=W&&d>=O)return 0;if(R>=W)return-1;if(d>=O)return 1;if(d>>>=0,O>>>=0,R>>>=0,W>>>=0,this===l)return 0;for(var V=W-R,ht=O-d,pt=Math.min(V,ht),wt=this.slice(R,W),Ot=l.slice(d,O),vt=0;vt<pt;++vt)if(wt[vt]!==Ot[vt]){V=wt[vt],ht=Ot[vt];break}return V<ht?-1:ht<V?1:0};function z(E,l,d,O,R){if(E.length===0)return-1;if(typeof d=="string"?(O=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,ze(d)&&(d=R?0:E.length-1),d<0&&(d=E.length+d),d>=E.length){if(R)return-1;d=E.length-1}else if(d<0)if(R)d=0;else return-1;if(typeof l=="string"&&(l=u.from(l,O)),u.isBuffer(l))return l.length===0?-1:q(E,l,d,O,R);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(E,l,d):Uint8Array.prototype.lastIndexOf.call(E,l,d):q(E,[l],d,O,R);throw new TypeError("val must be string, number or Buffer")}function q(E,l,d,O,R){var W=1,V=E.length,ht=l.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(E.length<2||l.length<2)return-1;W=2,V/=2,ht/=2,d/=2}function pt(je,ve){return W===1?je[ve]:je.readUInt16BE(ve*W)}var wt;if(R){var Ot=-1;for(wt=d;wt<V;wt++)if(pt(E,wt)===pt(l,Ot===-1?0:wt-Ot)){if(Ot===-1&&(Ot=wt),wt-Ot+1===ht)return Ot*W}else Ot!==-1&&(wt-=wt-Ot),Ot=-1}else for(d+ht>V&&(d=V-ht),wt=d;wt>=0;wt--){for(var vt=!0,ye=0;ye<ht;ye++)if(pt(E,wt+ye)!==pt(l,ye)){vt=!1;break}if(vt)return wt}return-1}u.prototype.includes=function(l,d,O){return this.indexOf(l,d,O)!==-1},u.prototype.indexOf=function(l,d,O){return z(this,l,d,O,!0)},u.prototype.lastIndexOf=function(l,d,O){return z(this,l,d,O,!1)};function N(E,l,d,O){d=Number(d)||0;var R=E.length-d;O?(O=Number(O),O>R&&(O=R)):O=R;var W=l.length;O>W/2&&(O=W/2);for(var V=0;V<O;++V){var ht=parseInt(l.substr(V*2,2),16);if(ze(ht))return V;E[d+V]=ht}return V}function X(E,l,d,O){return ne(ue(l,E.length-d),E,d,O)}function K(E,l,d,O){return ne(Vi(l),E,d,O)}function D(E,l,d,O){return K(E,l,d,O)}function ft(E,l,d,O){return ne(Re(l),E,d,O)}function Y(E,l,d,O){return ne(hi(l,E.length-d),E,d,O)}u.prototype.write=function(l,d,O,R){if(d===void 0)R="utf8",O=this.length,d=0;else if(O===void 0&&typeof d=="string")R=d,O=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(O)?(O=O>>>0,R===void 0&&(R="utf8")):(R=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-d;if((O===void 0||O>W)&&(O=W),l.length>0&&(O<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");for(var V=!1;;)switch(R){case"hex":return N(this,l,d,O);case"utf8":case"utf-8":return X(this,l,d,O);case"ascii":return K(this,l,d,O);case"latin1":case"binary":return D(this,l,d,O);case"base64":return ft(this,l,d,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,l,d,O);default:if(V)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),V=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(E,l,d){return l===0&&d===E.length?m.fromByteArray(E):m.fromByteArray(E.slice(l,d))}function J(E,l,d){d=Math.min(E.length,d);for(var O=[],R=l;R<d;){var W=E[R],V=null,ht=W>239?4:W>223?3:W>191?2:1;if(R+ht<=d){var pt,wt,Ot,vt;switch(ht){case 1:W<128&&(V=W);break;case 2:pt=E[R+1],(pt&192)===128&&(vt=(W&31)<<6|pt&63,vt>127&&(V=vt));break;case 3:pt=E[R+1],wt=E[R+2],(pt&192)===128&&(wt&192)===128&&(vt=(W&15)<<12|(pt&63)<<6|wt&63,vt>2047&&(vt<55296||vt>57343)&&(V=vt));break;case 4:pt=E[R+1],wt=E[R+2],Ot=E[R+3],(pt&192)===128&&(wt&192)===128&&(Ot&192)===128&&(vt=(W&15)<<18|(pt&63)<<12|(wt&63)<<6|Ot&63,vt>65535&&vt<1114112&&(V=vt))}}V===null?(V=65533,ht=1):V>65535&&(V-=65536,O.push(V>>>10&1023|55296),V=56320|V&1023),O.push(V),R+=ht}return tt(O)}var ut=4096;function tt(E){var l=E.length;if(l<=ut)return String.fromCharCode.apply(String,E);for(var d="",O=0;O<l;)d+=String.fromCharCode.apply(String,E.slice(O,O+=ut));return d}function _t(E,l,d){var O="";d=Math.min(E.length,d);for(var R=l;R<d;++R)O+=String.fromCharCode(E[R]&127);return O}function Tt(E,l,d){var O="";d=Math.min(E.length,d);for(var R=l;R<d;++R)O+=String.fromCharCode(E[R]);return O}function mt(E,l,d){var O=E.length;(!l||l<0)&&(l=0),(!d||d<0||d>O)&&(d=O);for(var R="",W=l;W<d;++W)R+=ae(E[W]);return R}function gt(E,l,d){for(var O=E.slice(l,d),R="",W=0;W<O.length;W+=2)R+=String.fromCharCode(O[W]+O[W+1]*256);return R}u.prototype.slice=function(l,d){var O=this.length;l=~~l,d=d===void 0?O:~~d,l<0?(l+=O,l<0&&(l=0)):l>O&&(l=O),d<0?(d+=O,d<0&&(d=0)):d>O&&(d=O),d<l&&(d=l);var R=this.subarray(l,d);return R.__proto__=u.prototype,R};function it(E,l,d){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+l>d)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(l,d,O){l=l>>>0,d=d>>>0,O||it(l,d,this.length);for(var R=this[l],W=1,V=0;++V<d&&(W*=256);)R+=this[l+V]*W;return R},u.prototype.readUIntBE=function(l,d,O){l=l>>>0,d=d>>>0,O||it(l,d,this.length);for(var R=this[l+--d],W=1;d>0&&(W*=256);)R+=this[l+--d]*W;return R},u.prototype.readUInt8=function(l,d){return l=l>>>0,d||it(l,1,this.length),this[l]},u.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||it(l,2,this.length),this[l]|this[l+1]<<8},u.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||it(l,2,this.length),this[l]<<8|this[l+1]},u.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||it(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},u.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||it(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},u.prototype.readIntLE=function(l,d,O){l=l>>>0,d=d>>>0,O||it(l,d,this.length);for(var R=this[l],W=1,V=0;++V<d&&(W*=256);)R+=this[l+V]*W;return W*=128,R>=W&&(R-=Math.pow(2,8*d)),R},u.prototype.readIntBE=function(l,d,O){l=l>>>0,d=d>>>0,O||it(l,d,this.length);for(var R=d,W=1,V=this[l+--R];R>0&&(W*=256);)V+=this[l+--R]*W;return W*=128,V>=W&&(V-=Math.pow(2,8*d)),V},u.prototype.readInt8=function(l,d){return l=l>>>0,d||it(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},u.prototype.readInt16LE=function(l,d){l=l>>>0,d||it(l,2,this.length);var O=this[l]|this[l+1]<<8;return O&32768?O|4294901760:O},u.prototype.readInt16BE=function(l,d){l=l>>>0,d||it(l,2,this.length);var O=this[l+1]|this[l]<<8;return O&32768?O|4294901760:O},u.prototype.readInt32LE=function(l,d){return l=l>>>0,d||it(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},u.prototype.readInt32BE=function(l,d){return l=l>>>0,d||it(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},u.prototype.readFloatLE=function(l,d){return l=l>>>0,d||it(l,4,this.length),x.read(this,l,!0,23,4)},u.prototype.readFloatBE=function(l,d){return l=l>>>0,d||it(l,4,this.length),x.read(this,l,!1,23,4)},u.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||it(l,8,this.length),x.read(this,l,!0,52,8)},u.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||it(l,8,this.length),x.read(this,l,!1,52,8)};function nt(E,l,d,O,R,W){if(!u.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>R||l<W)throw new RangeError('"value" argument is out of bounds');if(d+O>E.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(l,d,O,R){if(l=+l,d=d>>>0,O=O>>>0,!R){var W=Math.pow(2,8*O)-1;nt(this,l,d,O,W,0)}var V=1,ht=0;for(this[d]=l&255;++ht<O&&(V*=256);)this[d+ht]=l/V&255;return d+O},u.prototype.writeUIntBE=function(l,d,O,R){if(l=+l,d=d>>>0,O=O>>>0,!R){var W=Math.pow(2,8*O)-1;nt(this,l,d,O,W,0)}var V=O-1,ht=1;for(this[d+V]=l&255;--V>=0&&(ht*=256);)this[d+V]=l/ht&255;return d+O},u.prototype.writeUInt8=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,1,255,0),this[d]=l&255,d+1},u.prototype.writeUInt16LE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},u.prototype.writeUInt16BE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},u.prototype.writeUInt32LE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},u.prototype.writeUInt32BE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},u.prototype.writeIntLE=function(l,d,O,R){if(l=+l,d=d>>>0,!R){var W=Math.pow(2,8*O-1);nt(this,l,d,O,W-1,-W)}var V=0,ht=1,pt=0;for(this[d]=l&255;++V<O&&(ht*=256);)l<0&&pt===0&&this[d+V-1]!==0&&(pt=1),this[d+V]=(l/ht>>0)-pt&255;return d+O},u.prototype.writeIntBE=function(l,d,O,R){if(l=+l,d=d>>>0,!R){var W=Math.pow(2,8*O-1);nt(this,l,d,O,W-1,-W)}var V=O-1,ht=1,pt=0;for(this[d+V]=l&255;--V>=0&&(ht*=256);)l<0&&pt===0&&this[d+V+1]!==0&&(pt=1),this[d+V]=(l/ht>>0)-pt&255;return d+O},u.prototype.writeInt8=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},u.prototype.writeInt16LE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},u.prototype.writeInt16BE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},u.prototype.writeInt32LE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},u.prototype.writeInt32BE=function(l,d,O){return l=+l,d=d>>>0,O||nt(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Rt(E,l,d,O,R,W){if(d+O>E.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function $t(E,l,d,O,R){return l=+l,d=d>>>0,R||Rt(E,l,d,4),x.write(E,l,d,O,23,4),d+4}u.prototype.writeFloatLE=function(l,d,O){return $t(this,l,d,!0,O)},u.prototype.writeFloatBE=function(l,d,O){return $t(this,l,d,!1,O)};function Ie(E,l,d,O,R){return l=+l,d=d>>>0,R||Rt(E,l,d,8),x.write(E,l,d,O,52,8),d+8}u.prototype.writeDoubleLE=function(l,d,O){return Ie(this,l,d,!0,O)},u.prototype.writeDoubleBE=function(l,d,O){return Ie(this,l,d,!1,O)},u.prototype.copy=function(l,d,O,R){if(!u.isBuffer(l))throw new TypeError("argument should be a Buffer");if(O||(O=0),!R&&R!==0&&(R=this.length),d>=l.length&&(d=l.length),d||(d=0),R>0&&R<O&&(R=O),R===O||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),l.length-d<R-O&&(R=l.length-d+O);var W=R-O;if(this===l&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(d,O,R);else if(this===l&&O<d&&d<R)for(var V=W-1;V>=0;--V)l[V+d]=this[V+O];else Uint8Array.prototype.set.call(l,this.subarray(O,R),d);return W},u.prototype.fill=function(l,d,O,R){if(typeof l=="string"){if(typeof d=="string"?(R=d,d=0,O=this.length):typeof O=="string"&&(R=O,O=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(l.length===1){var W=l.charCodeAt(0);(R==="utf8"&&W<128||R==="latin1")&&(l=W)}}else typeof l=="number"&&(l=l&255);if(d<0||this.length<d||this.length<O)throw new RangeError("Out of range index");if(O<=d)return this;d=d>>>0,O=O===void 0?this.length:O>>>0,l||(l=0);var V;if(typeof l=="number")for(V=d;V<O;++V)this[V]=l;else{var ht=u.isBuffer(l)?l:u.from(l,R),pt=ht.length;if(pt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(V=0;V<O-d;++V)this[V+d]=ht[V%pt]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function Fe(E){if(E=E.split("=")[0],E=E.trim().replace(Be,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function ae(E){return E<16?"0"+E.toString(16):E.toString(16)}function ue(E,l){l=l||1/0;for(var d,O=E.length,R=null,W=[],V=0;V<O;++V){if(d=E.charCodeAt(V),d>55295&&d<57344){if(!R){if(d>56319){(l-=3)>-1&&W.push(239,191,189);continue}else if(V+1===O){(l-=3)>-1&&W.push(239,191,189);continue}R=d;continue}if(d<56320){(l-=3)>-1&&W.push(239,191,189),R=d;continue}d=(R-55296<<10|d-56320)+65536}else R&&(l-=3)>-1&&W.push(239,191,189);if(R=null,d<128){if((l-=1)<0)break;W.push(d)}else if(d<2048){if((l-=2)<0)break;W.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;W.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;W.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return W}function Vi(E){for(var l=[],d=0;d<E.length;++d)l.push(E.charCodeAt(d)&255);return l}function hi(E,l){for(var d,O,R,W=[],V=0;V<E.length&&!((l-=2)<0);++V)d=E.charCodeAt(V),O=d>>8,R=d%256,W.push(R),W.push(O);return W}function Re(E){return m.toByteArray(Fe(E))}function ne(E,l,d,O){for(var R=0;R<O&&!(R+d>=l.length||R>=E.length);++R)l[R+d]=E[R];return R}function zt(E,l){return E instanceof l||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===l.name}function ze(E){return E!==E}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:14}],3:[function(r,c,a){const p=r("./validator"),m=r("./xmlparser/XMLParser"),x=r("./xmlbuilder/json2xml");c.exports={XMLParser:m,XMLValidator:p,XMLBuilder:x}},{"./validator":5,"./xmlbuilder/json2xml":6,"./xmlparser/XMLParser":11}],4:[function(r,c,a){const p=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m=p+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",x="["+p+"]["+m+"]*",k=new RegExp("^"+x+"$"),b=function(u,w){const y=[];let f=w.exec(u);for(;f;){const _=[];_.startIndex=w.lastIndex-f[0].length;const T=f.length;for(let C=0;C<T;C++)_.push(f[C]);y.push(_),f=w.exec(u)}return y},g=function(u){const w=k.exec(u);return!(w===null||typeof w>"u")};a.isExist=function(u){return typeof u<"u"},a.isEmptyObject=function(u){return Object.keys(u).length===0},a.merge=function(u,w,y){if(w){const f=Object.keys(w),_=f.length;for(let T=0;T<_;T++)y==="strict"?u[f[T]]=[w[f[T]]]:u[f[T]]=w[f[T]]}},a.getValue=function(u){return a.isExist(u)?u:""},a.isName=g,a.getAllMatches=b,a.nameRegexp=x},{}],5:[function(r,c,a){const p=r("./util"),m={allowBooleanAttributes:!1,unpairedTags:[]};a.validate=function(M,F){F=Object.assign({},m,F);const H=[];let z=!1,q=!1;M[0]==="\uFEFF"&&(M=M.substr(1));for(let N=0;N<M.length;N++)if(M[N]==="<"&&M[N+1]==="?"){if(N+=2,N=k(M,N),N.err)return N}else if(M[N]==="<"){let X=N;if(N++,M[N]==="!"){N=b(M,N);continue}else{let K=!1;M[N]==="/"&&(K=!0,N++);let D="";for(;N<M.length&&M[N]!==">"&&M[N]!==" "&&M[N]!=="	"&&M[N]!==`
`&&M[N]!=="\r";N++)D+=M[N];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),N--),!S(D)){let G;return D.trim().length===0?G="Invalid space after '<'.":G="Tag '"+D+"' is an invalid name.",C("InvalidTag",G,I(M,N))}const ft=w(M,N);if(ft===!1)return C("InvalidAttr","Attributes for '"+D+"' have open quote.",I(M,N));let Y=ft.value;if(N=ft.index,Y[Y.length-1]==="/"){const G=N-Y.length;Y=Y.substring(0,Y.length-1);const J=f(Y,F);if(J===!0)z=!0;else return C(J.err.code,J.err.msg,I(M,G+J.err.line))}else if(K)if(ft.tagClosed){if(Y.trim().length>0)return C("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",I(M,X));if(H.length===0)return C("InvalidTag","Closing tag '"+D+"' has not been opened.",I(M,X));{const G=H.pop();if(D!==G.tagName){let J=I(M,G.tagStartPos);return C("InvalidTag","Expected closing tag '"+G.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+D+"'.",I(M,X))}H.length==0&&(q=!0)}}else return C("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",I(M,N));else{const G=f(Y,F);if(G!==!0)return C(G.err.code,G.err.msg,I(M,N-Y.length+G.err.line));if(q===!0)return C("InvalidXml","Multiple possible root nodes found.",I(M,N));F.unpairedTags.indexOf(D)!==-1||H.push({tagName:D,tagStartPos:X}),z=!0}for(N++;N<M.length;N++)if(M[N]==="<")if(M[N+1]==="!"){N++,N=b(M,N);continue}else if(M[N+1]==="?"){if(N=k(M,++N),N.err)return N}else break;else if(M[N]==="&"){const G=T(M,N);if(G==-1)return C("InvalidChar","char '&' is not expected.",I(M,N));N=G}else if(q===!0&&!x(M[N]))return C("InvalidXml","Extra text at the end",I(M,N));M[N]==="<"&&N--}}else{if(x(M[N]))continue;return C("InvalidChar","char '"+M[N]+"' is not expected.",I(M,N))}if(z){if(H.length==1)return C("InvalidTag","Unclosed tag '"+H[0].tagName+"'.",I(M,H[0].tagStartPos));if(H.length>0)return C("InvalidXml","Invalid '"+JSON.stringify(H.map(N=>N.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return C("InvalidXml","Start tag expected.",1);return!0};function x(M){return M===" "||M==="	"||M===`
`||M==="\r"}function k(M,F){const H=F;for(;F<M.length;F++)if(M[F]=="?"||M[F]==" "){const z=M.substr(H,F-H);if(F>5&&z==="xml")return C("InvalidXml","XML declaration allowed only at the start of the document.",I(M,F));if(M[F]=="?"&&M[F+1]==">"){F++;break}else continue}return F}function b(M,F){if(M.length>F+5&&M[F+1]==="-"&&M[F+2]==="-"){for(F+=3;F<M.length;F++)if(M[F]==="-"&&M[F+1]==="-"&&M[F+2]===">"){F+=2;break}}else if(M.length>F+8&&M[F+1]==="D"&&M[F+2]==="O"&&M[F+3]==="C"&&M[F+4]==="T"&&M[F+5]==="Y"&&M[F+6]==="P"&&M[F+7]==="E"){let H=1;for(F+=8;F<M.length;F++)if(M[F]==="<")H++;else if(M[F]===">"&&(H--,H===0))break}else if(M.length>F+9&&M[F+1]==="["&&M[F+2]==="C"&&M[F+3]==="D"&&M[F+4]==="A"&&M[F+5]==="T"&&M[F+6]==="A"&&M[F+7]==="["){for(F+=8;F<M.length;F++)if(M[F]==="]"&&M[F+1]==="]"&&M[F+2]===">"){F+=2;break}}return F}const g='"',u="'";function w(M,F){let H="",z="",q=!1;for(;F<M.length;F++){if(M[F]===g||M[F]===u)z===""?z=M[F]:z!==M[F]||(z="");else if(M[F]===">"&&z===""){q=!0;break}H+=M[F]}return z!==""?!1:{value:H,index:F,tagClosed:q}}const y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function f(M,F){const H=p.getAllMatches(M,y),z={};for(let q=0;q<H.length;q++){if(H[q][1].length===0)return C("InvalidAttr","Attribute '"+H[q][2]+"' has no space in starting.",U(H[q]));if(H[q][3]!==void 0&&H[q][4]===void 0)return C("InvalidAttr","Attribute '"+H[q][2]+"' is without value.",U(H[q]));if(H[q][3]===void 0&&!F.allowBooleanAttributes)return C("InvalidAttr","boolean attribute '"+H[q][2]+"' is not allowed.",U(H[q]));const N=H[q][2];if(!P(N))return C("InvalidAttr","Attribute '"+N+"' is an invalid name.",U(H[q]));if(!z.hasOwnProperty(N))z[N]=1;else return C("InvalidAttr","Attribute '"+N+"' is repeated.",U(H[q]))}return!0}function _(M,F){let H=/\d/;for(M[F]==="x"&&(F++,H=/[\da-fA-F]/);F<M.length;F++){if(M[F]===";")return F;if(!M[F].match(H))break}return-1}function T(M,F){if(F++,M[F]===";")return-1;if(M[F]==="#")return F++,_(M,F);let H=0;for(;F<M.length;F++,H++)if(!(M[F].match(/\w/)&&H<20)){if(M[F]===";")break;return-1}return F}function C(M,F,H){return{err:{code:M,msg:F,line:H.line||H,col:H.col}}}function P(M){return p.isName(M)}function S(M){return p.isName(M)}function I(M,F){const H=M.substring(0,F).split(/\r?\n/);return{line:H.length,col:H[H.length-1].length+1}}function U(M){return M.startIndex+M[1].length}},{"./util":4}],6:[function(r,c,a){const p=r("./orderedJs2Xml"),m={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,w){return w},attributeValueProcessor:function(u,w){return w},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function x(u){this.options=Object.assign({},m,u),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.processTextOrObjNode=k,this.options.format?(this.indentate=b,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}x.prototype.build=function(u){return this.options.preserveOrder?p(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0).val)},x.prototype.j2x=function(u,w){let y="",f="";for(let _ in u)if(Object.prototype.hasOwnProperty.call(u,_))if(typeof u[_]>"u")this.isAttribute(_)&&(f+="");else if(u[_]===null)this.isAttribute(_)?f+="":_[0]==="?"?f+=this.indentate(w)+"<"+_+"?"+this.tagEndChar:f+=this.indentate(w)+"<"+_+"/"+this.tagEndChar;else if(u[_]instanceof Date)f+=this.buildTextValNode(u[_],_,"",w);else if(typeof u[_]!="object"){const T=this.isAttribute(_);if(T)y+=this.buildAttrPairStr(T,""+u[_]);else if(_===this.options.textNodeName){let C=this.options.tagValueProcessor(_,""+u[_]);f+=this.replaceEntitiesValue(C)}else f+=this.buildTextValNode(u[_],_,"",w)}else if(Array.isArray(u[_])){const T=u[_].length;let C="",P="";for(let S=0;S<T;S++){const I=u[_][S];if(!(typeof I>"u"))if(I===null)_[0]==="?"?f+=this.indentate(w)+"<"+_+"?"+this.tagEndChar:f+=this.indentate(w)+"<"+_+"/"+this.tagEndChar;else if(typeof I=="object")if(this.options.oneListGroup){const U=this.j2x(I,w+1);C+=U.val,this.options.attributesGroupName&&I.hasOwnProperty(this.options.attributesGroupName)&&(P+=U.attrStr)}else C+=this.processTextOrObjNode(I,_,w);else if(this.options.oneListGroup){let U=this.options.tagValueProcessor(_,I);U=this.replaceEntitiesValue(U),C+=U}else C+=this.buildTextValNode(I,_,"",w)}this.options.oneListGroup&&(C=this.buildObjectNode(C,_,P,w)),f+=C}else if(this.options.attributesGroupName&&_===this.options.attributesGroupName){const T=Object.keys(u[_]),C=T.length;for(let P=0;P<C;P++)y+=this.buildAttrPairStr(T[P],""+u[_][T[P]])}else f+=this.processTextOrObjNode(u[_],_,w);return{attrStr:y,val:f}},x.prototype.buildAttrPairStr=function(u,w){return w=this.options.attributeValueProcessor(u,""+w),w=this.replaceEntitiesValue(w),this.options.suppressBooleanAttributes&&w==="true"?" "+u:" "+u+'="'+w+'"'};function k(u,w,y){const f=this.j2x(u,y+1);return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],w,f.attrStr,y):this.buildObjectNode(f.val,w,f.attrStr,y)}x.prototype.buildObjectNode=function(u,w,y,f){if(u==="")return w[0]==="?"?this.indentate(f)+"<"+w+y+"?"+this.tagEndChar:this.indentate(f)+"<"+w+y+this.closeTag(w)+this.tagEndChar;{let _="</"+w+this.tagEndChar,T="";return w[0]==="?"&&(T="?",_=""),(y||y==="")&&u.indexOf("<")===-1?this.indentate(f)+"<"+w+y+T+">"+u+_:this.options.commentPropName!==!1&&w===this.options.commentPropName&&T.length===0?this.indentate(f)+`<!--${u}-->`+this.newLine:this.indentate(f)+"<"+w+y+T+this.tagEndChar+u+this.indentate(f)+_}},x.prototype.closeTag=function(u){let w="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(w="/"):this.options.suppressEmptyNode?w="/":w=`></${u}`,w},x.prototype.buildTextValNode=function(u,w,y,f){if(this.options.cdataPropName!==!1&&w===this.options.cdataPropName)return this.indentate(f)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&w===this.options.commentPropName)return this.indentate(f)+`<!--${u}-->`+this.newLine;if(w[0]==="?")return this.indentate(f)+"<"+w+y+"?"+this.tagEndChar;{let _=this.options.tagValueProcessor(w,u);return _=this.replaceEntitiesValue(_),_===""?this.indentate(f)+"<"+w+y+this.closeTag(w)+this.tagEndChar:this.indentate(f)+"<"+w+y+">"+_+"</"+w+this.tagEndChar}},x.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let w=0;w<this.options.entities.length;w++){const y=this.options.entities[w];u=u.replace(y.regex,y.val)}return u};function b(u){return this.options.indentBy.repeat(u)}function g(u){return u.startsWith(this.options.attributeNamePrefix)&&u!==this.options.textNodeName?u.substr(this.attrPrefixLen):!1}c.exports=x},{"./orderedJs2Xml":7}],7:[function(r,c,a){const p=`
`;function m(w,y){let f="";return y.format&&y.indentBy.length>0&&(f=p),x(w,y,"",f)}function x(w,y,f,_){let T="",C=!1;for(let P=0;P<w.length;P++){const S=w[P],I=k(S);if(I===void 0)continue;let U="";if(f.length===0?U=I:U=`${f}.${I}`,I===y.textNodeName){let q=S[I];g(U,y)||(q=y.tagValueProcessor(I,q),q=u(q,y)),C&&(T+=_),T+=q,C=!1;continue}else if(I===y.cdataPropName){C&&(T+=_),T+=`<![CDATA[${S[I][0][y.textNodeName]}]]>`,C=!1;continue}else if(I===y.commentPropName){T+=_+`<!--${S[I][0][y.textNodeName]}-->`,C=!0;continue}else if(I[0]==="?"){const q=b(S[":@"],y),N=I==="?xml"?"":_;let X=S[I][0][y.textNodeName];X=X.length!==0?" "+X:"",T+=N+`<${I}${X}${q}?>`,C=!0;continue}let M=_;M!==""&&(M+=y.indentBy);const F=b(S[":@"],y),H=_+`<${I}${F}`,z=x(S[I],y,U,M);y.unpairedTags.indexOf(I)!==-1?y.suppressUnpairedNode?T+=H+">":T+=H+"/>":(!z||z.length===0)&&y.suppressEmptyNode?T+=H+"/>":z&&z.endsWith(">")?T+=H+`>${z}${_}</${I}>`:(T+=H+">",z&&_!==""&&(z.includes("/>")||z.includes("</"))?T+=_+y.indentBy+z+_:T+=z,T+=`</${I}>`),C=!0}return T}function k(w){const y=Object.keys(w);for(let f=0;f<y.length;f++){const _=y[f];if(w.hasOwnProperty(_)&&_!==":@")return _}}function b(w,y){let f="";if(w&&!y.ignoreAttributes)for(let _ in w){if(!w.hasOwnProperty(_))continue;let T=y.attributeValueProcessor(_,w[_]);T=u(T,y),T===!0&&y.suppressBooleanAttributes?f+=` ${_.substr(y.attributeNamePrefix.length)}`:f+=` ${_.substr(y.attributeNamePrefix.length)}="${T}"`}return f}function g(w,y){w=w.substr(0,w.length-y.textNodeName.length-1);let f=w.substr(w.lastIndexOf(".")+1);for(let _ in y.stopNodes)if(y.stopNodes[_]===w||y.stopNodes[_]==="*."+f)return!0;return!1}function u(w,y){if(w&&w.length>0&&y.processEntities)for(let f=0;f<y.entities.length;f++){const _=y.entities[f];w=w.replace(_.regex,_.val)}return w}c.exports=m},{}],8:[function(r,c,a){const p=r("../util");function m(f,_){const T={};if(f[_+3]==="O"&&f[_+4]==="C"&&f[_+5]==="T"&&f[_+6]==="Y"&&f[_+7]==="P"&&f[_+8]==="E"){_=_+9;let C=1,P=!1,S=!1,I="";for(;_<f.length;_++)if(f[_]==="<"&&!S){if(P&&b(f,_))_+=7,[entityName,val,_]=x(f,_+1),val.indexOf("&")===-1&&(T[y(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(P&&g(f,_))_+=8;else if(P&&u(f,_))_+=8;else if(P&&w(f,_))_+=9;else if(k)S=!0;else throw new Error("Invalid DOCTYPE");C++,I=""}else if(f[_]===">"){if(S?f[_-1]==="-"&&f[_-2]==="-"&&(S=!1,C--):C--,C===0)break}else f[_]==="["?P=!0:I+=f[_];if(C!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:T,i:_}}function x(f,_){let T="";for(;_<f.length&&f[_]!=="'"&&f[_]!=='"';_++)T+=f[_];if(T=T.trim(),T.indexOf(" ")!==-1)throw new Error("External entites are not supported");const C=f[_++];let P="";for(;_<f.length&&f[_]!==C;_++)P+=f[_];return[T,P,_]}function k(f,_){return f[_+1]==="!"&&f[_+2]==="-"&&f[_+3]==="-"}function b(f,_){return f[_+1]==="!"&&f[_+2]==="E"&&f[_+3]==="N"&&f[_+4]==="T"&&f[_+5]==="I"&&f[_+6]==="T"&&f[_+7]==="Y"}function g(f,_){return f[_+1]==="!"&&f[_+2]==="E"&&f[_+3]==="L"&&f[_+4]==="E"&&f[_+5]==="M"&&f[_+6]==="E"&&f[_+7]==="N"&&f[_+8]==="T"}function u(f,_){return f[_+1]==="!"&&f[_+2]==="A"&&f[_+3]==="T"&&f[_+4]==="T"&&f[_+5]==="L"&&f[_+6]==="I"&&f[_+7]==="S"&&f[_+8]==="T"}function w(f,_){return f[_+1]==="!"&&f[_+2]==="N"&&f[_+3]==="O"&&f[_+4]==="T"&&f[_+5]==="A"&&f[_+6]==="T"&&f[_+7]==="I"&&f[_+8]==="O"&&f[_+9]==="N"}function y(f){if(p.isName(f))return f;throw new Error(`Invalid entity name ${f}`)}c.exports=m},{"../util":4}],9:[function(r,c,a){const p={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(x,k){return k},attributeValueProcessor:function(x,k){return k},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(x,k,b){return x}},m=function(x){return Object.assign({},p,x)};a.buildOptions=m,a.defaultOptions=p},{}],10:[function(r,c,a){const p=r("../util"),m=r("./xmlNode"),x=r("./DocTypeReader"),k=r("strnum");class b{constructor(q){this.options=q,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(N,X)=>String.fromCharCode(Number.parseInt(X,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(N,X)=>String.fromCharCode(Number.parseInt(X,16))}},this.addExternalEntities=g,this.parseXml=_,this.parseTextData=u,this.resolveNameSpace=w,this.buildAttributesMap=f,this.isItStopNode=S,this.replaceEntitiesValue=C,this.readStopNodeData=F,this.saveTextToParentTag=P,this.addChild=T}}function g(z){const q=Object.keys(z);for(let N=0;N<q.length;N++){const X=q[N];this.lastEntities[X]={regex:new RegExp("&"+X+";","g"),val:z[X]}}}function u(z,q,N,X,K,D,ft){if(z!==void 0&&(this.options.trimValues&&!X&&(z=z.trim()),z.length>0)){ft||(z=this.replaceEntitiesValue(z));const Y=this.options.tagValueProcessor(q,z,N,K,D);return Y==null?z:typeof Y!=typeof z||Y!==z?Y:this.options.trimValues?H(z,this.options.parseTagValue,this.options.numberParseOptions):z.trim()===z?H(z,this.options.parseTagValue,this.options.numberParseOptions):z}}function w(z){if(this.options.removeNSPrefix){const q=z.split(":"),N=z.charAt(0)==="/"?"/":"";if(q[0]==="xmlns")return"";q.length===2&&(z=N+q[1])}return z}const y=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f(z,q,N){if(!this.options.ignoreAttributes&&typeof z=="string"){const X=p.getAllMatches(z,y),K=X.length,D={};for(let ft=0;ft<K;ft++){const Y=this.resolveNameSpace(X[ft][1]);let G=X[ft][4],J=this.options.attributeNamePrefix+Y;if(Y.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),G!==void 0){this.options.trimValues&&(G=G.trim()),G=this.replaceEntitiesValue(G);const ut=this.options.attributeValueProcessor(Y,G,q);ut==null?D[J]=G:typeof ut!=typeof G||ut!==G?D[J]=ut:D[J]=H(G,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(D[J]=!0)}if(!Object.keys(D).length)return;if(this.options.attributesGroupName){const ft={};return ft[this.options.attributesGroupName]=D,ft}return D}}const _=function(z){z=z.replace(/\r\n?/g,`
`);const q=new m("!xml");let N=q,X="",K="";for(let D=0;D<z.length;D++)if(z[D]==="<")if(z[D+1]==="/"){const Y=U(z,">",D,"Closing Tag is not closed.");let G=z.substring(D+2,Y).trim();if(this.options.removeNSPrefix){const tt=G.indexOf(":");tt!==-1&&(G=G.substr(tt+1))}this.options.transformTagName&&(G=this.options.transformTagName(G)),N&&(X=this.saveTextToParentTag(X,N,K));const J=K.substring(K.lastIndexOf(".")+1);if(G&&this.options.unpairedTags.indexOf(G)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${G}>`);let ut=0;J&&this.options.unpairedTags.indexOf(J)!==-1?(ut=K.lastIndexOf(".",K.lastIndexOf(".")-1),this.tagsNodeStack.pop()):ut=K.lastIndexOf("."),K=K.substring(0,ut),N=this.tagsNodeStack.pop(),X="",D=Y}else if(z[D+1]==="?"){let Y=M(z,D,!1,"?>");if(!Y)throw new Error("Pi Tag is not closed.");if(X=this.saveTextToParentTag(X,N,K),!(this.options.ignoreDeclaration&&Y.tagName==="?xml"||this.options.ignorePiTags)){const G=new m(Y.tagName);G.add(this.options.textNodeName,""),Y.tagName!==Y.tagExp&&Y.attrExpPresent&&(G[":@"]=this.buildAttributesMap(Y.tagExp,K,Y.tagName)),this.addChild(N,G,K)}D=Y.closeIndex+1}else if(z.substr(D+1,3)==="!--"){const Y=U(z,"-->",D+4,"Comment is not closed.");if(this.options.commentPropName){const G=z.substring(D+4,Y-2);X=this.saveTextToParentTag(X,N,K),N.add(this.options.commentPropName,[{[this.options.textNodeName]:G}])}D=Y}else if(z.substr(D+1,2)==="!D"){const Y=x(z,D);this.docTypeEntities=Y.entities,D=Y.i}else if(z.substr(D+1,2)==="!["){const Y=U(z,"]]>",D,"CDATA is not closed.")-2,G=z.substring(D+9,Y);X=this.saveTextToParentTag(X,N,K);let J=this.parseTextData(G,N.tagname,K,!0,!1,!0,!0);J==null&&(J=""),this.options.cdataPropName?N.add(this.options.cdataPropName,[{[this.options.textNodeName]:G}]):N.add(this.options.textNodeName,J),D=Y+2}else{let Y=M(z,D,this.options.removeNSPrefix),G=Y.tagName;const J=Y.rawTagName;let ut=Y.tagExp,tt=Y.attrExpPresent,_t=Y.closeIndex;this.options.transformTagName&&(G=this.options.transformTagName(G)),N&&X&&N.tagname!=="!xml"&&(X=this.saveTextToParentTag(X,N,K,!1));const Tt=N;if(Tt&&this.options.unpairedTags.indexOf(Tt.tagname)!==-1&&(N=this.tagsNodeStack.pop(),K=K.substring(0,K.lastIndexOf("."))),G!==q.tagname&&(K+=K?"."+G:G),this.isItStopNode(this.options.stopNodes,K,G)){let mt="";if(ut.length>0&&ut.lastIndexOf("/")===ut.length-1)G[G.length-1]==="/"?(G=G.substr(0,G.length-1),K=K.substr(0,K.length-1),ut=G):ut=ut.substr(0,ut.length-1),D=Y.closeIndex;else if(this.options.unpairedTags.indexOf(G)!==-1)D=Y.closeIndex;else{const it=this.readStopNodeData(z,J,_t+1);if(!it)throw new Error(`Unexpected end of ${J}`);D=it.i,mt=it.tagContent}const gt=new m(G);G!==ut&&tt&&(gt[":@"]=this.buildAttributesMap(ut,K,G)),mt&&(mt=this.parseTextData(mt,G,K,!0,tt,!0,!0)),K=K.substr(0,K.lastIndexOf(".")),gt.add(this.options.textNodeName,mt),this.addChild(N,gt,K)}else{if(ut.length>0&&ut.lastIndexOf("/")===ut.length-1){G[G.length-1]==="/"?(G=G.substr(0,G.length-1),K=K.substr(0,K.length-1),ut=G):ut=ut.substr(0,ut.length-1),this.options.transformTagName&&(G=this.options.transformTagName(G));const mt=new m(G);G!==ut&&tt&&(mt[":@"]=this.buildAttributesMap(ut,K,G)),this.addChild(N,mt,K),K=K.substr(0,K.lastIndexOf("."))}else{const mt=new m(G);this.tagsNodeStack.push(N),G!==ut&&tt&&(mt[":@"]=this.buildAttributesMap(ut,K,G)),this.addChild(N,mt,K),N=mt}X="",D=_t}}else X+=z[D];return q.child};function T(z,q,N){const X=this.options.updateTag(q.tagname,N,q[":@"]);X===!1||(typeof X=="string"&&(q.tagname=X),z.addChild(q))}const C=function(z){if(this.options.processEntities){for(let q in this.docTypeEntities){const N=this.docTypeEntities[q];z=z.replace(N.regx,N.val)}for(let q in this.lastEntities){const N=this.lastEntities[q];z=z.replace(N.regex,N.val)}if(this.options.htmlEntities)for(let q in this.htmlEntities){const N=this.htmlEntities[q];z=z.replace(N.regex,N.val)}z=z.replace(this.ampEntity.regex,this.ampEntity.val)}return z};function P(z,q,N,X){return z&&(X===void 0&&(X=Object.keys(q.child).length===0),z=this.parseTextData(z,q.tagname,N,!1,q[":@"]?Object.keys(q[":@"]).length!==0:!1,X),z!==void 0&&z!==""&&q.add(this.options.textNodeName,z),z=""),z}function S(z,q,N){const X="*."+N;for(const K in z){const D=z[K];if(X===D||q===D)return!0}return!1}function I(z,q,N=">"){let X,K="";for(let D=q;D<z.length;D++){let ft=z[D];if(X)ft===X&&(X="");else if(ft==='"'||ft==="'")X=ft;else if(ft===N[0])if(N[1]){if(z[D+1]===N[1])return{data:K,index:D}}else return{data:K,index:D};else ft==="	"&&(ft=" ");K+=ft}}function U(z,q,N,X){const K=z.indexOf(q,N);if(K===-1)throw new Error(X);return K+q.length-1}function M(z,q,N,X=">"){const K=I(z,q+1,X);if(!K)return;let D=K.data;const ft=K.index,Y=D.search(/\s/);let G=D,J=!0;Y!==-1&&(G=D.substring(0,Y),D=D.substring(Y+1).trimStart());const ut=G;if(N){const tt=G.indexOf(":");tt!==-1&&(G=G.substr(tt+1),J=G!==K.data.substr(tt+1))}return{tagName:G,tagExp:D,closeIndex:ft,attrExpPresent:J,rawTagName:ut}}function F(z,q,N){const X=N;let K=1;for(;N<z.length;N++)if(z[N]==="<")if(z[N+1]==="/"){const D=U(z,">",N,`${q} is not closed`);if(z.substring(N+2,D).trim()===q&&(K--,K===0))return{tagContent:z.substring(X,N),i:D};N=D}else if(z[N+1]==="?")N=U(z,"?>",N+1,"StopNode is not closed.");else if(z.substr(N+1,3)==="!--")N=U(z,"-->",N+3,"StopNode is not closed.");else if(z.substr(N+1,2)==="![")N=U(z,"]]>",N,"StopNode is not closed.")-2;else{const D=M(z,N,">");D&&((D&&D.tagName)===q&&D.tagExp[D.tagExp.length-1]!=="/"&&K++,N=D.closeIndex)}}function H(z,q,N){if(q&&typeof z=="string"){const X=z.trim();return X==="true"?!0:X==="false"?!1:k(z,N)}else return p.isExist(z)?z:""}c.exports=b},{"../util":4,"./DocTypeReader":8,"./xmlNode":13,strnum:15}],11:[function(r,c,a){const{buildOptions:p}=r("./OptionsBuilder"),m=r("./OrderedObjParser"),{prettify:x}=r("./node2json"),k=r("../validator");class b{constructor(u){this.externalEntities={},this.options=p(u)}parse(u,w){if(typeof u!="string")if(u.toString)u=u.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(w){w===!0&&(w={});const _=k.validate(u,w);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}const y=new m(this.options);y.addExternalEntities(this.externalEntities);const f=y.parseXml(u);return this.options.preserveOrder||f===void 0?f:x(f,this.options)}addEntity(u,w){if(w.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(u.indexOf("&")!==-1||u.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(w==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[u]=w}}c.exports=b},{"../validator":5,"./OptionsBuilder":9,"./OrderedObjParser":10,"./node2json":12}],12:[function(r,c,a){function p(g,u){return m(g,u)}function m(g,u,w){let y;const f={};for(let _=0;_<g.length;_++){const T=g[_],C=x(T);let P="";if(w===void 0?P=C:P=w+"."+C,C===u.textNodeName)y===void 0?y=T[C]:y+=""+T[C];else{if(C===void 0)continue;if(T[C]){let S=m(T[C],u,P);const I=b(S,u);T[":@"]?k(S,T[":@"],P,u):Object.keys(S).length===1&&S[u.textNodeName]!==void 0&&!u.alwaysCreateTextNode?S=S[u.textNodeName]:Object.keys(S).length===0&&(u.alwaysCreateTextNode?S[u.textNodeName]="":S=""),f[C]!==void 0&&f.hasOwnProperty(C)?(Array.isArray(f[C])||(f[C]=[f[C]]),f[C].push(S)):u.isArray(C,P,I)?f[C]=[S]:f[C]=S}}}return typeof y=="string"?y.length>0&&(f[u.textNodeName]=y):y!==void 0&&(f[u.textNodeName]=y),f}function x(g){const u=Object.keys(g);for(let w=0;w<u.length;w++){const y=u[w];if(y!==":@")return y}}function k(g,u,w,y){if(u){const f=Object.keys(u),_=f.length;for(let T=0;T<_;T++){const C=f[T];y.isArray(C,w+"."+C,!0,!0)?g[C]=[u[C]]:g[C]=u[C]}}}function b(g,u){const{textNodeName:w}=u,y=Object.keys(g).length;return!!(y===0||y===1&&(g[w]||typeof g[w]=="boolean"||g[w]===0))}a.prettify=p},{}],13:[function(r,c,a){class p{constructor(x){this.tagname=x,this.child=[],this[":@"]={}}add(x,k){x==="__proto__"&&(x="#__proto__"),this.child.push({[x]:k})}addChild(x){x.tagname==="__proto__"&&(x.tagname="#__proto__"),x[":@"]&&Object.keys(x[":@"]).length>0?this.child.push({[x.tagname]:x.child,":@":x[":@"]}):this.child.push({[x.tagname]:x.child})}}c.exports=p},{}],14:[function(r,c,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(p,m,x,k,b){var g,u,w=b*8-k-1,y=(1<<w)-1,f=y>>1,_=-7,T=x?b-1:0,C=x?-1:1,P=p[m+T];for(T+=C,g=P&(1<<-_)-1,P>>=-_,_+=w;_>0;g=g*256+p[m+T],T+=C,_-=8);for(u=g&(1<<-_)-1,g>>=-_,_+=k;_>0;u=u*256+p[m+T],T+=C,_-=8);if(g===0)g=1-f;else{if(g===y)return u?NaN:(P?-1:1)*(1/0);u=u+Math.pow(2,k),g=g-f}return(P?-1:1)*u*Math.pow(2,g-k)},a.write=function(p,m,x,k,b,g){var u,w,y,f=g*8-b-1,_=(1<<f)-1,T=_>>1,C=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=k?0:g-1,S=k?1:-1,I=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(w=isNaN(m)?1:0,u=_):(u=Math.floor(Math.log(m)/Math.LN2),m*(y=Math.pow(2,-u))<1&&(u--,y*=2),u+T>=1?m+=C/y:m+=C*Math.pow(2,1-T),m*y>=2&&(u++,y/=2),u+T>=_?(w=0,u=_):u+T>=1?(w=(m*y-1)*Math.pow(2,b),u=u+T):(w=m*Math.pow(2,T-1)*Math.pow(2,b),u=0));b>=8;p[x+P]=w&255,P+=S,w/=256,b-=8);for(u=u<<b|w,f+=b;f>0;p[x+P]=u&255,P+=S,u/=256,f-=8);p[x+P-S]|=I*128}},{}],15:[function(r,c,a){const p=/^[-+]?0x[a-fA-F0-9]+$/,m=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function k(g,u={}){if(u=Object.assign({},x,u),!g||typeof g!="string")return g;let w=g.trim();if(u.skipLike!==void 0&&u.skipLike.test(w))return g;if(u.hex&&p.test(w))return Number.parseInt(w,16);{const y=m.exec(w);if(y){const f=y[1],_=y[2];let T=b(y[3]);const C=y[4]||y[6];if(!u.leadingZeros&&_.length>0&&f&&w[2]!==".")return g;if(!u.leadingZeros&&_.length>0&&!f&&w[1]!==".")return g;{const P=Number(w),S=""+P;return S.search(/[eE]/)!==-1||C?u.eNotation?P:g:w.indexOf(".")!==-1?S==="0"&&T===""||S===T||f&&S==="-"+T?P:g:_?T===S||f+T===S?P:g:w===S||w===f+S?P:g}}else return g}}function b(g){return g&&g.indexOf(".")!==-1&&(g=g.replace(/0+$/,""),g==="."?g="0":g[0]==="."?g="0"+g:g[g.length-1]==="."&&(g=g.substr(0,g.length-1))),g}c.exports=k},{}],16:[function(r,c,a){(function(p){(function(){var m=this&&this.__awaiter||function(w,y,f,_){function T(C){return C instanceof f?C:new f(function(P){P(C)})}return new(f||(f=Promise))(function(C,P){function S(M){try{U(_.next(M))}catch(F){P(F)}}function I(M){try{U(_.throw(M))}catch(F){P(F)}}function U(M){M.done?C(M.value):T(M.value).then(S,I)}U((_=_.apply(w,y||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.osmFetch=u;const x=r("../auth"),k=r("../config"),b=r("./_xml"),g=w=>typeof btoa>"u"?p.from(w,"binary").toString("base64"):btoa(w);function u(w,y,f){return m(this,void 0,void 0,function*(){const{apiUrl:_,authHeader:T,basicAuth:C,userAgent:P}=(0,k.getConfig)(),S=C&&`Basic ${g(`${C.username}:${C.password}`)}`,I=(0,x.getAuthToken)()&&`Bearer ${(0,x.getAuthToken)()}`;let U=new URLSearchParams(y).toString();U&&(U=`?${U}`);const M=yield fetch(`${_}/api${w}${U}`,Object.assign(Object.assign({},f),{headers:Object.assign({Authorization:T||S||I||"","User-Agent":P},f==null?void 0:f.headers)})),F=M.headers.get("Content-Type");if(F!=null&&F.startsWith("application/xml")){const z=yield M.text();return yield b.xmlParser.parse(z)}if(F!=null&&F.startsWith("application/json"))return M.json();if(M.ok)return yield M.text();const H=new Error(`OSM API: ${yield M.text()}`);throw H.cause=M.status,H})}}).call(this)}).call(this,r("buffer").Buffer)},{"../auth":51,"../config":53,"./_xml":17,buffer:2}],17:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.xmlParser=void 0;const p=r("fast-xml-parser");a.xmlParser=new p.XMLParser({ignoreAttributes:!1,attributesGroupName:"$",attributeNamePrefix:"",isArray:m=>m!=="$"})},{"fast-xml-parser":3}],18:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.createChangesetMetaXml=x,a.createOsmChangeXml=b;const p=r("fast-xml-parser"),m=new p.XMLBuilder({ignoreAttributes:!1,attributeNamePrefix:"$",format:!0,suppressEmptyNode:!0,suppressBooleanAttributes:!1});function x(g){return m.build({osm:{changeset:{tag:Object.entries(g).map(([u,w])=>({$k:u,$v:w}))}}})}const k=(g,u,w)=>u.reduce((y,f)=>{const _={$id:f.id,$version:w?0:f.version,$changeset:g,tag:Object.entries(f.tags||{}).map(([T,C])=>({$k:T,$v:C}))};switch(f.type){case"node":{const T=Object.assign(Object.assign({},_),{$lat:f.lat,$lon:f.lon});return Object.assign(Object.assign({},y),{node:[...y.node,T]})}case"way":{if(!f.nodes)throw new Error("Way has no nodes");const T=Object.assign(Object.assign({},_),{nd:f.nodes.map(C=>({$ref:C}))});return Object.assign(Object.assign({},y),{way:[...y.way,T]})}case"relation":{if(!f.members)throw new Error("Relation has no members");const T=Object.assign(Object.assign({},_),{member:f.members.map(C=>({$type:C.type,$ref:C.ref,$role:C.role}))});return Object.assign(Object.assign({},y),{relation:[...y.relation,T]})}default:return y}},{node:[],way:[],relation:[]});function b(g,u,w){return m.build({osmChange:{$version:"0.6",$generator:"osm-api-js",changeset:w?{tag:Object.entries(w).map(([y,f])=>({$k:y,$v:f}))}:void 0,create:[k(g,u.create,!0)],modify:[k(g,u.modify)],delete:[Object.assign({"$if-unused":!0},k(g,u.delete))]}})}},{"fast-xml-parser":3}],19:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseOsmChangeJson=b,a.parseOsmChangeXml=g;const p=r("../_xml");function m(u){if(u!=null&&u.tag)return Object.fromEntries(u.tag.map(w=>[w.$.k,w.$.v]))}function x(u){return{changeset:+u.$.changeset,id:+u.$.id,timestamp:u.$.timestamp,uid:+u.$.uid,user:u.$.user,version:+u.$.version,tags:m(u)}}const k=u=>{const w=[];if(u.node){const y=u.node.map(f=>Object.assign(Object.assign({type:"node"},x(f)),{lat:+f.$.lat,lon:+f.$.lon}));w.push(...y)}if(u.way){const y=u.way.map(f=>{var _;return Object.assign(Object.assign({type:"way"},x(f)),{nodes:((_=f.nd)===null||_===void 0?void 0:_.map(T=>+T.$.ref))||[]})});w.push(...y)}if(u.relation){const y=u.relation.map(f=>{var _;return Object.assign(Object.assign({type:"relation"},x(f)),{members:((_=f.member)===null||_===void 0?void 0:_.map(T=>({ref:+T.$.ref,role:T.$.role,type:T.$.type})))||[]})});w.push(...y)}return w};function b(u){var w,y,f,_;const T=m((w=u.osmChange[0].changeset)===null||w===void 0?void 0:w[0]),C={create:((y=u.osmChange[0].create)===null||y===void 0?void 0:y.flatMap(k))||[],modify:((f=u.osmChange[0].modify)===null||f===void 0?void 0:f.flatMap(k))||[],delete:((_=u.osmChange[0].delete)===null||_===void 0?void 0:_.flatMap(k))||[]};return T&&(C.changeset=T),C}function g(u){const w=p.xmlParser.parse(u);return b(w)}},{"../_xml":17}],20:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getOsmChangeSize=k,a.chunkOsmChange=b;const p=["create","modify","delete"],m=["create-node","create-way","create-relation","delete-relation","delete-way","delete-node","modify-node","modify-way","modify-relation"],x=()=>({create:[],modify:[],delete:[]});function k(g){return g.create.length+g.modify.length+g.delete.length}function b(g,u){var w;const y=(w=u==null?void 0:u.api.changesets.maximum_elements)!==null&&w!==void 0?w:b.DEFAULT_LIMIT;if(k(g)<=y)return[g];const f={};for(const P of p)for(const S of g[P]){const I=`${P}-${S.type}`;f[I]||(f[I]=[]),f[I].push(S)}const _=[x()];function T(){var P;for(const S of m){const I=S.split("-")[0],U=(P=f[S])===null||P===void 0?void 0:P.pop();if(U)return{action:I,feature:U}}}let C;for(;C=T();){const P=_[0];P[C.action].push(C.feature),k(P)>=y&&_.unshift(x())}return _.reverse()}b.DEFAULT_LIMIT=1e4},{}],21:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.createChangesetComment=x;const m=r("../_osmFetch");function x(k,b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/changeset/${k}/comment`,void 0,Object.assign(Object.assign({},g),{method:"POST",body:`text=${encodeURIComponent(b)}`,headers:Object.assign(Object.assign({},g==null?void 0:g.headers),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})}))})}},{"../_osmFetch":16}],22:[function(r,c,a){var p=this&&this.__awaiter||function(b,g,u,w){function y(f){return f instanceof u?f:new u(function(_){_(f)})}return new(u||(u=Promise))(function(f,_){function T(S){try{P(w.next(S))}catch(I){_(I)}}function C(S){try{P(w.throw(S))}catch(I){_(I)}}function P(S){S.done?f(S.value):y(S.value).then(T,C)}P((w=w.apply(b,g||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getChangesetDiff=k;const m=r("../_osmFetch"),x=r("./_parseOsmChangeXml");function k(b,g){return p(this,void 0,void 0,function*(){const u=yield(0,m.osmFetch)(`/0.6/changeset/${b}/download`,void 0,g);return(0,x.parseOsmChangeJson)(u)})}},{"../_osmFetch":16,"./_parseOsmChangeXml":19}],23:[function(r,c,a){var p=this&&this.__awaiter||function(u,w,y,f){function _(T){return T instanceof y?T:new y(function(C){C(T)})}return new(y||(y=Promise))(function(T,C){function P(U){try{I(f.next(U))}catch(M){C(M)}}function S(U){try{I(f.throw(U))}catch(M){C(M)}}function I(U){U.done?T(U.value):_(U.value).then(P,S)}I((f=f.apply(u,w||[])).next())})},m=this&&this.__rest||function(u,w){var y={};for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&w.indexOf(f)<0&&(y[f]=u[f]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,f=Object.getOwnPropertySymbols(u);_<f.length;_++)w.indexOf(f[_])<0&&Object.prototype.propertyIsEnumerable.call(u,f[_])&&(y[f[_]]=u[f[_]]);return y};Object.defineProperty(a,"__esModule",{value:!0}),a.listChangesets=b,a.getChangeset=g;const x=r("../_osmFetch"),k=u=>{var{comments:w}=u,y=m(u,["comments"]);return Object.assign(Object.assign({},y),{created_at:new Date(y.created_at),closed_at:y.closed_at?new Date(y.closed_at):void 0,discussion:w==null?void 0:w.map(f=>Object.assign(Object.assign({},f),{date:new Date(f.date),uid:`${f.uid}`}))})};function b(u,w){return p(this,void 0,void 0,function*(){const{only:y}=u,f=m(u,["only"]);return(yield(0,x.osmFetch)("/0.6/changesets.json",Object.assign(Object.assign({},y&&{[y]:!0}),f),w)).changesets.map(k)})}function g(u){return p(this,arguments,void 0,function*(w,y=!0,f){const _=yield(0,x.osmFetch)(`/0.6/changeset/${w}.json`,y?{include_discussion:1}:{},f);return k(_.changeset)})}},{"../_osmFetch":16}],24:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(b,g,u,w){w===void 0&&(w=u);var y=Object.getOwnPropertyDescriptor(g,u);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return g[u]}}),Object.defineProperty(b,w,y)}:function(b,g,u,w){w===void 0&&(w=u),b[w]=g[u]}),m=this&&this.__exportStar||function(b,g){for(var u in b)u!=="default"&&!Object.prototype.hasOwnProperty.call(g,u)&&p(g,b,u)};Object.defineProperty(a,"__esModule",{value:!0}),a.createOsmChangeXml=a.parseOsmChangeXml=void 0,m(r("./chunkOsmChange"),a),m(r("./createChangesetComment"),a),m(r("./getChangesetDiff"),a),m(r("./getChangesets"),a),m(r("./subscription"),a),m(r("./uploadChangeset"),a);var x=r("./_parseOsmChangeXml");Object.defineProperty(a,"parseOsmChangeXml",{enumerable:!0,get:function(){return x.parseOsmChangeXml}});var k=r("./_createOsmChangeXml");Object.defineProperty(a,"createOsmChangeXml",{enumerable:!0,get:function(){return k.createOsmChangeXml}})},{"./_createOsmChangeXml":18,"./_parseOsmChangeXml":19,"./chunkOsmChange":20,"./createChangesetComment":21,"./getChangesetDiff":22,"./getChangesets":23,"./subscription":25,"./uploadChangeset":26}],25:[function(r,c,a){var p=this&&this.__awaiter||function(b,g,u,w){function y(f){return f instanceof u?f:new u(function(_){_(f)})}return new(u||(u=Promise))(function(f,_){function T(S){try{P(w.next(S))}catch(I){_(I)}}function C(S){try{P(w.throw(S))}catch(I){_(I)}}function P(S){S.done?f(S.value):y(S.value).then(T,C)}P((w=w.apply(b,g||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.subscribeToChangeset=x,a.unsubscribeFromChangeset=k;const m=r("../_osmFetch");function x(b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/changeset/${b}/subscribe`,{},Object.assign(Object.assign({},g),{method:"POST"}))})}function k(b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/changeset/${b}/unsubscribe`,{},Object.assign(Object.assign({},g),{method:"POST"}))})}},{"../_osmFetch":16}],26:[function(r,c,a){var p=this&&this.__awaiter||function(g,u,w,y){function f(_){return _ instanceof w?_:new w(function(T){T(_)})}return new(w||(w=Promise))(function(_,T){function C(I){try{S(y.next(I))}catch(U){T(U)}}function P(I){try{S(y.throw(I))}catch(U){T(U)}}function S(I){I.done?_(I.value):f(I.value).then(C,P)}S((y=y.apply(g,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.uploadChangeset=b;const m=r("../_osmFetch"),x=r("./_createOsmChangeXml"),k=r("./chunkOsmChange");function b(g,u,w){return p(this,void 0,void 0,function*(){const y=(0,k.chunkOsmChange)(u),f=[],_=(0,k.getOsmChangeSize)(u);for(const[T,C]of y.entries()){let P=g;y.length>1&&(w!=null&&w.onChunk?P=w.onChunk({featureCount:_,changesetIndex:T,changesetTotal:y.length}):P.chunk=`${T+1}/${y.length}`);const S=+(yield(0,m.osmFetch)("/0.6/changeset/create",void 0,Object.assign(Object.assign({},w),{method:"PUT",body:(0,x.createChangesetMetaXml)(P),headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})}))),I=(0,x.createOsmChangeXml)(S,C);yield(0,m.osmFetch)(`/0.6/changeset/${S}/upload`,void 0,Object.assign(Object.assign({},w),{method:"POST",body:I,headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})})),yield(0,m.osmFetch)(`/0.6/changeset/${S}/close`,void 0,Object.assign(Object.assign({},w),{method:"PUT"})),f.push(S)}return f[0]})}},{"../_osmFetch":16,"./_createOsmChangeXml":18,"./chunkOsmChange":20}],27:[function(r,c,a){var p=this&&this.__awaiter||function(b,g,u,w){function y(f){return f instanceof u?f:new u(function(_){_(f)})}return new(u||(u=Promise))(function(f,_){function T(S){try{P(w.next(S))}catch(I){_(I)}}function C(S){try{P(w.throw(S))}catch(I){_(I)}}function P(S){S.done?f(S.value):y(S.value).then(T,C)}P((w=w.apply(b,g||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getApiCapabilities=x,a.getCapabilities=k;const m=r("./_osmFetch");function x(b){return p(this,void 0,void 0,function*(){return(0,m.osmFetch)("/capabilities.json",void 0,b)})}function k(){return p(this,void 0,void 0,function*(){const b=yield x();return{limits:{maxArea:b.api.area.maximum,maxNoteArea:b.api.note_area.maximum,maxTracepointPerPage:b.api.tracepoints.per_page,maxWayNodes:b.api.waynodes.maximum,maxChangesetElements:b.api.changesets.maximum_elements,maxTimeout:b.api.timeout.seconds},policy:{imageryBlacklist:b.policy.imagery.blacklist.map(u=>u.regex)}}})}},{"./_osmFetch":16}],28:[function(r,c,a){var p=this&&this.__awaiter||function(y,f,_,T){function C(P){return P instanceof _?P:new _(function(S){S(P)})}return new(_||(_=Promise))(function(P,S){function I(F){try{M(T.next(F))}catch(H){S(H)}}function U(F){try{M(T.throw(F))}catch(H){S(H)}}function M(F){F.done?P(F.value):C(F.value).then(I,U)}M((T=T.apply(y,f||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getFeature=x,a.getFeatures=k,a.getFeatureAtVersion=b,a.getFeatureHistory=g,a.getWaysForNode=u,a.getRelationsForElement=w;const m=r("./_osmFetch");function x(y,f,_,T){return p(this,void 0,void 0,function*(){const C=_&&y!=="node"?"/full":"";return(yield(0,m.osmFetch)(`/0.6/${y}/${f}${C}.json`,void 0,T)).elements})}function k(y,f,_){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/${y}s.json?${y}s=${f.join(",")}`,void 0,_)).elements})}function b(y,f,_,T){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/${y}/${f}/${_}.json`,void 0,T)).elements[0]})}function g(y,f,_){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/${y}/${f}/history.json`,void 0,_)).elements})}function u(y,f){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/node/${y}/ways.json`,void 0,f)).elements})}function w(y,f,_){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/${y}/${f}/relations.json`,void 0,_)).elements})}},{"./_osmFetch":16}],29:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getMapData=x;const m=r("./_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)("/0.6/map.json",{bbox:k},b)).elements})}},{"./_osmFetch":16}],30:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getPermissions=x;const m=r("./_osmFetch");function x(k){return p(this,void 0,void 0,function*(){return(0,m.osmFetch)("/0.6/permissions.json",void 0,k)})}},{"./_osmFetch":16}],31:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getUIdFromDisplayName=x;const m=r("./changesets");function x(k){return p(this,void 0,void 0,function*(){const b=yield(0,m.listChangesets)({display_name:k});if(!b.length)throw new Error("Could not get uid because the user has never edited the map");return b[0].uid})}},{"./changesets":24}],32:[function(r,c,a){var p=this&&this.__awaiter||function(u,w,y,f){function _(T){return T instanceof y?T:new y(function(C){C(T)})}return new(y||(y=Promise))(function(T,C){function P(U){try{I(f.next(U))}catch(M){C(M)}}function S(U){try{I(f.throw(U))}catch(M){C(M)}}function I(U){U.done?T(U.value):_(U.value).then(P,S)}I((f=f.apply(u,w||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getUser=x,a.getUsers=k,a.getUserBlockById=b,a.getOwnUserBlocks=g;const m=r("./_osmFetch");function x(u,w){return p(this,void 0,void 0,function*(){const y=yield(0,m.osmFetch)(`/0.6/user/${u==="me"?"details":u}.json`,void 0,w);return Object.assign(Object.assign({},y.user),{account_created:new Date(y.user.account_created)})})}function k(u,w){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)("/0.6/users",{users:u},w)).users.map(f=>Object.assign(Object.assign({},f),{account_created:new Date(f.account_created)}))})}function b(u,w){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/user_blocks/${u}.json`,void 0,w)).user_block})}function g(u){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)("/0.6/user/blocks/active",void 0,u)).user_blocks})}},{"./_osmFetch":16}],33:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./changesets"),a),m(r("./messages"),a),m(r("./notes"),a),m(r("./preferences"),a),m(r("./getCapabilities"),a),m(r("./getFeature"),a),m(r("./getMapData"),a),m(r("./getPermissions"),a),m(r("./getUIdFromDisplayName"),a),m(r("./getUser"),a)},{"./changesets":24,"./getCapabilities":27,"./getFeature":28,"./getMapData":29,"./getPermissions":30,"./getUIdFromDisplayName":31,"./getUser":32,"./messages":36,"./notes":41,"./preferences":46}],34:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.deleteMessage=x;const m=r("../_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/user/messages/${k}.json`,{},Object.assign(Object.assign({},b),{method:"DELETE"}))).message})}},{"../_osmFetch":16}],35:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getMessage=x;const m=r("../_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,b)).message})}},{"../_osmFetch":16}],36:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./deleteMessage"),a),m(r("./getMessage"),a),m(r("./listMessages"),a),m(r("./sendMessage"),a),m(r("./updateMessageReadStatus"),a)},{"./deleteMessage":34,"./getMessage":35,"./listMessages":37,"./sendMessage":38,"./updateMessageReadStatus":39}],37:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.listMessages=x;const m=r("../_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,b)).messages})}},{"../_osmFetch":16}],38:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.sendMessage=x;const m=r("../_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)("/0.6/user/messages.json",k,Object.assign(Object.assign({},b),{method:"POST"}))).message})}},{"../_osmFetch":16}],39:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.updateMessageReadStatus=x;const m=r("../_osmFetch");function x(k,b,g){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/user/messages/${k}.json`,{read_status:b},Object.assign(Object.assign({},g),{method:"POST"}))).message})}},{"../_osmFetch":16}],40:[function(r,c,a){var p=this&&this.__awaiter||function(w,y,f,_){function T(C){return C instanceof f?C:new f(function(P){P(C)})}return new(f||(f=Promise))(function(C,P){function S(M){try{U(_.next(M))}catch(F){P(F)}}function I(M){try{U(_.throw(M))}catch(F){P(F)}}function U(M){M.done?C(M.value):T(M.value).then(S,I)}U((_=_.apply(w,y||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getNotesForQuery=b,a.getNotesForArea=g,a.getNote=u;const m=r("../_osmFetch"),x=w=>{const[y,f]=w.geometry.coordinates;return Object.assign(Object.assign({},w.properties),{location:{lat:f,lng:y}})};function k(w,y,f){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)(`/0.6/notes${y?"/search":""}.json`,w,f)).features.map(x)})}function b(w,y){return k(w,!0,y)}function g(w,y){return k({bbox:w},!1,y)}function u(w,y){return p(this,void 0,void 0,function*(){const f=yield(0,m.osmFetch)(`/0.6/notes/${w}.json`,void 0,y);return x(f)})}},{"../_osmFetch":16}],41:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./getNotes"),a),m(r("./noteActions"),a),m(r("./subscription"),a)},{"./getNotes":40,"./noteActions":42,"./subscription":43}],42:[function(r,c,a){var p=this&&this.__awaiter||function(g,u,w,y){function f(_){return _ instanceof w?_:new w(function(T){T(_)})}return new(w||(w=Promise))(function(_,T){function C(I){try{S(y.next(I))}catch(U){T(U)}}function P(I){try{S(y.throw(I))}catch(U){T(U)}}function S(I){I.done?_(I.value):f(I.value).then(C,P)}S((y=y.apply(g,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.createNote=x,a.commentOnNote=k,a.reopenNote=b;const m=r("../_osmFetch");function x(g,u,w,y){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)("/0.6/notes",{lat:g,lon:u,text:w},y)})}function k(g,u,w){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/notes/${g}/comment`,{text:u},w)})}function b(g,u,w){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/notes/${g}/reopen`,{text:u},w)})}},{"../_osmFetch":16}],43:[function(r,c,a){var p=this&&this.__awaiter||function(b,g,u,w){function y(f){return f instanceof u?f:new u(function(_){_(f)})}return new(u||(u=Promise))(function(f,_){function T(S){try{P(w.next(S))}catch(I){_(I)}}function C(S){try{P(w.throw(S))}catch(I){_(I)}}function P(S){S.done?f(S.value):y(S.value).then(T,C)}P((w=w.apply(b,g||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.subscribeToNote=x,a.unsubscribeFromNote=k;const m=r("../_osmFetch");function x(b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/notes/${b}/subscription`,{},Object.assign(Object.assign({},g),{method:"POST"}))})}function k(b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/notes/${b}/subscription`,{},Object.assign(Object.assign({},g),{method:"DELETE"}))})}},{"../_osmFetch":16}],44:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.deletePreferences=x;const m=r("../_osmFetch");function x(k,b){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},b),{method:"DELETE"}))})}},{"../_osmFetch":16}],45:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getPreferences=x;const m=r("../_osmFetch");function x(k){return p(this,void 0,void 0,function*(){return(yield(0,m.osmFetch)("/0.6/user/preferences.json",void 0,k)).preferences})}},{"../_osmFetch":16}],46:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./deletePreferences"),a),m(r("./getPreferences"),a),m(r("./updatePreferences"),a)},{"./deletePreferences":44,"./getPreferences":45,"./updatePreferences":47}],47:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.updatePreferences=x;const m=r("../_osmFetch");function x(k,b,g){return p(this,void 0,void 0,function*(){yield(0,m.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},g),{method:"PUT",body:b}))})}},{"../_osmFetch":16}],48:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.createPopup=p;function p(m){let x=!1;return new Promise((k,b)=>{const[g,u]=[600,550],w=Object.entries({width:g,height:u,left:window.screen.width/2-g/2,top:window.screen.height/2-u/2}).map(([_,T])=>`${_}=${T}`).join(","),y=window.open("about:blank","oauth_window",w);if(!y)throw new Error("Popup was blocked");y.location=m,window.authComplete=_=>{k(_),x=!0};const f=setInterval(()=>{y.closed&&(x||b(new Error("Cancelled")),clearInterval(f))},500)})}},{}],49:[function(r,c,a){var p=this&&this.__awaiter||function(k,b,g,u){function w(y){return y instanceof g?y:new g(function(f){f(y)})}return new(g||(g=Promise))(function(y,f){function _(P){try{C(u.next(P))}catch(S){f(S)}}function T(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(_,T)}C((u=u.apply(k,b||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.exchangeCode=x;const m=r("./helpers");function x(k,b){return p(this,arguments,void 0,function*(g,{options:u,pkceVerifier:w,state:y}){const f=new URL(g).searchParams,_=f.get("error_description"),T=f.get("code"),C=f.get("state");if(_)throw new Error(_);if(!T)throw new Error("No code in OAuth response");if(!w||!y)throw new Error("No login in progress");if(y!==C)throw new Error("State Mismatch");const P={grant_type:"authorization_code",code:T,redirect_uri:u.redirectUrl,client_id:u.clientId,code_verifier:w},S=`${(0,m.getOAuthBaseUrl)()}/oauth2/token?${new URLSearchParams(P).toString()}`,U=yield(yield fetch(S,{method:"POST",body:"",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).json();if("error_description"in U)throw new Error(U.error_description);const M={issuedAt:new Date(U.created_at*1e3).toISOString(),accessToken:U.access_token,scopes:U.scope.split(" ")};return localStorage.setItem("__osmAuth",JSON.stringify(M)),delete window.authComplete,M})}},{"./helpers":50}],50:[function(r,c,a){var p=this&&this.__awaiter||function(g,u,w,y){function f(_){return _ instanceof w?_:new w(function(T){T(_)})}return new(w||(w=Promise))(function(_,T){function C(I){try{S(y.next(I))}catch(U){T(U)}}function P(I){try{S(y.throw(I))}catch(U){T(U)}}function S(I){I.done?_(I.value):f(I.value).then(C,P)}S((y=y.apply(g,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.sha256=x,a.getRandomString=k,a.getOAuthBaseUrl=b;const m=r("../config");function x(g){return p(this,void 0,void 0,function*(){const u=new TextEncoder().encode(g),w=yield window.crypto.subtle.digest("SHA-256",u);return btoa(String.fromCharCode(...new Uint8Array(w))).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")})}function k(){return[...window.crypto.getRandomValues(new Uint32Array(32))].map(g=>`0${g.toString(16)}`.slice(-2)).join("")}function b(){let g=(0,m.getConfig)().apiUrl;return g==="https://api.openstreetmap.org"&&(g="https://www.openstreetmap.org"),g}},{"../config":53}],51:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./oauth2"),a)},{"./oauth2":52}],52:[function(r,c,a){var p=this&&this.__awaiter||function(y,f,_,T){function C(P){return P instanceof _?P:new _(function(S){S(P)})}return new(_||(_=Promise))(function(P,S){function I(F){try{M(T.next(F))}catch(H){S(H)}}function U(F){try{M(T.throw(F))}catch(H){S(H)}}function M(F){F.done?P(F.value):C(F.value).then(I,U)}M((T=T.apply(y,f||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.isLoggedIn=a.getAuthToken=a.authReady=void 0,a.login=b,a.logout=w;const m=r("./createPopup"),x=r("./exchangeCode"),k=r("./helpers");function b(y){return p(this,void 0,void 0,function*(){if(!y.redirectUrl)throw new Error("You must include the 'redirectUrl' option");if(!y.clientId)throw new Error("You must include the 'clientId' option");if(!y.scopes)throw new Error("You must include the 'scopes' option");const f=(0,k.getRandomString)(),_=(0,k.getRandomString)(),T=yield(0,k.sha256)(_),C={scope:y.scopes.join(" "),include_granted_scopes:"true",response_type:"code",state:f,redirect_uri:y.redirectUrl,client_id:y.clientId,code_challenge_method:"S256",code_challenge:T},P=`/oauth2/authorize?${new URLSearchParams(C).toString()}`,S=y.switchUser?`/logout?referer=${encodeURIComponent(`/login?referer=${encodeURIComponent(P)}`)}`:P,I=(0,k.getOAuthBaseUrl)()+S,U={state:f,pkceVerifier:_,options:y};if(y.mode==="popup"){const M=yield(0,m.createPopup)(I);return(0,x.exchangeCode)(M,U)}if(y.mode==="redirect"){localStorage.set("__osmAuthTemp",JSON.stringify(U)),window.location.replace(I);return}throw new Error("options.mode must be 'popup' or 'redirect'")})}a.authReady=p(void 0,void 0,void 0,function*(){var y;if(typeof window>"u")return;const f=window.location.href,_=localStorage.getItem("__osmAuthTemp");if(new URL(f).searchParams.get("code")){if(!((y=window.opener)===null||y===void 0)&&y.authComplete)window.opener.authComplete(f),window.close();else if(_)try{const T=JSON.parse(_);yield(0,x.exchangeCode)(f,T),localStorage.removeItem("__osmAuthTemp")}catch(T){console.error("OSM Auth Error",T)}}});const g=()=>{try{const y=localStorage.getItem("__osmAuth");return y?JSON.parse(y).accessToken:void 0}catch{return}};a.getAuthToken=g;const u=()=>!!(0,a.getAuthToken)();a.isLoggedIn=u;function w(){localStorage.removeItem("__osmAuth")}},{"./createPopup":48,"./exchangeCode":49,"./helpers":50}],53:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getConfig=void 0,a.configure=x;const p={apiUrl:"https://api.openstreetmap.org",userAgent:"https://github.com/osmlab/osm-api-js"},m=()=>p;a.getConfig=m;function x(k){Object.assign(p,k)}},{}],54:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./api"),a),m(r("./auth"),a),m(r("./config"),a),m(r("./types"),a)},{"./api":33,"./auth":51,"./config":53,"./types":58}],55:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0})},{}],56:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],57:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],58:[function(r,c,a){var p=this&&this.__createBinding||(Object.create?function(x,k,b,g){g===void 0&&(g=b);var u=Object.getOwnPropertyDescriptor(k,b);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(x,g,u)}:function(x,k,b,g){g===void 0&&(g=b),x[g]=k[b]}),m=this&&this.__exportStar||function(x,k){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(k,b)&&p(k,x,b)};Object.defineProperty(a,"__esModule",{value:!0}),m(r("./changesets"),a),m(r("./features"),a),m(r("./general"),a),m(r("./messages"),a),m(r("./notes"),a),m(r("./osmPatch"),a),m(r("./user"),a)},{"./changesets":55,"./features":56,"./general":57,"./messages":59,"./notes":60,"./osmPatch":61,"./user":62}],59:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],60:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],61:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],62:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}]},{},[54])(54)})}(bn)),bn.exports}var fu=lu();function xn(n){return uu({async fetcher(s){return await fu.getFeatures(n,s)},resolver:(s,r)=>s.find(c=>c.id==r),scheduler:hu({windowMs:10,maxBatchSize:700})})}const yo={node:xn("node"),way:xn("way"),relation:xn("relation")};async function vo(n,s){const r=await yo[n].fetch(s);if(r===void 0)throw new Error(`Item not found: ${n} ${s}`);return r}async function du(n,s){return(await Promise.all(s.map(r=>yo[n].fetch(r)))).filter(Boolean)}const pu=Ae({__name:"OsmPolyline",props:{latLngs:{},options:{},popupContent:{}},setup(n){const s=n,r=wo();return _o(()=>s.latLngs,()=>{if(!s.latLngs||!r.value)return;const c=zn.polyline(s.latLngs,s.options).addTo(r.value);s.popupContent&&c.bindPopup(s.popupContent)},{immediate:!0}),(c,a)=>oi(c.$slots,"default")}}),mu=Ae({__name:"OsmWay",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(n){const s=n,r=Bn([]);return Fn(async()=>{const c=await vo("way",s.id),a=await du("node",c.nodes);r.value=a.map(p=>[p.lat,p.lon])}),(c,a)=>(ei(),Rn(pu,{"lat-lngs":r.value,options:{color:c.stroke,weight:c.strokeWidth},"popup-content":c.popupContent},{default:go(()=>[oi(c.$slots,"default")]),_:3},8,["lat-lngs","options","popup-content"]))}}),gl=Ae({__name:"OsmRelation",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(n){const s=n,r=Bn([]);return Fn(async()=>{const c=await vo("relation",Number(s.id));r.value=c.members.filter(a=>a.type==="way").map(a=>a.ref)||[]}),(c,a)=>(ei(!0),mo(eu,null,iu(r.value,p=>(ei(),Rn(mu,{key:p,id:p,stroke:s.stroke,"stroke-width":s.strokeWidth,"popup-content":s.popupContent},{default:go(()=>[oi(c.$slots,"default")]),_:2},1032,["id","stroke","stroke-width","popup-content"]))),128))}});function Ft(n){return s=>typeof s=="string"&&new RegExp(n.source,n.flags).test(s)}const _u=Ft(/^[1-9][0-9]*$/),jn=Ft(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)$/),gu=Ft(/^E[1-9][0-9]*$/),Ii=Ft(/^Q[1-9][0-9]*$/),zi=Ft(/^P[1-9][0-9]*$/),ko=Ft(/^L[1-9][0-9]*$/),bo=Ft(/^L[1-9][0-9]*-F[1-9][0-9]*$/),xo=Ft(/^L[1-9][0-9]*-S[1-9][0-9]*$/),wu=Ft(/^M[1-9][0-9]*$/),yu=Ft(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),vu=Ft(/^[0-9a-f]{40}$/),Po=Ft(/^\d+$/),Eo=Ft(/^(Q|P|L|M)[1-9][0-9]*$/);function ku(n){if(typeof n!="string")return!1;const[s,r]=n.split("#");return jn(s)&&zi(r)}function To(n){return typeof n!="string"?!1:n.startsWith("Item:")?Ii(n.substring(5)):n.startsWith("Lexeme:")?ko(n.substring(7)):n.startsWith("Property:")?zi(n.substring(9)):Ii(n)}function bu(n){if(!Eo(n))throw new Error(`invalid entity id: ${n}`);return n.replace(/^(Q|P|L|M)/,"")}function xu(n,s){let r=`https://commons.wikimedia.org/wiki/Special:FilePath/${n}`;return typeof s=="number"&&(r+=`?width=${s}`),r}function Pu(n){const s=n.split(/[$-]/);if(s.length===6)return s[0].toUpperCase();if(s.length===7)return s.slice(0,2).join("-").toUpperCase();throw new Error(`invalid guid: ${n}`)}const Eu=Object.freeze(Object.defineProperty({__proto__:null,getEntityIdFromGuid:Pu,getImageUrl:xu,getNumericId:bu,isEntityId:jn,isEntityPageTitle:To,isEntitySchemaId:gu,isFormId:bo,isGuid:yu,isHash:vu,isItemId:Ii,isLexemeId:ko,isMediaInfoId:wu,isNonNestedEntityId:Eo,isNumericId:_u,isPropertyClaimsId:ku,isPropertyId:zi,isRevisionId:Po,isSenseId:xo},Symbol.toStringTag,{value:"Module"}));function Kt(n){return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}function Zn(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}const Oo=n=>encodeURIComponent(n).replace(/[!'()*]/g,Ou),Tu=n=>n.replace(/\s/g,"_");function Lo(n){return Array.from(new Set(n))}const Ou=n=>"%"+n.charCodeAt(0).toString(16);function se(n){if(n.length!==1||!Zn(n[0]))throw new Error(`Since wikibase-sdk v9.0.0, this function expects arguments to be passed in an object
    See https://github.com/maxlath/wikibase-sdk/blob/main/CHANGELOG.md`)}function ii(n,s){return typeof s=="string"&&n.includes(s)}function On(n,s){return Object.prototype.hasOwnProperty.call(n,s)}function si(n){return Object.entries(n)}function Lu(n){return Object.keys(n)}function Un(n){typeof n=="object"&&(n=n.time);const s=n[0];let[r,c]=n.slice(1).split("T");r=r.replace(/-00/g,"-01");const a=`${r}T${c}`;return Su(s,a)}const Su=(n,s)=>{const r=s.split("-")[0];return n==="-"||r.length>4?Cu(n,s,r):new Date(s)},Cu=(n,s,r)=>{let c;return r.length===4?c=`${n}00${s}`:r.length===5?c=`${n}0${s}`:c=n+s,new Date(c)},Au=n=>Un(n).getTime(),Mu=n=>Un(n).toISOString(),Nu=n=>{if(typeof n=="object"){const{time:s,precision:r}=n;r===9?n=s.replace("-01-01T","-00-00T"):r===10?n=s.replace("-01T","-00T"):n=s}return n.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")},So=Au,Co=n=>{try{return Mu(n)}catch{const{sign:r,yearMonthDay:c,withinDay:a}=Mo(n);return`${r}${c}T${a}`}},Ao=n=>{try{return Nu(n)}catch{const{sign:r,yearMonthDay:c}=Mo(n);return`${r}${c}`}};function Mo(n){n=typeof n=="string"?n:n.time;const s=n[0];let[r,c]=n.slice(1).split("T");if(!s||!r||!c)throw new Error("TimeInput is invalid: "+JSON.stringify(n));return r=r.replace(/-00/g,"-01"),{sign:s,yearMonthDay:r,withinDay:c}}const Iu=Object.freeze(Object.defineProperty({__proto__:null,wikibaseTimeToDateObject:Un,wikibaseTimeToEpochTime:So,wikibaseTimeToISOString:Co,wikibaseTimeToSimpleDay:Ao},Symbol.toStringTag,{value:"Module"}));function ie(n){return n.value}function Bu(n,s){return s.keepRichValues?n.value:n.value.text}function Ce(n,s){const{entityPrefix:r}=s,{value:c}=n;let a;return c.id?a=c.id:a=`${Fu[c["entity-type"]]}${c["numeric-id"]}`,typeof r=="string"?`${r}:${a}`:a}const Fu={item:"Q","entity-schema":"E",lexeme:"L",property:"P",form:"F",sense:"S"};function Ru(n,s){const{value:r}=n,c=parseFloat(r.amount);if(s.keepRichValues){const a={amount:parseFloat(r.amount),unit:r.unit.replace(/^https?:\/\/.*\/entity\//,"")};return r.upperBound!=null&&(a.upperBound=parseFloat(r.upperBound)),r.lowerBound!=null&&(a.lowerBound=parseFloat(r.lowerBound)),a}else return c}function zu(n,s){return s.keepRichValues?n.value:[n.value.latitude,n.value.longitude]}function ju(n,s){let r;if(typeof s.timeConverter=="function"?r=s.timeConverter(n.value):r=Uu(s.timeConverter)(n.value),s.keepRichValues){const{timezone:c,before:a,after:p,precision:m,calendarmodel:x}=n.value;return{time:r,timezone:c,before:a,after:p,precision:m,calendarmodel:x}}else return r}const Zu={iso:Co,epoch:So,"simple-day":Ao,none:n=>typeof n=="string"?n:n.time};function Uu(n="iso"){const s=Zu[n];if(!s)throw new Error(`invalid converter key: ${JSON.stringify(n).substring(0,100)}`);return s}const Bi={commonsMedia:ie,"external-id":ie,"entity-schema":Ce,"geo-shape":ie,"globe-coordinate":zu,localMedia:ie,math:ie,monolingualtext:Bu,"musical-notation":ie,quantity:Ru,string:ie,"tabular-data":ie,time:ju,url:ie,"wikibase-form":Ce,"wikibase-item":Ce,"wikibase-lexeme":Ce,"wikibase-property":Ce,"wikibase-sense":Ce},$u={"musical notation":Bi["musical-notation"],globecoordinate:Bi["globe-coordinate"]};function qu(n,s,r){let c;if(n?c=Bi[n]||$u[n]:c=Bi[s.type],!c)throw new Error(`${n} claim parser isn't implemented. Please report to https://github.com/maxlath/wikibase-sdk/issues`);return c(s,r)}function $n(n){const s={};for(const r of n){const{rank:c}=r;s[c]=s[c]||[],s[c].push(r)}return s.preferred||s.normal||[]}function No(n){return n.filter(s=>s.rank!=="deprecated")}function Du(n){const s={};for(const[r,c]of si(n))s[r]=$n(c);return s}const Hu=Object.freeze(Object.defineProperty({__proto__:null,nonDeprecatedPropertyClaims:No,truthyClaims:Du,truthyPropertyClaims:$n},Symbol.toStringTag,{value:"Module"}));function ji(n,s={}){const{keepTypes:r,keepSnaktypes:c,keepHashes:a}=qn(s);let p;const{datatype:m,datavalue:x,snaktype:k,hash:b}=n;if(x)p=qu(m,x,s);else if(k==="somevalue")p=s.somevalueValue;else if(k==="novalue")p=s.novalueValue;else throw new Error("no datavalue or special snaktype found");if(r||c||a){const g={value:p};return r&&(g.type=m),c&&(g.snaktype=k),a&&(g.hash=b),g}else return p}function Io(n,s={}){const{keepQualifiers:r,keepReferences:c,keepIds:a,keepTypes:p,keepSnaktypes:m,keepRanks:x}=qn(s),{mainsnak:k,rank:b}=n,g=ji(k,s);if(!(r||c||a||p||m||x))return g;let u={value:g};return Zn(g)&&"value"in g?u=g:u={value:g},x&&(u.rank=b),r&&(u.qualifiers=zo(n.qualifiers,s)),c&&(n.references=n.references||[],u.references=jo(n.references,s)),a&&(u.id=n.id),u}function ni(n,s={}){const{propertyPrefix:r}=s,c={};for(let[a,p]of si(n))r&&(a=r+":"+a),c[a]=Bo(p,s);return c}function Bo(n,s={}){if(n==null||n.length===0)return[];const{keepNonTruthy:r,keepNonDeprecated:c}=qn(s),{minTimePrecision:a}=s;c?n=No(n):r||(n=$n(n));const p=[];for(const m of n)if(!Uo(m.mainsnak,a)){const k=Io(m,s);k!==void 0&&p.push(k)}return p[0]&&typeof p[0]!="object"?Lo(p):p}function Fo(n={},s={}){const{propertyPrefix:r}=s,c={};for(let[a,p]of si(n))r&&(a=r+":"+a),c[a]=Ro(p,s);return c}function Ro(n,s={}){if(n==null||n.length===0)return[];const{minTimePrecision:r}=s,c=[];for(const a of n)if(!Uo(a,r)){const m=ji(a,s);m!==void 0&&c.push(m)}return c[0]&&typeof c[0]!="object"?Lo(c):c}function zo(n,s={}){return Fo(n,s)}function Wu(n,s={}){return Ro(n,s)}function Vu(n,s={}){return ji(n,s)}function jo(n,s={}){return n.map(r=>Zo(r,s))}function Zo(n,s={}){const r=Fo(n.snaks,s);return s.keepHashes?{snaks:r,hash:n.hash}:r}const Gu=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks","keepRichValues"],qn=(n={})=>{if(n.keepAll)for(const s of Gu)n[s]==null&&(n[s]=!0);return n};function Uo(n,s){if(s==null||n.datatype!=="time"||n.snaktype!=="value")return!1;const{value:r}=n.datavalue;return r.precision<s}function ai(n){const s={};for(const[r,c]of si(n))s[r]=c!=null?c.value:null;return s}function Xu(n){const s={};for(const[r,c]of si(n))s[r]=c!=null?c.map(a=>a.value):[];return s}function $o(n){return ai(n)}function qo(n){return ai(n)}function Do(n){return Xu(n)}function Ho(n){return ai(n)}function Wo(n){return ai(n)}function Vo(n){return ai(n)}const Go=(n,s={})=>{const{id:r,representations:c,grammaticalFeatures:a,claims:p}=n;if(!bo(r))throw new Error("invalid form object");return{id:r,representations:Wo(c),grammaticalFeatures:a,claims:ni(p,s)}},Xo=(n,s={})=>n.map(r=>Go(r,s)),Jo=(n,s={})=>{const{id:r,glosses:c,claims:a}=n;if(!xo(r))throw new Error("invalid sense object");return{id:r,glosses:Vo(c),claims:ni(a,s)}};function Ko(n,s={}){return n.map(r=>Jo(r,s))}const Ln={commonswiki:"commons",foundationwiki:"foundation",mediawikiwiki:"mediawiki",metawiki:"meta",outreachwiki:"outreach",sourceswiki:"sources",specieswiki:"species",wikidatawiki:"wikidata",wikifunctionswiki:"wikifunctions",wikimaniawiki:"wikimania"},Dn=["aawiki","aawikibooks","aawiktionary","abwiki","abwiktionary","acewiki","adywiki","afwiki","afwikibooks","afwikiquote","afwiktionary","akwiki","akwikibooks","akwiktionary","alswiki","alswikibooks","alswikiquote","alswiktionary","altwiki","amiwiki","amwiki","amwikiquote","amwiktionary","angwiki","angwikibooks","angwikiquote","angwikisource","angwiktionary","annwiki","anpwiki","anwiki","anwiktionary","arcwiki","arwiki","arwikibooks","arwikinews","arwikiquote","arwikisource","arwikiversity","arwiktionary","arywiki","arzwiki","astwiki","astwikibooks","astwikiquote","astwiktionary","aswiki","aswikibooks","aswikiquote","aswikisource","aswiktionary","atjwiki","avkwiki","avwiki","avwiktionary","awawiki","aywiki","aywikibooks","aywiktionary","azbwiki","azwiki","azwikibooks","azwikiquote","azwikisource","azwiktionary","banwiki","banwikisource","barwiki","bat_smgwiki","bawiki","bawikibooks","bbcwiki","bclwiki","bclwikiquote","bclwikisource","bclwiktionary","bdrwiki","be_x_oldwiki","bewiki","bewikibooks","bewikiquote","bewikisource","bewiktionary","bewwiki","bgwiki","bgwikibooks","bgwikinews","bgwikiquote","bgwikisource","bgwiktionary","bhwiki","bhwiktionary","biwiki","biwikibooks","biwiktionary","bjnwiki","bjnwikiquote","bjnwiktionary","blkwiki","blkwiktionary","bmwiki","bmwikibooks","bmwikiquote","bmwiktionary","bnwiki","bnwikibooks","bnwikiquote","bnwikisource","bnwikivoyage","bnwiktionary","bowiki","bowikibooks","bowiktionary","bpywiki","brwiki","brwikiquote","brwikisource","brwiktionary","bswiki","bswikibooks","bswikinews","bswikiquote","bswikisource","bswiktionary","btmwiki","btmwiktionary","bugwiki","bxrwiki","cawiki","cawikibooks","cawikinews","cawikiquote","cawikisource","cawiktionary","cbk_zamwiki","cdowiki","cebwiki","cewiki","chowiki","chrwiki","chrwiktionary","chwiki","chwikibooks","chwiktionary","chywiki","ckbwiki","ckbwiktionary","commonswiki","cowiki","cowikibooks","cowikiquote","cowiktionary","crhwiki","crwiki","crwikiquote","crwiktionary","csbwiki","csbwiktionary","cswiki","cswikibooks","cswikinews","cswikiquote","cswikisource","cswikiversity","cswikivoyage","cswiktionary","cuwiki","cvwiki","cvwikibooks","cywiki","cywikibooks","cywikiquote","cywikisource","cywiktionary","dagwiki","dawiki","dawikibooks","dawikiquote","dawikisource","dawiktionary","dewiki","dewikibooks","dewikinews","dewikiquote","dewikisource","dewikiversity","dewikivoyage","dewiktionary","dgawiki","dinwiki","diqwiki","diqwiktionary","dsbwiki","dtpwiki","dtywiki","dvwiki","dvwiktionary","dzwiki","dzwiktionary","eewiki","elwiki","elwikibooks","elwikinews","elwikiquote","elwikisource","elwikiversity","elwikivoyage","elwiktionary","emlwiki","enwiki","enwikibooks","enwikinews","enwikiquote","enwikisource","enwikiversity","enwikivoyage","enwiktionary","eowiki","eowikibooks","eowikinews","eowikiquote","eowikisource","eowikivoyage","eowiktionary","eswiki","eswikibooks","eswikinews","eswikiquote","eswikisource","eswikiversity","eswikivoyage","eswiktionary","etwiki","etwikibooks","etwikiquote","etwikisource","etwiktionary","euwiki","euwikibooks","euwikiquote","euwikisource","euwiktionary","extwiki","fatwiki","fawiki","fawikibooks","fawikinews","fawikiquote","fawikisource","fawikivoyage","fawiktionary","ffwiki","fiu_vrowiki","fiwiki","fiwikibooks","fiwikinews","fiwikiquote","fiwikisource","fiwikiversity","fiwikivoyage","fiwiktionary","fjwiki","fjwiktionary","fonwiki","foundationwiki","fowiki","fowikisource","fowiktionary","frpwiki","frrwiki","frwiki","frwikibooks","frwikinews","frwikiquote","frwikisource","frwikiversity","frwikivoyage","frwiktionary","furwiki","fywiki","fywikibooks","fywiktionary","gagwiki","ganwiki","gawiki","gawikibooks","gawikiquote","gawiktionary","gcrwiki","gdwiki","gdwiktionary","glkwiki","glwiki","glwikibooks","glwikiquote","glwikisource","glwiktionary","gnwiki","gnwikibooks","gnwiktionary","gomwiki","gomwiktionary","gorwiki","gorwikiquote","gorwiktionary","gotwiki","gotwikibooks","gpewiki","gucwiki","gurwiki","guwiki","guwikibooks","guwikiquote","guwikisource","guwiktionary","guwwiki","guwwikinews","guwwikiquote","guwwiktionary","gvwiki","gvwiktionary","hakwiki","hawiki","hawiktionary","hawwiki","hewiki","hewikibooks","hewikinews","hewikiquote","hewikisource","hewikivoyage","hewiktionary","hifwiki","hifwiktionary","hiwiki","hiwikibooks","hiwikiquote","hiwikisource","hiwikiversity","hiwikivoyage","hiwiktionary","howiki","hrwiki","hrwikibooks","hrwikiquote","hrwikisource","hrwiktionary","hsbwiki","hsbwiktionary","htwiki","htwikisource","huwiki","huwikibooks","huwikinews","huwikiquote","huwikisource","huwiktionary","hywiki","hywikibooks","hywikiquote","hywikisource","hywiktionary","hywwiki","hzwiki","iawiki","iawikibooks","iawiktionary","ibawiki","idwiki","idwikibooks","idwikiquote","idwikisource","idwikivoyage","idwiktionary","iewiki","iewikibooks","iewiktionary","iglwiki","igwiki","igwikiquote","igwiktionary","iiwiki","ikwiki","ikwiktionary","ilowiki","inhwiki","iowiki","iowiktionary","iswiki","iswikibooks","iswikiquote","iswikisource","iswiktionary","itwiki","itwikibooks","itwikinews","itwikiquote","itwikisource","itwikiversity","itwikivoyage","itwiktionary","iuwiki","iuwiktionary","jamwiki","jawiki","jawikibooks","jawikinews","jawikiquote","jawikisource","jawikiversity","jawikivoyage","jawiktionary","jbowiki","jbowiktionary","jvwiki","jvwikisource","jvwiktionary","kaawiki","kaawiktionary","kabwiki","kawiki","kawikibooks","kawikiquote","kawikisource","kawiktionary","kbdwiki","kbdwiktionary","kbpwiki","kcgwiki","kcgwiktionary","kgewiki","kgwiki","kiwiki","kjwiki","kkwiki","kkwikibooks","kkwikiquote","kkwiktionary","klwiki","klwiktionary","kmwiki","kmwikibooks","kmwiktionary","kncwiki","knwiki","knwikibooks","knwikiquote","knwikisource","knwiktionary","koiwiki","kowiki","kowikibooks","kowikinews","kowikiquote","kowikisource","kowikiversity","kowiktionary","krcwiki","krwiki","krwikiquote","kshwiki","kswiki","kswikibooks","kswikiquote","kswiktionary","kuswiki","kuwiki","kuwikibooks","kuwikiquote","kuwiktionary","kvwiki","kwwiki","kwwikiquote","kwwiktionary","kywiki","kywikibooks","kywikiquote","kywiktionary","ladwiki","lawiki","lawikibooks","lawikiquote","lawikisource","lawiktionary","lbewiki","lbwiki","lbwikibooks","lbwikiquote","lbwiktionary","lezwiki","lfnwiki","lgwiki","lijwiki","lijwikisource","liwiki","liwikibooks","liwikinews","liwikiquote","liwikisource","liwiktionary","lldwiki","lmowiki","lmowiktionary","lnwiki","lnwikibooks","lnwiktionary","lowiki","lowiktionary","lrcwiki","ltgwiki","ltwiki","ltwikibooks","ltwikiquote","ltwikisource","ltwiktionary","lvwiki","lvwikibooks","lvwiktionary","madwiki","madwiktionary","maiwiki","map_bmswiki","mdfwiki","mediawikiwiki","metawiki","mgwiki","mgwikibooks","mgwiktionary","mhrwiki","mhwiki","mhwiktionary","minwiki","minwiktionary","miwiki","miwikibooks","miwiktionary","mkwiki","mkwikibooks","mkwikisource","mkwiktionary","mlwiki","mlwikibooks","mlwikiquote","mlwikisource","mlwiktionary","mniwiki","mniwiktionary","mnwiki","mnwikibooks","mnwiktionary","mnwwiki","mnwwiktionary","moswiki","mowiki","mowiktionary","mrjwiki","mrwiki","mrwikibooks","mrwikiquote","mrwikisource","mrwiktionary","mswiki","mswikibooks","mswikisource","mswiktionary","mtwiki","mtwiktionary","muswiki","mwlwiki","myvwiki","mywiki","mywikibooks","mywikisource","mywiktionary","mznwiki","nahwiki","nahwikibooks","nahwiktionary","napwiki","napwikisource","nawiki","nawikibooks","nawikiquote","nawiktionary","nds_nlwiki","ndswiki","ndswikibooks","ndswikiquote","ndswiktionary","newiki","newikibooks","newiktionary","newwiki","ngwiki","niawiki","niawiktionary","nlwiki","nlwikibooks","nlwikinews","nlwikiquote","nlwikisource","nlwikivoyage","nlwiktionary","nnwiki","nnwikiquote","nnwiktionary","novwiki","nowiki","nowikibooks","nowikinews","nowikiquote","nowikisource","nowiktionary","nqowiki","nrmwiki","nrwiki","nsowiki","nvwiki","nywiki","ocwiki","ocwikibooks","ocwiktionary","olowiki","omwiki","omwiktionary","orwiki","orwikisource","orwiktionary","oswiki","outreachwiki","pagwiki","pamwiki","papwiki","pawiki","pawikibooks","pawikisource","pawiktionary","pcdwiki","pcmwiki","pdcwiki","pflwiki","pihwiki","piwiki","piwiktionary","plwiki","plwikibooks","plwikinews","plwikiquote","plwikisource","plwikivoyage","plwiktionary","pmswiki","pmswikisource","pnbwiki","pnbwiktionary","pntwiki","pswiki","pswikibooks","pswikivoyage","pswiktionary","ptwiki","ptwikibooks","ptwikinews","ptwikiquote","ptwikisource","ptwikiversity","ptwikivoyage","ptwiktionary","pwnwiki","quwiki","quwikibooks","quwikiquote","quwiktionary","rmwiki","rmwikibooks","rmwiktionary","rmywiki","rnwiki","rnwiktionary","roa_rupwiki","roa_rupwiktionary","roa_tarawiki","rowiki","rowikibooks","rowikinews","rowikiquote","rowikisource","rowikivoyage","rowiktionary","rskwiki","ruewiki","ruwiki","ruwikibooks","ruwikinews","ruwikiquote","ruwikisource","ruwikiversity","ruwikivoyage","ruwiktionary","rwwiki","rwwiktionary","sahwiki","sahwikiquote","sahwikisource","satwiki","satwiktionary","sawiki","sawikibooks","sawikiquote","sawikisource","sawiktionary","scnwiki","scnwiktionary","scowiki","scwiki","scwiktionary","sdwiki","sdwikinews","sdwiktionary","sewiki","sewikibooks","sgwiki","sgwiktionary","shiwiki","shnwiki","shnwikibooks","shnwikinews","shnwikivoyage","shnwiktionary","shwiki","shwiktionary","shywiktionary","simplewiki","simplewikibooks","simplewikiquote","simplewiktionary","siwiki","siwikibooks","siwiktionary","skrwiki","skrwiktionary","skwiki","skwikibooks","skwikiquote","skwikisource","skwiktionary","slwiki","slwikibooks","slwikiquote","slwikisource","slwikiversity","slwiktionary","smnwiki","smwiki","smwiktionary","snwiki","snwiktionary","sourceswiki","sowiki","sowiktionary","specieswiki","sqwiki","sqwikibooks","sqwikinews","sqwikiquote","sqwiktionary","srnwiki","srwiki","srwikibooks","srwikinews","srwikiquote","srwikisource","srwiktionary","sswiki","sswiktionary","stqwiki","stwiki","stwiktionary","suwiki","suwikibooks","suwikiquote","suwikisource","suwiktionary","svwiki","svwikibooks","svwikinews","svwikiquote","svwikisource","svwikiversity","svwikivoyage","svwiktionary","swwiki","swwikibooks","swwiktionary","sylwiki","szlwiki","szywiki","tawiki","tawikibooks","tawikinews","tawikiquote","tawikisource","tawiktionary","taywiki","tcywiki","tcywikisource","tcywiktionary","tddwiki","tetwiki","tewiki","tewikibooks","tewikiquote","tewikisource","tewiktionary","tgwiki","tgwikibooks","tgwiktionary","thwiki","thwikibooks","thwikinews","thwikiquote","thwikisource","thwiktionary","tigwiki","tiwiki","tiwiktionary","tkwiki","tkwikibooks","tkwikiquote","tkwiktionary","tlwiki","tlwikibooks","tlwikiquote","tlwiktionary","tlywiki","tnwiki","tnwiktionary","towiki","towiktionary","tpiwiki","tpiwiktionary","trvwiki","trwiki","trwikibooks","trwikinews","trwikiquote","trwikisource","trwikivoyage","trwiktionary","tswiki","tswiktionary","ttwiki","ttwikibooks","ttwikiquote","ttwiktionary","tumwiki","twwiki","twwiktionary","tyvwiki","tywiki","udmwiki","ugwiki","ugwikibooks","ugwikiquote","ugwiktionary","ukwiki","ukwikibooks","ukwikinews","ukwikiquote","ukwikisource","ukwikivoyage","ukwiktionary","urwiki","urwikibooks","urwikiquote","urwiktionary","uzwiki","uzwikibooks","uzwikiquote","uzwiktionary","vecwiki","vecwikisource","vecwiktionary","vepwiki","vewiki","viwiki","viwikibooks","viwikiquote","viwikisource","viwikivoyage","viwiktionary","vlswiki","vowiki","vowikibooks","vowikiquote","vowiktionary","warwiki","wawiki","wawikibooks","wawikisource","wawiktionary","wikidatawiki","wikifunctionswiki","wikimaniawiki","wowiki","wowikiquote","wowiktionary","wuuwiki","xalwiki","xhwiki","xhwikibooks","xhwiktionary","xmfwiki","yiwiki","yiwikisource","yiwiktionary","yowiki","yowikibooks","yowiktionary","yuewiktionary","zawiki","zawikibooks","zawikiquote","zawiktionary","zeawiki","zghwiki","zh_classicalwiki","zh_min_nanwiki","zh_min_nanwikibooks","zh_min_nanwikiquote","zh_min_nanwikisource","zh_min_nanwiktionary","zh_yuewiki","zhwiki","zhwikibooks","zhwikinews","zhwikiquote","zhwikisource","zhwikiversity","zhwikivoyage","zhwiktionary","zuwiki","zuwikibooks","zuwiktionary"],Ju="https://www.wikidata.org/wiki/";function Yo({site:n,title:s}){if(se(arguments),!n)throw new Error("missing a site");if(!s)throw new Error("missing a title");if(On(Ci,n))return Ci[n](s);const r=n.replace(/wiki$/,"");if(On(Ci,r))return Ci[r](s);const{lang:c,project:a}=Qo(n);return s=Oo(Tu(s)),`https://${c}.${a}.org/wiki/${s}`}const pe=n=>s=>`https://${n}.wikimedia.org/wiki/${s}`,Ci={commons:pe("commons"),foundation:pe("foundation"),mediawiki:n=>`https://www.mediawiki.org/wiki/${n}`,meta:pe("meta"),outreach:pe("outreach"),sources:n=>`https://wikisource.org/wiki/${n}`,species:pe("species"),wikidata:n=>{const s=Ku[n[0]];let r=s?`${s}:${n}`:n;return r=r.replace("-","#"),`${Ju}${r}`},wikifunctions:pe("wikifunctions"),wikimania:pe("wikimania")},Ku={E:"EntitySchema",L:"Lexeme",P:"Property"},Yu=/^https?:\/\/([\w-]{2,10})\.(\w+)\.org\/\w+\/(.*)/;function Qo(n){if(n.startsWith("http")){const s=n,r=s.match(Yu);if(!r)throw new Error(`invalid sitelink url: ${s}`);let[c,a,p]=r.slice(1);if(p=decodeURIComponent(p),c==="commons")return{lang:"en",project:"commons",key:"commons",title:p,url:s};if(!ii(tc,a))throw new Error(`project is unknown: ${a}`);if(c==="www")return{lang:"en",project:a,key:a,title:p,url:s};const x=`${c.replace(/-/g,"_")}${a}`.replace("wikipedia","wiki");return{lang:c,project:a,key:x,title:p,url:s}}else{if(On(Ln,n))return{lang:"en",project:Ln[n],key:n};if(!ii(Dn,n))throw new Error(`site not found: ${n}. Updating wikibase-sdk to a more recent version might fix the issue.`);let[s,r,c]=n.split("wik");if(c!=null)throw new Error(`invalid sitelink key: ${n}`);s=s.replace(/_/g,"-");const a=es[r];if(!a)throw new Error(`sitelink project not found: ${a}`);return{lang:s,project:a,key:n}}}const ts=n=>ii(Dn,n),Qu=ts,es={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"},tc=[...Object.values(es),...Object.values(Ln)],ec=Object.freeze(Object.defineProperty({__proto__:null,getSitelinkData:Qo,getSitelinkUrl:Yo,isSite:ts,isSitelinkKey:Qu},Symbol.toStringTag,{value:"Module"}));function is(n,s={}){let{addUrl:r,keepBadges:c,keepAll:a}=s;return c=c||a,Lu(n).reduce(ic({sitelinks:n,addUrl:r,keepBadges:c}),{})}const ic=({sitelinks:n,addUrl:s,keepBadges:r})=>(c,a)=>{if(n[a]==null)return c[a]=n[a],c;const{title:p,badges:m}=n[a];return s||r?(c[a]={title:p},s&&(c[a].url=Yo({site:a,title:p})),r&&(c[a].badges=m)):c[a]=p,c},nc={labels:$o,descriptions:qo,aliases:Do,claims:ni,statements:ni,sitelinks:is,lemmas:Ho,forms:Xo,senses:Ko},ns=(n,s={})=>{const{type:r}=n;if(!r)throw new Error("missing entity type");const c={id:n.id,type:r,modified:n.modified};return r==="item"?(Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"aliases"),Ct(n,c,"claims",s),Ct(n,c,"sitelinks",s)):r==="property"?(c.datatype=n.datatype,Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"aliases"),Ct(n,c,"claims",s)):r==="lexeme"?(Ct(n,c,"lemmas"),c.lexicalCategory=n.lexicalCategory,c.language=n.language,Ct(n,c,"claims",s),Ct(n,c,"forms",s),Ct(n,c,"senses",s)):r==="mediainfo"&&(Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"statements",s)),c},Ct=(n,s,r,c)=>{n[r]!=null&&(s[r]=nc[r](n[r],c))},rs=(n,s={})=>{n.entities&&(n=n.entities);const{entityPrefix:r}=s,c={};for(const[a,p]of Object.entries(n)){const m=r?`${r}:${a}`:a;c[m]=ns(p,s)}return c};function rc(n){n=n.body||n;const{entities:s}=n;return rs(s)}function oc(n){return n=n.body||n,n.query.search.map(s=>s.title)}const sc=Object.freeze(Object.defineProperty({__proto__:null,entities:rc,pagesTitles:oc},Symbol.toStringTag,{value:"Module"}));function ac(n){typeof n=="string"&&(n=JSON.parse(n));const{vars:s}=n.head,r=n.results.bindings,{richVars:c,associatedVars:a,standaloneVars:p}=hc(s);return r.map(x=>lc(c,a,p,x))}function Jr(n){if(!n||n.type==="bnode")return null;const{value:s}=n;if(n.type==="uri")return uc(s);const r=(n.datatype||"").replace("http://www.w3.org/2001/XMLSchema#","");return r==="decimal"||r==="integer"||r==="float"||r==="double"?parseFloat(s):r==="boolean"?s==="true":s}function uc(n){return n.match(/http.*\/entity\/statement\//)?cc(n):n.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,"")}function cc(n){n=n.replace(/^https?:\/\/.*\/entity\/statement\//,"");const s=n.split("-");return s[0]+"$"+s.slice(1).join("-")}function hc(n){let s=n.filter(p=>{const m=new RegExp(`^${p}[A-Z]\\w+`);return n.some(x=>m.test(x))});s=s.filter(p=>!s.some(m=>p!==m&&p.startsWith(m)));const r=new RegExp(`^(${s.join("|")})[A-Z]`),c=n.filter(p=>r.test(p)),a=n.filter(p=>!s.includes(p)&&!r.test(p));return{richVars:s,associatedVars:c,standaloneVars:a}}function lc(n,s,r,c){const a={};for(const p of n){const m={},x=Jr(c[p]);x!=null&&(m.value=x);for(const k of s)k.startsWith(p)&&fc(c,p,k,m);Object.keys(m).length>0&&(a[p]=m)}for(const p of r){const m=Jr(c[p]);m!=null&&(a[p]=m)}return a}function fc(n,s,r,c){let a=r.split(s)[1];a=a[0].toLowerCase()+a.slice(1),a=a==="altLabel"?"aliases":a;const p=n[r];p!=null&&(c[a]=p.value)}const dc=Object.freeze(Object.defineProperty({__proto__:null,aliases:Do,claim:Io,claims:ni,descriptions:qo,entities:rs,entity:ns,form:Go,forms:Xo,glosses:Vo,labels:$o,lemmas:Ho,propertyClaims:Bo,propertyQualifiers:Wu,qualifier:Vu,qualifiers:zo,reference:Zo,references:jo,representations:Wo,sense:Jo,senses:Ko,sitelinks:is,snak:ji,sparqlResults:ac},Symbol.toStringTag,{value:"Module"})),pc=/^\d+[|\d]*$/;function mc(n){return function(r){se(arguments);for(const[f,_]of Object.entries(r))if(f.startsWith("sr")){const T=f.replace(/^sr/,"");if(r[T]!=null)throw new Error(`${T} and ${f} are the same`);r[T]=_}const{search:c,haswbstatement:a,format:p="json",limit:m,offset:x,profile:k,sort:b}=r;let{namespace:g,prop:u}=r;if(!(c||a))throw new Error('missing "search" or "haswbstatement" parameter');let w="";if(c&&(w+=c),a){const f=a instanceof Array?a:[a];for(const _ of f)_[0]==="-"?w+=` -haswbstatement:${_.slice(1)}`:w+=` haswbstatement:${_}`}if(m!=null&&(typeof m!="number"||m<1))throw new Error(`invalid limit: ${m}`);if(x!=null&&(typeof x!="number"||x<0))throw new Error(`invalid offset: ${x}`);if(g instanceof Array?g=g.join("|"):typeof g=="number"&&(g=g.toString()),g&&!pc.test(g))throw new Error(`invalid namespace: ${g}`);if(k!=null&&typeof k!="string")throw new Error(`invalid profile: ${k} (${typeof k}, expected string)`);if(b!=null&&typeof b!="string")throw new Error(`invalid sort: ${b} (${typeof b}, expected string)`);let y;if(u!=null){if(u instanceof Array&&(u=u.join("|")),typeof u!="string")throw new Error(`invalid prop: ${u} (${typeof u}, expected string)`);y=u.toString()}return n({action:"query",list:"search",srsearch:w.trim(),format:p,srnamespace:g,srlimit:m,sroffset:x,srqiprofile:k,srsort:b,srprop:y})}}function Zi(n,s){return function(r){if(!s(r))throw new Error(`invalid ${n}: ${r} (type: ${yc(r)})`)}}const os=Zi("entity id",jn),_c=Zi("property id",zi),gc=Zi("entity page title",To),wc=Zi("revision id",Po);function yc(n){const s=typeof n;if(s==="object"){if(n===null)return"null";if(n instanceof Array)return"array";if(n instanceof Promise)return"promise"}return s==="number"&&Number.isNaN(n)?"NaN":s}function ss(n){return function({ids:r,languages:c,props:a,format:p="json",redirects:m}){if(se(arguments),!(r&&r.length>0))throw new Error("no id provided");r=Kt(r),r.forEach(k=>os(k)),r.length>50&&console.warn(`getEntities accepts 50 ids max to match Wikidata API limitations:
      this request won't get all the desired entities.
      You can use getManyEntities instead to generate several request urls
      to work around this limitation`);const x={action:"wbgetentities",ids:r.join("|"),format:p};return m===!1&&(x.redirects="no"),c&&(c=Kt(c),x.languages=c.join("|")),a&&a.length>0&&(x.props=Kt(a).join("|")),n(x)}}function vc(n){return function({titles:r,sites:c,languages:a,props:p,format:m="json",redirects:x}){if(se(arguments),!(r&&r.length>0))throw new Error("no titles provided");c&&c.length>0||(c=["enwiki"]),r=Kt(r),c=Kt(c).map(kc),p=Kt(p);const k={action:"wbgetentities",titles:r.join("|"),sites:c.join("|"),format:m};return c.length===1&&r.length===1&&(k.normalize=!0),a&&(a=Kt(a),k.languages=a.join("|")),p.length>0&&(k.props=p.join("|")),x===!1&&(k.redirects="no"),n(k)}}function kc(n){return ii(Dn,n)?n:n.replace(/-/g,"_")+"wiki"}function bc(n,s){return function({id:c,revision:a}){return se(arguments),os(c),wc(a),`${n}/${s}/index.php?title=Special:EntityData/${c}.json&revision=${a}`}}function xc(n){const s=ss(n);return function({ids:c,languages:a,props:p,format:m,redirects:x}){if(se(arguments),!(c instanceof Array))throw new Error("getManyEntities expects an array of ids");return Pc(c).map(k=>s({ids:k,languages:a,props:p,format:m,redirects:x}))}}function Pc(n){const s=[];for(;n.length>0;){const r=n.slice(0,50);n=n.slice(50),s.push(r)}return s}function as(n){return function(r){const c=Oo(r);return`${n}?format=json&query=${c}`}}const Ec="FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",Tc=n=>{const s=as(n);return function(c){let{properties:a}=c;const{values:p,limit:m,caseInsensitive:x,keepProperties:k}=c,b=x?Sc:Lc,g=k?"":Ec;a=Kt(a),a.forEach(y=>_c(y));let w=`SELECT DISTINCT ?subject WHERE { ${Oc(p,b,a,g)} }`;return m&&(w+=` LIMIT ${m}`),s(w)}},Oc=(n,s,r,c)=>(r=r.map(Cc).join("|"),n instanceof Array?"{ "+n.map(Kr).map(p=>s(r,p,c)).join("} UNION {")+" }":s(r,Kr(n),c)),Kr=n=>(Ii(n)?n=`wd:${n}`:typeof n=="string"&&(n=`'${n}'`),n),Lc=(n,s,r)=>`?subject ${n} ${s} .
    ${r}`,Sc=(n,s,r)=>`?subject ${n} ?value .
    FILTER (lcase(?value) = ${s.toLowerCase()})
    ${r}`,Cc=n=>"wdt:"+n;function Ac(n){return function({ids:r,format:c,limit:a,start:p,end:m,prop:x,user:k,excludeuser:b,tag:g}){se(arguments),r=Kt(r),r.forEach(y=>gc(y));const u=r.length===1,w={action:"query",prop:"revisions"};return w.titles=r.join("|"),w.format=c||"json",u&&(w.rvlimit=a||"max"),u&&p&&(w.rvstart=Yr(p)),u&&m&&(w.rvend=Yr(m)),x?w.rvprop=Kt(x).join("|"):w.rvprop="ids|flags|timestamp|user|userid|size|slotsize|sha1|slotsha1|contentmodel|comment|parsedcomment|content|tags|roles|oresscores",w.rvslots="*",k&&(w.rvuser=k),b&&(w.rvexcludeuser=b),g&&(w.rvtag=g),n(w)}}const Yr=n=>typeof n=="number"&&n<Mc?n:Math.trunc(new Date(n).getTime()/1e3),Mc=new Date("2000-01-01").getTime(),Nc=["item","property","lexeme","form","sense","entity-schema"],Ic=n=>function({search:r,language:c="en",uselang:a,limit:p="20",continue:m="0",format:x="json",type:k="item"}){if(se(arguments),a=a||c,!(r&&r.length>0))throw new Error("search can't be empty");if(!ii(Nc,k))throw new Error(`invalid type: ${k}`);return n({action:"wbsearchentities",search:r,language:c,limit:p,continue:m,format:x,uselang:a,type:k})},Bc=typeof location<"u"&&typeof document<"u";function Fc(n){return s=>{Bc&&(s=Object.assign(Object.assign({},s),{origin:"*"}));const r=Object.entries(s).filter(([,a])=>a!=null).map(([a,p])=>[a,String(p)]),c=new URLSearchParams(r).toString();return n+"?"+c}}const Rc=`Tip: if you just want to access functions that don't need an instance or a sparqlEndpoint,
those are also exposed directly on the module object. Exemple:
import { isItemId, simplify } from 'wikibase-sdk'`,zc=Object.assign(Object.assign(Object.assign(Object.assign({simplify:dc,parse:sc},Eu),ec),Hu),Iu);function wl(n){if(!Zn(n))throw new Error("invalid config");const{instance:s,sparqlEndpoint:r}=n;let{wgScriptPath:c="w"}=n;if(c=c.replace(/^\//,""),!(s||r))throw new Error(`one of instance or sparqlEndpoint should be set at initialization.
${Rc}`);let a,p,m;if(s){Qr("instance",s),p=s.replace(/\/$/,"").replace(`/${c}/api.php`,""),m=`${p}/${c}/api.php`;const k=Fc(m);a={searchEntities:Ic(k),cirrusSearchPages:mc(k),getEntities:ss(k),getManyEntities:xc(k),getRevisions:Ac(k),getEntityRevision:bc(s,c),getEntitiesFromSitelinks:vc(k)}}else a={searchEntities:me("searchEntities"),cirrusSearchPages:me("cirrusSearchPages"),getEntities:me("getEntities"),getManyEntities:me("getManyEntities"),getRevisions:me("getRevisions"),getEntityRevision:me("getEntityRevision"),getEntitiesFromSitelinks:me("getEntitiesFromSitelinks")};let x;return r?(Qr("sparqlEndpoint",r),x={sparqlQuery:as(r),getReverseClaims:Tc(r)}):x={sparqlQuery:to("sparqlQuery"),getReverseClaims:to("getReverseClaims")},Object.assign(Object.assign(Object.assign({instance:{root:p,apiEndpoint:m}},zc),a),x)}const Qr=(n,s)=>{if(!(typeof s=="string"&&s.startsWith("http")))throw new Error(`invalid ${n}: ${s}`)},us=n=>s=>()=>{throw new Error(`${s} requires ${n} to be set at initialization`)},to=us("a sparqlEndpoint"),me=us("an instance");function cs(n,s){return function(){return n.apply(s,arguments)}}const{toString:jc}=Object.prototype,{getPrototypeOf:Hn}=Object,Ui=(n=>s=>{const r=jc.call(s);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=n=>(n=n.toLowerCase(),s=>Ui(s)===n),$i=n=>s=>typeof s===n,{isArray:Me}=Array,ri=$i("undefined");function Zc(n){return n!==null&&!ri(n)&&n.constructor!==null&&!ri(n.constructor)&&Bt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const hs=Ht("ArrayBuffer");function Uc(n){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(n):s=n&&n.buffer&&hs(n.buffer),s}const $c=$i("string"),Bt=$i("function"),ls=$i("number"),qi=n=>n!==null&&typeof n=="object",qc=n=>n===!0||n===!1,Ai=n=>{if(Ui(n)!=="object")return!1;const s=Hn(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Dc=Ht("Date"),Hc=Ht("File"),Wc=Ht("Blob"),Vc=Ht("FileList"),Gc=n=>qi(n)&&Bt(n.pipe),Xc=n=>{let s;return n&&(typeof FormData=="function"&&n instanceof FormData||Bt(n.append)&&((s=Ui(n))==="formdata"||s==="object"&&Bt(n.toString)&&n.toString()==="[object FormData]"))},Jc=Ht("URLSearchParams"),[Kc,Yc,Qc,th]=["ReadableStream","Request","Response","Headers"].map(Ht),eh=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ui(n,s,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let c,a;if(typeof n!="object"&&(n=[n]),Me(n))for(c=0,a=n.length;c<a;c++)s.call(null,n[c],c,n);else{const p=r?Object.getOwnPropertyNames(n):Object.keys(n),m=p.length;let x;for(c=0;c<m;c++)x=p[c],s.call(null,n[x],x,n)}}function fs(n,s){s=s.toLowerCase();const r=Object.keys(n);let c=r.length,a;for(;c-- >0;)if(a=r[c],s===a.toLowerCase())return a;return null}const _e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ds=n=>!ri(n)&&n!==_e;function Sn(){const{caseless:n}=ds(this)&&this||{},s={},r=(c,a)=>{const p=n&&fs(s,a)||a;Ai(s[p])&&Ai(c)?s[p]=Sn(s[p],c):Ai(c)?s[p]=Sn({},c):Me(c)?s[p]=c.slice():s[p]=c};for(let c=0,a=arguments.length;c<a;c++)arguments[c]&&ui(arguments[c],r);return s}const ih=(n,s,r,{allOwnKeys:c}={})=>(ui(s,(a,p)=>{r&&Bt(a)?n[p]=cs(a,r):n[p]=a},{allOwnKeys:c}),n),nh=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),rh=(n,s,r,c)=>{n.prototype=Object.create(s.prototype,c),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:s.prototype}),r&&Object.assign(n.prototype,r)},oh=(n,s,r,c)=>{let a,p,m;const x={};if(s=s||{},n==null)return s;do{for(a=Object.getOwnPropertyNames(n),p=a.length;p-- >0;)m=a[p],(!c||c(m,n,s))&&!x[m]&&(s[m]=n[m],x[m]=!0);n=r!==!1&&Hn(n)}while(n&&(!r||r(n,s))&&n!==Object.prototype);return s},sh=(n,s,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=s.length;const c=n.indexOf(s,r);return c!==-1&&c===r},ah=n=>{if(!n)return null;if(Me(n))return n;let s=n.length;if(!ls(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=n[s];return r},uh=(n=>s=>n&&s instanceof n)(typeof Uint8Array<"u"&&Hn(Uint8Array)),ch=(n,s)=>{const c=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=c.next())&&!a.done;){const p=a.value;s.call(n,p[0],p[1])}},hh=(n,s)=>{let r;const c=[];for(;(r=n.exec(s))!==null;)c.push(r);return c},lh=Ht("HTMLFormElement"),fh=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,c,a){return c.toUpperCase()+a}),eo=(({hasOwnProperty:n})=>(s,r)=>n.call(s,r))(Object.prototype),dh=Ht("RegExp"),ps=(n,s)=>{const r=Object.getOwnPropertyDescriptors(n),c={};ui(r,(a,p)=>{let m;(m=s(a,p,n))!==!1&&(c[p]=m||a)}),Object.defineProperties(n,c)},ph=n=>{ps(n,(s,r)=>{if(Bt(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const c=n[r];if(Bt(c)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},mh=(n,s)=>{const r={},c=a=>{a.forEach(p=>{r[p]=!0})};return Me(n)?c(n):c(String(n).split(s)),r},_h=()=>{},gh=(n,s)=>n!=null&&Number.isFinite(n=+n)?n:s;function wh(n){return!!(n&&Bt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const yh=n=>{const s=new Array(10),r=(c,a)=>{if(qi(c)){if(s.indexOf(c)>=0)return;if(!("toJSON"in c)){s[a]=c;const p=Me(c)?[]:{};return ui(c,(m,x)=>{const k=r(m,a+1);!ri(k)&&(p[x]=k)}),s[a]=void 0,p}}return c};return r(n,0)},vh=Ht("AsyncFunction"),kh=n=>n&&(qi(n)||Bt(n))&&Bt(n.then)&&Bt(n.catch),ms=((n,s)=>n?setImmediate:s?((r,c)=>(_e.addEventListener("message",({source:a,data:p})=>{a===_e&&p===r&&c.length&&c.shift()()},!1),a=>{c.push(a),_e.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Bt(_e.postMessage)),bh=typeof queueMicrotask<"u"?queueMicrotask.bind(_e):typeof process<"u"&&process.nextTick||ms,Z={isArray:Me,isArrayBuffer:hs,isBuffer:Zc,isFormData:Xc,isArrayBufferView:Uc,isString:$c,isNumber:ls,isBoolean:qc,isObject:qi,isPlainObject:Ai,isReadableStream:Kc,isRequest:Yc,isResponse:Qc,isHeaders:th,isUndefined:ri,isDate:Dc,isFile:Hc,isBlob:Wc,isRegExp:dh,isFunction:Bt,isStream:Gc,isURLSearchParams:Jc,isTypedArray:uh,isFileList:Vc,forEach:ui,merge:Sn,extend:ih,trim:eh,stripBOM:nh,inherits:rh,toFlatObject:oh,kindOf:Ui,kindOfTest:Ht,endsWith:sh,toArray:ah,forEachEntry:ch,matchAll:hh,isHTMLForm:lh,hasOwnProperty:eo,hasOwnProp:eo,reduceDescriptors:ps,freezeMethods:ph,toObjectSet:mh,toCamelCase:fh,noop:_h,toFiniteNumber:gh,findKey:fs,global:_e,isContextDefined:ds,isSpecCompliantForm:wh,toJSONObject:yh,isAsyncFn:vh,isThenable:kh,setImmediate:ms,asap:bh};function st(n,s,r,c,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),c&&(this.request=c),a&&(this.response=a,this.status=a.status?a.status:null)}Z.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const _s=st.prototype,gs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{gs[n]={value:n}});Object.defineProperties(st,gs);Object.defineProperty(_s,"isAxiosError",{value:!0});st.from=(n,s,r,c,a,p)=>{const m=Object.create(_s);return Z.toFlatObject(n,m,function(k){return k!==Error.prototype},x=>x!=="isAxiosError"),st.call(m,n.message,s,r,c,a),m.cause=n,m.name=n.name,p&&Object.assign(m,p),m};const xh=null;function Cn(n){return Z.isPlainObject(n)||Z.isArray(n)}function ws(n){return Z.endsWith(n,"[]")?n.slice(0,-2):n}function io(n,s,r){return n?n.concat(s).map(function(a,p){return a=ws(a),!r&&p?"["+a+"]":a}).join(r?".":""):s}function Ph(n){return Z.isArray(n)&&!n.some(Cn)}const Eh=Z.toFlatObject(Z,{},null,function(s){return/^is[A-Z]/.test(s)});function Di(n,s,r){if(!Z.isObject(n))throw new TypeError("target must be an object");s=s||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,T){return!Z.isUndefined(T[_])});const c=r.metaTokens,a=r.visitor||g,p=r.dots,m=r.indexes,k=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(s);if(!Z.isFunction(a))throw new TypeError("visitor must be a function");function b(f){if(f===null)return"";if(Z.isDate(f))return f.toISOString();if(!k&&Z.isBlob(f))throw new st("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(f)||Z.isTypedArray(f)?k&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function g(f,_,T){let C=f;if(f&&!T&&typeof f=="object"){if(Z.endsWith(_,"{}"))_=c?_:_.slice(0,-2),f=JSON.stringify(f);else if(Z.isArray(f)&&Ph(f)||(Z.isFileList(f)||Z.endsWith(_,"[]"))&&(C=Z.toArray(f)))return _=ws(_),C.forEach(function(S,I){!(Z.isUndefined(S)||S===null)&&s.append(m===!0?io([_],I,p):m===null?_:_+"[]",b(S))}),!1}return Cn(f)?!0:(s.append(io(T,_,p),b(f)),!1)}const u=[],w=Object.assign(Eh,{defaultVisitor:g,convertValue:b,isVisitable:Cn});function y(f,_){if(!Z.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+_.join("."));u.push(f),Z.forEach(f,function(C,P){(!(Z.isUndefined(C)||C===null)&&a.call(s,C,Z.isString(P)?P.trim():P,_,w))===!0&&y(C,_?_.concat(P):[P])}),u.pop()}}if(!Z.isObject(n))throw new TypeError("data must be an object");return y(n),s}function no(n){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return s[c]})}function Wn(n,s){this._pairs=[],n&&Di(n,this,s)}const ys=Wn.prototype;ys.append=function(s,r){this._pairs.push([s,r])};ys.toString=function(s){const r=s?function(c){return s.call(this,c,no)}:no;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Th(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vs(n,s,r){if(!s)return n;const c=r&&r.encode||Th;Z.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let p;if(a?p=a(s,r):p=Z.isURLSearchParams(s)?s.toString():new Wn(s,r).toString(c),p){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+p}return n}class ro{constructor(){this.handlers=[]}use(s,r,c){return this.handlers.push({fulfilled:s,rejected:r,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Z.forEach(this.handlers,function(c){c!==null&&s(c)})}}const ks={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oh=typeof URLSearchParams<"u"?URLSearchParams:Wn,Lh=typeof FormData<"u"?FormData:null,Sh=typeof Blob<"u"?Blob:null,Ch={isBrowser:!0,classes:{URLSearchParams:Oh,FormData:Lh,Blob:Sh},protocols:["http","https","file","blob","url","data"]},Vn=typeof window<"u"&&typeof document<"u",An=typeof navigator=="object"&&navigator||void 0,Ah=Vn&&(!An||["ReactNative","NativeScript","NS"].indexOf(An.product)<0),Mh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nh=Vn&&window.location.href||"http://localhost",Ih=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vn,hasStandardBrowserEnv:Ah,hasStandardBrowserWebWorkerEnv:Mh,navigator:An,origin:Nh},Symbol.toStringTag,{value:"Module"})),At={...Ih,...Ch};function Bh(n,s){return Di(n,new At.classes.URLSearchParams,Object.assign({visitor:function(r,c,a,p){return At.isNode&&Z.isBuffer(r)?(this.append(c,r.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},s))}function Fh(n){return Z.matchAll(/\w+|\[(\w*)]/g,n).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Rh(n){const s={},r=Object.keys(n);let c;const a=r.length;let p;for(c=0;c<a;c++)p=r[c],s[p]=n[p];return s}function bs(n){function s(r,c,a,p){let m=r[p++];if(m==="__proto__")return!0;const x=Number.isFinite(+m),k=p>=r.length;return m=!m&&Z.isArray(a)?a.length:m,k?(Z.hasOwnProp(a,m)?a[m]=[a[m],c]:a[m]=c,!x):((!a[m]||!Z.isObject(a[m]))&&(a[m]=[]),s(r,c,a[m],p)&&Z.isArray(a[m])&&(a[m]=Rh(a[m])),!x)}if(Z.isFormData(n)&&Z.isFunction(n.entries)){const r={};return Z.forEachEntry(n,(c,a)=>{s(Fh(c),a,r,0)}),r}return null}function zh(n,s,r){if(Z.isString(n))try{return(s||JSON.parse)(n),Z.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(r||JSON.stringify)(n)}const ci={transitional:ks,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const c=r.getContentType()||"",a=c.indexOf("application/json")>-1,p=Z.isObject(s);if(p&&Z.isHTMLForm(s)&&(s=new FormData(s)),Z.isFormData(s))return a?JSON.stringify(bs(s)):s;if(Z.isArrayBuffer(s)||Z.isBuffer(s)||Z.isStream(s)||Z.isFile(s)||Z.isBlob(s)||Z.isReadableStream(s))return s;if(Z.isArrayBufferView(s))return s.buffer;if(Z.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let x;if(p){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Bh(s,this.formSerializer).toString();if((x=Z.isFileList(s))||c.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Di(x?{"files[]":s}:s,k&&new k,this.formSerializer)}}return p||a?(r.setContentType("application/json",!1),zh(s)):s}],transformResponse:[function(s){const r=this.transitional||ci.transitional,c=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Z.isResponse(s)||Z.isReadableStream(s))return s;if(s&&Z.isString(s)&&(c&&!this.responseType||a)){const m=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s)}catch(x){if(m)throw x.name==="SyntaxError"?st.from(x,st.ERR_BAD_RESPONSE,this,null,this.response):x}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],n=>{ci.headers[n]={}});const jh=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zh=n=>{const s={};let r,c,a;return n&&n.split(`
`).forEach(function(m){a=m.indexOf(":"),r=m.substring(0,a).trim().toLowerCase(),c=m.substring(a+1).trim(),!(!r||s[r]&&jh[r])&&(r==="set-cookie"?s[r]?s[r].push(c):s[r]=[c]:s[r]=s[r]?s[r]+", "+c:c)}),s},oo=Symbol("internals");function Qe(n){return n&&String(n).trim().toLowerCase()}function Mi(n){return n===!1||n==null?n:Z.isArray(n)?n.map(Mi):String(n)}function Uh(n){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=r.exec(n);)s[c[1]]=c[2];return s}const $h=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Pn(n,s,r,c,a){if(Z.isFunction(c))return c.call(this,s,r);if(a&&(s=r),!!Z.isString(s)){if(Z.isString(c))return s.indexOf(c)!==-1;if(Z.isRegExp(c))return c.test(s)}}function qh(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,c)=>r.toUpperCase()+c)}function Dh(n,s){const r=Z.toCamelCase(" "+s);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+r,{value:function(a,p,m){return this[c].call(this,s,a,p,m)},configurable:!0})})}let It=class{constructor(s){s&&this.set(s)}set(s,r,c){const a=this;function p(x,k,b){const g=Qe(k);if(!g)throw new Error("header name must be a non-empty string");const u=Z.findKey(a,g);(!u||a[u]===void 0||b===!0||b===void 0&&a[u]!==!1)&&(a[u||k]=Mi(x))}const m=(x,k)=>Z.forEach(x,(b,g)=>p(b,g,k));if(Z.isPlainObject(s)||s instanceof this.constructor)m(s,r);else if(Z.isString(s)&&(s=s.trim())&&!$h(s))m(Zh(s),r);else if(Z.isHeaders(s))for(const[x,k]of s.entries())p(k,x,c);else s!=null&&p(r,s,c);return this}get(s,r){if(s=Qe(s),s){const c=Z.findKey(this,s);if(c){const a=this[c];if(!r)return a;if(r===!0)return Uh(a);if(Z.isFunction(r))return r.call(this,a,c);if(Z.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Qe(s),s){const c=Z.findKey(this,s);return!!(c&&this[c]!==void 0&&(!r||Pn(this,this[c],c,r)))}return!1}delete(s,r){const c=this;let a=!1;function p(m){if(m=Qe(m),m){const x=Z.findKey(c,m);x&&(!r||Pn(c,c[x],x,r))&&(delete c[x],a=!0)}}return Z.isArray(s)?s.forEach(p):p(s),a}clear(s){const r=Object.keys(this);let c=r.length,a=!1;for(;c--;){const p=r[c];(!s||Pn(this,this[p],p,s,!0))&&(delete this[p],a=!0)}return a}normalize(s){const r=this,c={};return Z.forEach(this,(a,p)=>{const m=Z.findKey(c,p);if(m){r[m]=Mi(a),delete r[p];return}const x=s?qh(p):String(p).trim();x!==p&&delete r[p],r[x]=Mi(a),c[x]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return Z.forEach(this,(c,a)=>{c!=null&&c!==!1&&(r[a]=s&&Z.isArray(c)?c.join(", "):c)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const c=new this(s);return r.forEach(a=>c.set(a)),c}static accessor(s){const c=(this[oo]=this[oo]={accessors:{}}).accessors,a=this.prototype;function p(m){const x=Qe(m);c[x]||(Dh(a,m),c[x]=!0)}return Z.isArray(s)?s.forEach(p):p(s),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(It.prototype,({value:n},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>n,set(c){this[r]=c}}});Z.freezeMethods(It);function En(n,s){const r=this||ci,c=s||r,a=It.from(c.headers);let p=c.data;return Z.forEach(n,function(x){p=x.call(r,p,a.normalize(),s?s.status:void 0)}),a.normalize(),p}function xs(n){return!!(n&&n.__CANCEL__)}function Ne(n,s,r){st.call(this,n??"canceled",st.ERR_CANCELED,s,r),this.name="CanceledError"}Z.inherits(Ne,st,{__CANCEL__:!0});function Ps(n,s,r){const c=r.config.validateStatus;!r.status||!c||c(r.status)?n(r):s(new st("Request failed with status code "+r.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hh(n){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return s&&s[1]||""}function Wh(n,s){n=n||10;const r=new Array(n),c=new Array(n);let a=0,p=0,m;return s=s!==void 0?s:1e3,function(k){const b=Date.now(),g=c[p];m||(m=b),r[a]=k,c[a]=b;let u=p,w=0;for(;u!==a;)w+=r[u++],u=u%n;if(a=(a+1)%n,a===p&&(p=(p+1)%n),b-m<s)return;const y=g&&b-g;return y?Math.round(w*1e3/y):void 0}}function Vh(n,s){let r=0,c=1e3/s,a,p;const m=(b,g=Date.now())=>{r=g,a=null,p&&(clearTimeout(p),p=null),n.apply(null,b)};return[(...b)=>{const g=Date.now(),u=g-r;u>=c?m(b,g):(a=b,p||(p=setTimeout(()=>{p=null,m(a)},c-u)))},()=>a&&m(a)]}const Fi=(n,s,r=3)=>{let c=0;const a=Wh(50,250);return Vh(p=>{const m=p.loaded,x=p.lengthComputable?p.total:void 0,k=m-c,b=a(k),g=m<=x;c=m;const u={loaded:m,total:x,progress:x?m/x:void 0,bytes:k,rate:b||void 0,estimated:b&&x&&g?(x-m)/b:void 0,event:p,lengthComputable:x!=null,[s?"download":"upload"]:!0};n(u)},r)},so=(n,s)=>{const r=n!=null;return[c=>s[0]({lengthComputable:r,total:n,loaded:c}),s[1]]},ao=n=>(...s)=>Z.asap(()=>n(...s)),Gh=At.hasStandardBrowserEnv?((n,s)=>r=>(r=new URL(r,At.origin),n.protocol===r.protocol&&n.host===r.host&&(s||n.port===r.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,Xh=At.hasStandardBrowserEnv?{write(n,s,r,c,a,p){const m=[n+"="+encodeURIComponent(s)];Z.isNumber(r)&&m.push("expires="+new Date(r).toGMTString()),Z.isString(c)&&m.push("path="+c),Z.isString(a)&&m.push("domain="+a),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jh(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Kh(n,s){return s?n.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):n}function Es(n,s,r){let c=!Jh(s);return n&&(c||r==!1)?Kh(n,s):s}const uo=n=>n instanceof It?{...n}:n;function we(n,s){s=s||{};const r={};function c(b,g,u,w){return Z.isPlainObject(b)&&Z.isPlainObject(g)?Z.merge.call({caseless:w},b,g):Z.isPlainObject(g)?Z.merge({},g):Z.isArray(g)?g.slice():g}function a(b,g,u,w){if(Z.isUndefined(g)){if(!Z.isUndefined(b))return c(void 0,b,u,w)}else return c(b,g,u,w)}function p(b,g){if(!Z.isUndefined(g))return c(void 0,g)}function m(b,g){if(Z.isUndefined(g)){if(!Z.isUndefined(b))return c(void 0,b)}else return c(void 0,g)}function x(b,g,u){if(u in s)return c(b,g);if(u in n)return c(void 0,b)}const k={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:x,headers:(b,g,u)=>a(uo(b),uo(g),u,!0)};return Z.forEach(Object.keys(Object.assign({},n,s)),function(g){const u=k[g]||a,w=u(n[g],s[g],g);Z.isUndefined(w)&&u!==x||(r[g]=w)}),r}const Ts=n=>{const s=we({},n);let{data:r,withXSRFToken:c,xsrfHeaderName:a,xsrfCookieName:p,headers:m,auth:x}=s;s.headers=m=It.from(m),s.url=vs(Es(s.baseURL,s.url,s.allowAbsoluteUrls),n.params,n.paramsSerializer),x&&m.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let k;if(Z.isFormData(r)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((k=m.getContentType())!==!1){const[b,...g]=k?k.split(";").map(u=>u.trim()).filter(Boolean):[];m.setContentType([b||"multipart/form-data",...g].join("; "))}}if(At.hasStandardBrowserEnv&&(c&&Z.isFunction(c)&&(c=c(s)),c||c!==!1&&Gh(s.url))){const b=a&&p&&Xh.read(p);b&&m.set(a,b)}return s},Yh=typeof XMLHttpRequest<"u",Qh=Yh&&function(n){return new Promise(function(r,c){const a=Ts(n);let p=a.data;const m=It.from(a.headers).normalize();let{responseType:x,onUploadProgress:k,onDownloadProgress:b}=a,g,u,w,y,f;function _(){y&&y(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(a.method.toUpperCase(),a.url,!0),T.timeout=a.timeout;function C(){if(!T)return;const S=It.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),U={data:!x||x==="text"||x==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:S,config:n,request:T};Ps(function(F){r(F),_()},function(F){c(F),_()},U),T=null}"onloadend"in T?T.onloadend=C:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(C)},T.onabort=function(){T&&(c(new st("Request aborted",st.ECONNABORTED,n,T)),T=null)},T.onerror=function(){c(new st("Network Error",st.ERR_NETWORK,n,T)),T=null},T.ontimeout=function(){let I=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const U=a.transitional||ks;a.timeoutErrorMessage&&(I=a.timeoutErrorMessage),c(new st(I,U.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,n,T)),T=null},p===void 0&&m.setContentType(null),"setRequestHeader"in T&&Z.forEach(m.toJSON(),function(I,U){T.setRequestHeader(U,I)}),Z.isUndefined(a.withCredentials)||(T.withCredentials=!!a.withCredentials),x&&x!=="json"&&(T.responseType=a.responseType),b&&([w,f]=Fi(b,!0),T.addEventListener("progress",w)),k&&T.upload&&([u,y]=Fi(k),T.upload.addEventListener("progress",u),T.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(g=S=>{T&&(c(!S||S.type?new Ne(null,n,T):S),T.abort(),T=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const P=Hh(a.url);if(P&&At.protocols.indexOf(P)===-1){c(new st("Unsupported protocol "+P+":",st.ERR_BAD_REQUEST,n));return}T.send(p||null)})},tl=(n,s)=>{const{length:r}=n=n?n.filter(Boolean):[];if(s||r){let c=new AbortController,a;const p=function(b){if(!a){a=!0,x();const g=b instanceof Error?b:this.reason;c.abort(g instanceof st?g:new Ne(g instanceof Error?g.message:g))}};let m=s&&setTimeout(()=>{m=null,p(new st(`timeout ${s} of ms exceeded`,st.ETIMEDOUT))},s);const x=()=>{n&&(m&&clearTimeout(m),m=null,n.forEach(b=>{b.unsubscribe?b.unsubscribe(p):b.removeEventListener("abort",p)}),n=null)};n.forEach(b=>b.addEventListener("abort",p));const{signal:k}=c;return k.unsubscribe=()=>Z.asap(x),k}},el=function*(n,s){let r=n.byteLength;if(r<s){yield n;return}let c=0,a;for(;c<r;)a=c+s,yield n.slice(c,a),c=a},il=async function*(n,s){for await(const r of nl(n))yield*el(r,s)},nl=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const s=n.getReader();try{for(;;){const{done:r,value:c}=await s.read();if(r)break;yield c}}finally{await s.cancel()}},co=(n,s,r,c)=>{const a=il(n,s);let p=0,m,x=k=>{m||(m=!0,c&&c(k))};return new ReadableStream({async pull(k){try{const{done:b,value:g}=await a.next();if(b){x(),k.close();return}let u=g.byteLength;if(r){let w=p+=u;r(w)}k.enqueue(new Uint8Array(g))}catch(b){throw x(b),b}},cancel(k){return x(k),a.return()}},{highWaterMark:2})},Hi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Os=Hi&&typeof ReadableStream=="function",rl=Hi&&(typeof TextEncoder=="function"?(n=>s=>n.encode(s))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Ls=(n,...s)=>{try{return!!n(...s)}catch{return!1}},ol=Os&&Ls(()=>{let n=!1;const s=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!s}),ho=64*1024,Mn=Os&&Ls(()=>Z.isReadableStream(new Response("").body)),Ri={stream:Mn&&(n=>n.body)};Hi&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ri[s]&&(Ri[s]=Z.isFunction(n[s])?r=>r[s]():(r,c)=>{throw new st(`Response type '${s}' is not supported`,st.ERR_NOT_SUPPORT,c)})})})(new Response);const sl=async n=>{if(n==null)return 0;if(Z.isBlob(n))return n.size;if(Z.isSpecCompliantForm(n))return(await new Request(At.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(n)||Z.isArrayBuffer(n))return n.byteLength;if(Z.isURLSearchParams(n)&&(n=n+""),Z.isString(n))return(await rl(n)).byteLength},al=async(n,s)=>{const r=Z.toFiniteNumber(n.getContentLength());return r??sl(s)},ul=Hi&&(async n=>{let{url:s,method:r,data:c,signal:a,cancelToken:p,timeout:m,onDownloadProgress:x,onUploadProgress:k,responseType:b,headers:g,withCredentials:u="same-origin",fetchOptions:w}=Ts(n);b=b?(b+"").toLowerCase():"text";let y=tl([a,p&&p.toAbortSignal()],m),f;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let T;try{if(k&&ol&&r!=="get"&&r!=="head"&&(T=await al(g,c))!==0){let U=new Request(s,{method:"POST",body:c,duplex:"half"}),M;if(Z.isFormData(c)&&(M=U.headers.get("content-type"))&&g.setContentType(M),U.body){const[F,H]=so(T,Fi(ao(k)));c=co(U.body,ho,F,H)}}Z.isString(u)||(u=u?"include":"omit");const C="credentials"in Request.prototype;f=new Request(s,{...w,signal:y,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:c,duplex:"half",credentials:C?u:void 0});let P=await fetch(f);const S=Mn&&(b==="stream"||b==="response");if(Mn&&(x||S&&_)){const U={};["status","statusText","headers"].forEach(z=>{U[z]=P[z]});const M=Z.toFiniteNumber(P.headers.get("content-length")),[F,H]=x&&so(M,Fi(ao(x),!0))||[];P=new Response(co(P.body,ho,F,()=>{H&&H(),_&&_()}),U)}b=b||"text";let I=await Ri[Z.findKey(Ri,b)||"text"](P,n);return!S&&_&&_(),await new Promise((U,M)=>{Ps(U,M,{data:I,headers:It.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:f})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,n,f),{cause:C.cause||C}):st.from(C,C&&C.code,n,f)}}),Nn={http:xh,xhr:Qh,fetch:ul};Z.forEach(Nn,(n,s)=>{if(n){try{Object.defineProperty(n,"name",{value:s})}catch{}Object.defineProperty(n,"adapterName",{value:s})}});const lo=n=>`- ${n}`,cl=n=>Z.isFunction(n)||n===null||n===!1,Ss={getAdapter:n=>{n=Z.isArray(n)?n:[n];const{length:s}=n;let r,c;const a={};for(let p=0;p<s;p++){r=n[p];let m;if(c=r,!cl(r)&&(c=Nn[(m=String(r)).toLowerCase()],c===void 0))throw new st(`Unknown adapter '${m}'`);if(c)break;a[m||"#"+p]=c}if(!c){const p=Object.entries(a).map(([x,k])=>`adapter ${x} `+(k===!1?"is not supported by the environment":"is not available in the build"));let m=s?p.length>1?`since :
`+p.map(lo).join(`
`):" "+lo(p[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c},adapters:Nn};function Tn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ne(null,n)}function fo(n){return Tn(n),n.headers=It.from(n.headers),n.data=En.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ss.getAdapter(n.adapter||ci.adapter)(n).then(function(c){return Tn(n),c.data=En.call(n,n.transformResponse,c),c.headers=It.from(c.headers),c},function(c){return xs(c)||(Tn(n),c&&c.response&&(c.response.data=En.call(n,n.transformResponse,c.response),c.response.headers=It.from(c.response.headers))),Promise.reject(c)})}const Cs="1.8.4",Wi={};["object","boolean","number","function","string","symbol"].forEach((n,s)=>{Wi[n]=function(c){return typeof c===n||"a"+(s<1?"n ":" ")+n}});const po={};Wi.transitional=function(s,r,c){function a(p,m){return"[Axios v"+Cs+"] Transitional option '"+p+"'"+m+(c?". "+c:"")}return(p,m,x)=>{if(s===!1)throw new st(a(m," has been removed"+(r?" in "+r:"")),st.ERR_DEPRECATED);return r&&!po[m]&&(po[m]=!0,console.warn(a(m," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(p,m,x):!0}};Wi.spelling=function(s){return(r,c)=>(console.warn(`${c} is likely a misspelling of ${s}`),!0)};function hl(n,s,r){if(typeof n!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let a=c.length;for(;a-- >0;){const p=c[a],m=s[p];if(m){const x=n[p],k=x===void 0||m(x,p,n);if(k!==!0)throw new st("option "+p+" must be "+k,st.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new st("Unknown option "+p,st.ERR_BAD_OPTION)}}const Ni={assertOptions:hl,validators:Wi},Jt=Ni.validators;let ge=class{constructor(s){this.defaults=s,this.interceptors={request:new ro,response:new ro}}async request(s,r){try{return await this._request(s,r)}catch(c){if(c instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const p=a.stack?a.stack.replace(/^.+\n/,""):"";try{c.stack?p&&!String(c.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+p):c.stack=p}catch{}}throw c}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=we(this.defaults,r);const{transitional:c,paramsSerializer:a,headers:p}=r;c!==void 0&&Ni.assertOptions(c,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),a!=null&&(Z.isFunction(a)?r.paramsSerializer={serialize:a}:Ni.assertOptions(a,{encode:Jt.function,serialize:Jt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ni.assertOptions(r,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let m=p&&Z.merge(p.common,p[r.method]);p&&Z.forEach(["delete","get","head","post","put","patch","common"],f=>{delete p[f]}),r.headers=It.concat(m,p);const x=[];let k=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(k=k&&_.synchronous,x.unshift(_.fulfilled,_.rejected))});const b=[];this.interceptors.response.forEach(function(_){b.push(_.fulfilled,_.rejected)});let g,u=0,w;if(!k){const f=[fo.bind(this),void 0];for(f.unshift.apply(f,x),f.push.apply(f,b),w=f.length,g=Promise.resolve(r);u<w;)g=g.then(f[u++],f[u++]);return g}w=x.length;let y=r;for(u=0;u<w;){const f=x[u++],_=x[u++];try{y=f(y)}catch(T){_.call(this,T);break}}try{g=fo.call(this,y)}catch(f){return Promise.reject(f)}for(u=0,w=b.length;u<w;)g=g.then(b[u++],b[u++]);return g}getUri(s){s=we(this.defaults,s);const r=Es(s.baseURL,s.url,s.allowAbsoluteUrls);return vs(r,s.params,s.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(s){ge.prototype[s]=function(r,c){return this.request(we(c||{},{method:s,url:r,data:(c||{}).data}))}});Z.forEach(["post","put","patch"],function(s){function r(c){return function(p,m,x){return this.request(we(x||{},{method:s,headers:c?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}ge.prototype[s]=r(),ge.prototype[s+"Form"]=r(!0)});let ll=class As{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(p){r=p});const c=this;this.promise.then(a=>{if(!c._listeners)return;let p=c._listeners.length;for(;p-- >0;)c._listeners[p](a);c._listeners=null}),this.promise.then=a=>{let p;const m=new Promise(x=>{c.subscribe(x),p=x}).then(a);return m.cancel=function(){c.unsubscribe(p)},m},s(function(p,m,x){c.reason||(c.reason=new Ne(p,m,x),r(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=c=>{s.abort(c)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new As(function(a){s=a}),cancel:s}}};function fl(n){return function(r){return n.apply(null,r)}}function dl(n){return Z.isObject(n)&&n.isAxiosError===!0}const In={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(In).forEach(([n,s])=>{In[s]=n});function Ms(n){const s=new ge(n),r=cs(ge.prototype.request,s);return Z.extend(r,ge.prototype,s,{allOwnKeys:!0}),Z.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return Ms(we(n,a))},r}const Et=Ms(ci);Et.Axios=ge;Et.CanceledError=Ne;Et.CancelToken=ll;Et.isCancel=xs;Et.VERSION=Cs;Et.toFormData=Di;Et.AxiosError=st;Et.Cancel=Et.CanceledError;Et.all=function(s){return Promise.all(s)};Et.spread=fl;Et.isAxiosError=dl;Et.mergeConfig=we;Et.AxiosHeaders=It;Et.formToJSON=n=>bs(Z.isHTMLForm(n)?new FormData(n):n);Et.getAdapter=Ss.getAdapter;Et.HttpStatusCode=In;Et.default=Et;const{Axios:kl,AxiosError:bl,CanceledError:xl,isCancel:Pl,CancelToken:El,VERSION:Tl,all:Ol,Cancel:Ll,isAxiosError:Sl,spread:Cl,toFormData:Al,AxiosHeaders:Ml,HttpStatusCode:Nl,formToJSON:Il,getAdapter:Bl,mergeConfig:Fl}=Et;export{ml as V,wl as W,_l as _,Et as a,gl as b};
