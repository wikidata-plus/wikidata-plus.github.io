import{d as ve,r as ji,u as eu,o as Zi,c as Ii,a as oi,b as se,p as iu,_ as wo,i as nu,w as yo,e as Ui,f as jn,F as vo,g as ko,h as ru,j as ou,k as Xr}from"./index-De-fRyQf.js";var ei={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var su=ei.exports,Jr;function au(){return Jr||(Jr=1,function(n,s){(function(r,c){c(s)})(su,function(r){var c="1.9.4";function a(t){var e,i,o,l;for(i=1,o=arguments.length;i<o;i++){l=arguments[i];for(e in l)t[e]=l[e]}return t}var m=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function p(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var b=0;function k(t){return"_leaflet_id"in t||(t._leaflet_id=++b),t._leaflet_id}function x(t,e,i){var o,l,v,A;return A=function(){o=!1,l&&(v.apply(i,l),l=!1)},v=function(){o?l=arguments:(t.apply(i,arguments),setTimeout(A,e),o=!0)},v}function _(t,e,i){var o=e[1],l=e[0],v=o-l;return t===o&&i?t:((t-l)%v+v)%v+l}function u(){return!1}function w(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return y(t).split(/\s+/)}function g(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?m(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function E(t,e,i){var o=[];for(var l in t)o.push(encodeURIComponent(i?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!e||e.indexOf("?")===-1?"?":"&")+o.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(t,e){return t.replace(C,function(i,o){var l=e[o];if(l===void 0)throw new Error("No value provided for variable "+i);return typeof l=="function"&&(l=l(e)),l})}var S=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function I(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var F=0;function H(t){var e=+new Date,i=Math.max(0,16-(e-F));return F=e+i,window.setTimeout(t,i)}var z=window.requestAnimationFrame||M("RequestAnimationFrame")||H,q=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function N(t,e,i){if(i&&z===H)t.call(e);else return z.call(window,p(t,e))}function X(t){t&&q.call(window,t)}var K={__proto__:null,extend:a,create:m,bind:p,get lastId(){return b},stamp:k,throttle:x,wrapNum:_,falseFn:u,formatNum:w,trim:y,splitWords:f,setOptions:g,getParamString:E,template:P,isArray:S,indexOf:I,emptyImageUrl:U,requestFn:z,cancelFn:q,requestAnimFrame:N,cancelAnimFrame:X};function D(){}D.extend=function(t){var e=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=m(i);o.constructor=e,e.prototype=o;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(e[l]=this[l]);return t.statics&&a(e,t.statics),t.includes&&(ft(t.includes),a.apply(null,[o].concat(t.includes))),a(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?m(i.options):{},a(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,A=o._initHooks.length;v<A;v++)o._initHooks[v].call(this)}},e},D.include=function(t){var e=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},D.mergeOptions=function(t){return a(this.prototype.options,t),this},D.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function ft(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=S(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e);else{t=f(t);for(var l=0,v=t.length;l<v;l++)this._on(t[l],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],e);else{t=f(t);for(var l=arguments.length===1,v=0,A=t.length;v<A;v++)l?this._off(t[v]):this._off(t[v],e,i)}return this},_on:function(t,e,i,o){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var l={fn:e,ctx:i};o&&(l.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(l)}},_off:function(t,e,i){var o,l,v;if(this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(l=0,v=o.length;l<v;l++)o[l].fn=u;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var A=this._listens(t,e,i);if(A!==!1){var B=o[A];this._firingCount&&(B.fn=u,this._events[t]=o=o.slice()),o.splice(A,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=a({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var v=0,A=l.length;v<A;v++){var B=l[v],j=B.fn;B.once&&this.off(t,j,B.ctx),j.call(B.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,i,o){typeof t!="string"&&console.warn('"string" type argument expected');var l=e;typeof e!="function"&&(o=!!e,l=void 0,i=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,l,i)!==!1)return!0;if(o){for(var A in this._eventParents)if(this._eventParents[A].listens(t,e,i,o))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;i===this&&(i=void 0);for(var l=0,v=o.length;l<v;l++)if(o[l].fn===e&&o[l].ctx===i)return l;return!1},once:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e,!0);else{t=f(t);for(var l=0,v=t.length;l<v;l++)this._on(t[l],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[k(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[k(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var G=D.extend(Y);function J(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var ut=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(t){return this.clone()._add(tt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(tt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new J(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new J(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ut(this.x),this.y=ut(this.y),this},distanceTo:function(t){t=tt(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=tt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=tt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function tt(t,e,i){return t instanceof J?t:S(t)?new J(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new J(t.x,t.y):new J(t,e,i)}function _t(t,e){if(t)for(var i=e?[t,e]:t,o=0,l=i.length;o<l;o++)this.extend(i[o])}_t.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof J||typeof t[0]=="number"||"x"in t)e=i=tt(t);else if(t=Et(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return tt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return tt(this.min.x,this.max.y)},getTopRight:function(){return tt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof J?t=tt(t):t=Et(t),t instanceof _t?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Et(t);var e=this.min,i=this.max,o=t.min,l=t.max,v=l.x>=e.x&&o.x<=i.x,A=l.y>=e.y&&o.y<=i.y;return v&&A},overlaps:function(t){t=Et(t);var e=this.min,i=this.max,o=t.min,l=t.max,v=l.x>e.x&&o.x<i.x,A=l.y>e.y&&o.y<i.y;return v&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,o=Math.abs(e.x-i.x)*t,l=Math.abs(e.y-i.y)*t;return Et(tt(e.x-o,e.y-l),tt(i.x+o,i.y+l))},equals:function(t){return t?(t=Et(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Et(t,e){return!t||t instanceof _t?t:new _t(t,e)}function mt(t,e){if(t)for(var i=e?[t,e]:t,o=0,l=i.length;o<l;o++)this.extend(i[o])}mt.prototype={extend:function(t){var e=this._southWest,i=this._northEast,o,l;if(t instanceof it)o=t,l=t;else if(t instanceof mt){if(o=t._southWest,l=t._northEast,!o||!l)return this}else return t?this.extend(nt(t)||gt(t)):this;return!e&&!i?(this._southWest=new it(o.lat,o.lng),this._northEast=new it(l.lat,l.lng)):(e.lat=Math.min(o.lat,e.lat),e.lng=Math.min(o.lng,e.lng),i.lat=Math.max(l.lat,i.lat),i.lng=Math.max(l.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,l=Math.abs(e.lng-i.lng)*t;return new mt(new it(e.lat-o,e.lng-l),new it(i.lat+o,i.lng+l))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof it||"lat"in t?t=nt(t):t=gt(t);var e=this._southWest,i=this._northEast,o,l;return t instanceof mt?(o=t.getSouthWest(),l=t.getNorthEast()):o=l=t,o.lat>=e.lat&&l.lat<=i.lat&&o.lng>=e.lng&&l.lng<=i.lng},intersects:function(t){t=gt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),l=t.getNorthEast(),v=l.lat>=e.lat&&o.lat<=i.lat,A=l.lng>=e.lng&&o.lng<=i.lng;return v&&A},overlaps:function(t){t=gt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),l=t.getNorthEast(),v=l.lat>e.lat&&o.lat<i.lat,A=l.lng>e.lng&&o.lng<i.lng;return v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=gt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(t,e){return t instanceof mt?t:new mt(t,e)}function it(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}it.prototype={equals:function(t,e){if(!t)return!1;t=nt(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+w(this.lat,t)+", "+w(this.lng,t)+")"},distanceTo:function(t){return $t.distance(this,nt(t))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return gt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function nt(t,e,i){return t instanceof it?t:S(t)&&typeof t[0]!="object"?t.length===3?new it(t[0],t[1],t[2]):t.length===2?new it(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new it(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new it(t,e,i)}var Rt={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),o=this.transformation.transform(e.min,i),l=this.transformation.transform(e.max,i);return new _t(o,l)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new it(i,e,o)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,l=e.lng-i.lng;if(o===0&&l===0)return t;var v=t.getSouthWest(),A=t.getNorthEast(),B=new it(v.lat-o,v.lng-l),j=new it(A.lat-o,A.lng-l);return new mt(B,j)}},$t=a({},Rt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,l=e.lat*i,v=Math.sin((e.lat-t.lat)*i/2),A=Math.sin((e.lng-t.lng)*i/2),B=v*v+Math.cos(o)*Math.cos(l)*A*A,j=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*j}}),Be=6378137,Fe={R:Be,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),l=Math.sin(o*e);return new J(this.R*t.lng*e,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var e=180/Math.PI;return new it((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Be*Math.PI;return new _t([-t,-t],[t,t])}()};function Re(t,e,i,o){if(S(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=o}Re.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new J((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function ue(t,e,i,o){return new Re(t,e,i,o)}var ce=a({},$t,{code:"EPSG:3857",projection:Fe,transformation:function(){var t=.5/(Math.PI*Fe.R);return ue(t,.5,-t,.5)}()}),Ki=a({},ce,{code:"EPSG:900913"});function li(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ze(t,e){var i="",o,l,v,A,B,j;for(o=0,v=t.length;o<v;o++){for(B=t[o],l=0,A=B.length;l<A;l++)j=B[l],i+=(l?"L":"M")+j.x+" "+j.y;i+=e?et.svg?"z":"x":""}return i||"M0 0"}var ne=document.documentElement.style,zt="ActiveXObject"in window,je=zt&&!document.addEventListener,T="msLaunchUri"in navigator&&!("documentMode"in document),h=Vt("webkit"),d=Vt("android"),O=Vt("android 2")||Vt("android 3"),R=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),V=d&&Vt("Google")&&R<537&&!("AudioNode"in window),W=!!window.opera,lt=!T&&Vt("chrome"),pt=Vt("gecko")&&!h&&!W&&!zt,wt=!lt&&Vt("safari"),Ot=Vt("phantom"),vt="OTransition"in ne,ke=navigator.platform.indexOf("Win")===0,Ze=zt&&"transition"in ne,be="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!O,Jn="MozPerspective"in ne,Rs=!window.L_DISABLE_3D&&(Ze||be||Jn)&&!vt&&!Ot,Ue=typeof orientation<"u"||Vt("mobile"),zs=Ue&&h,js=Ue&&be,Kn=!window.PointerEvent&&window.MSPointerEvent,Yn=!!(window.PointerEvent||Kn),Qn="ontouchstart"in window||!!window.TouchEvent,Zs=!window.L_NO_TOUCH&&(Qn||Yn),Us=Ue&&W,$s=Ue&&pt,qs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ds=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch{}return t}(),Hs=function(){return!!document.createElement("canvas").getContext}(),Yi=!!(document.createElementNS&&li("svg").createSVGRect),Vs=!!Yi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ws=!Yi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Gs=navigator.platform.indexOf("Mac")===0,Xs=navigator.platform.indexOf("Linux")===0;function Vt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var et={ie:zt,ielt9:je,edge:T,webkit:h,android:d,android23:O,androidStock:V,opera:W,chrome:lt,gecko:pt,safari:wt,phantom:Ot,opera12:vt,win:ke,ie3d:Ze,webkit3d:be,gecko3d:Jn,any3d:Rs,mobile:Ue,mobileWebkit:zs,mobileWebkit3d:js,msPointer:Kn,pointer:Yn,touch:Zs,touchNative:Qn,mobileOpera:Us,mobileGecko:$s,retina:qs,passiveEvents:Ds,canvas:Hs,svg:Yi,vml:Ws,inlineSvg:Vs,mac:Gs,linux:Xs},tr=et.msPointer?"MSPointerDown":"pointerdown",er=et.msPointer?"MSPointerMove":"pointermove",ir=et.msPointer?"MSPointerUp":"pointerup",nr=et.msPointer?"MSPointerCancel":"pointercancel",Qi={touchstart:tr,touchmove:er,touchend:ir,touchcancel:nr},rr={touchstart:ea,touchmove:hi,touchend:hi,touchcancel:hi},xe={},or=!1;function Js(t,e,i){return e==="touchstart"&&ta(),rr[e]?(i=rr[e].bind(this,i),t.addEventListener(Qi[e],i,!1),i):(console.warn("wrong event specified:",e),u)}function Ks(t,e,i){if(!Qi[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Qi[e],i,!1)}function Ys(t){xe[t.pointerId]=t}function Qs(t){xe[t.pointerId]&&(xe[t.pointerId]=t)}function sr(t){delete xe[t.pointerId]}function ta(){or||(document.addEventListener(tr,Ys,!0),document.addEventListener(er,Qs,!0),document.addEventListener(ir,sr,!0),document.addEventListener(nr,sr,!0),or=!0)}function hi(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in xe)e.touches.push(xe[i]);e.changedTouches=[e],t(e)}}function ea(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&St(e),hi(t,e)}function ia(t){var e={},i,o;for(o in t)i=t[o],e[o]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var na=200;function ra(t,e){t.addEventListener("dblclick",e);var i=0,o;function l(v){if(v.detail!==1){o=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var A=hr(v);if(!(A.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!A.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var B=Date.now();B-i<=na?(o++,o===2&&e(ia(v))):o=1,i=B}}}return t.addEventListener("click",l),{dblclick:e,simDblclick:l}}function oa(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var tn=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$e=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ar=$e==="webkitTransition"||$e==="OTransition"?$e+"End":"transitionend";function ur(t){return typeof t=="string"?document.getElementById(t):t}function qe(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return i==="auto"?null:i}function dt(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function kt(t){var e=t.parentNode;e&&e.removeChild(t)}function fi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Pe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Te(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function en(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=di(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function at(t,e){if(t.classList!==void 0)for(var i=f(e),o=0,l=i.length;o<l;o++)t.classList.add(i[o]);else if(!en(t,e)){var v=di(t);nn(t,(v?v+" ":"")+e)}}function bt(t,e){t.classList!==void 0?t.classList.remove(e):nn(t,y((" "+di(t)+" ").replace(" "+e+" "," ")))}function nn(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function di(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function jt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&sa(t,e)}function sa(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function pi(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function le(t,e,i){var o=e||new J(0,0);t.style[tn]=(et.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function Pt(t,e){t._leaflet_pos=e,et.any3d?le(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function he(t){return t._leaflet_pos||new J(0,0)}var De,He,rn;if("onselectstart"in document)De=function(){ot(window,"selectstart",St)},He=function(){yt(window,"selectstart",St)};else{var Ve=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(Ve){var t=document.documentElement.style;rn=t[Ve],t[Ve]="none"}},He=function(){Ve&&(document.documentElement.style[Ve]=rn,rn=void 0)}}function on(){ot(window,"dragstart",St)}function sn(){yt(window,"dragstart",St)}var mi,an;function un(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(_i(),mi=t,an=t.style.outlineStyle,t.style.outlineStyle="none",ot(window,"keydown",_i))}function _i(){mi&&(mi.style.outlineStyle=an,mi=void 0,an=void 0,yt(window,"keydown",_i))}function cr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function cn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var aa={__proto__:null,TRANSFORM:tn,TRANSITION:$e,TRANSITION_END:ar,get:ur,getStyle:qe,create:dt,remove:kt,empty:fi,toFront:Pe,toBack:Te,hasClass:en,addClass:at,removeClass:bt,setClass:nn,getClass:di,setOpacity:jt,testProp:pi,setTransform:le,setPosition:Pt,getPosition:he,get disableTextSelection(){return De},get enableTextSelection(){return He},disableImageDrag:on,enableImageDrag:sn,preventOutline:un,restoreOutline:_i,getSizedParentNode:cr,getScale:cn};function ot(t,e,i,o){if(e&&typeof e=="object")for(var l in e)hn(t,l,e[l],i);else{e=f(e);for(var v=0,A=e.length;v<A;v++)hn(t,e[v],i,o)}return this}var Wt="_leaflet_events";function yt(t,e,i,o){if(arguments.length===1)lr(t),delete t[Wt];else if(e&&typeof e=="object")for(var l in e)fn(t,l,e[l],i);else if(e=f(e),arguments.length===2)lr(t,function(B){return I(e,B)!==-1});else for(var v=0,A=e.length;v<A;v++)fn(t,e[v],i,o);return this}function lr(t,e){for(var i in t[Wt]){var o=i.split(/\d/)[0];(!e||e(o))&&fn(t,o,null,null,i)}}var ln={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hn(t,e,i,o){var l=e+k(i)+(o?"_"+k(o):"");if(t[Wt]&&t[Wt][l])return this;var v=function(B){return i.call(o||t,B||window.event)},A=v;!et.touchNative&&et.pointer&&e.indexOf("touch")===0?v=Js(t,e,v):et.touch&&e==="dblclick"?v=ra(t,v):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(ln[e]||e,v,et.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(v=function(B){B=B||window.event,pn(t,B)&&A(B)},t.addEventListener(ln[e],v,!1)):t.addEventListener(e,A,!1):t.attachEvent("on"+e,v),t[Wt]=t[Wt]||{},t[Wt][l]=v}function fn(t,e,i,o,l){l=l||e+k(i)+(o?"_"+k(o):"");var v=t[Wt]&&t[Wt][l];if(!v)return this;!et.touchNative&&et.pointer&&e.indexOf("touch")===0?Ks(t,e,v):et.touch&&e==="dblclick"?oa(t,v):"removeEventListener"in t?t.removeEventListener(ln[e]||e,v,!1):t.detachEvent("on"+e,v),t[Wt][l]=null}function fe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function dn(t){return hn(t,"wheel",fe),this}function We(t){return ot(t,"mousedown touchstart dblclick contextmenu",fe),t._leaflet_disable_click=!0,this}function St(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function de(t){return St(t),fe(t),this}function hr(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function fr(t,e){if(!e)return new J(t.clientX,t.clientY);var i=cn(e),o=i.boundingClientRect;return new J((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var ua=et.linux&&et.chrome?window.devicePixelRatio:et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dr(t){return et.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ua:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function pn(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var ca={__proto__:null,on:ot,off:yt,stopPropagation:fe,disableScrollPropagation:dn,disableClickPropagation:We,preventDefault:St,stop:de,getPropagationPath:hr,getMousePosition:fr,getWheelDelta:dr,isExternalTarget:pn,addListener:ot,removeListener:yt},pr=G.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=he(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Pt(this._el,i),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ht=G.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=g(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(nt(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$e&&et.any3d&&!et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,ar,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(nt(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=a({animate:i.animate},i.zoom),i.pan=a({animate:i.animate,duration:i.duration},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),l=this.getSize().divideBy(2),v=t instanceof J?t:this.latLngToContainerPoint(t),A=v.subtract(l).multiplyBy(1-1/o),B=this.containerPointToLatLng(l.add(A));return this.setView(B,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():gt(t);var i=tt(e.paddingTopLeft||e.padding||[0,0]),o=tt(e.paddingBottomRight||e.padding||[0,0]),l=this.getBoundsZoom(t,!1,i.add(o));if(l=typeof e.maxZoom=="number"?Math.min(e.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var v=o.subtract(i).divideBy(2),A=this.project(t.getSouthWest(),l),B=this.project(t.getNorthEast(),l),j=this.unproject(A.add(B).divideBy(2).add(v),l);return{center:j,zoom:l}},fitBounds:function(t,e){if(t=gt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=tt(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){at(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!et.any3d)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),l=this.project(t),v=this.getSize(),A=this._zoom;t=nt(t),e=e===void 0?A:e;var B=Math.max(v.x,v.y),j=B*this.getZoomScale(A,e),$=l.distanceTo(o)||1,Q=1.42,rt=Q*Q;function ct(Tt){var Li=Tt?-1:1,Ka=Tt?j:B,Ya=j*j-B*B+Li*rt*rt*$*$,Qa=2*Ka*rt*$,Tn=Ya/Qa,Gr=Math.sqrt(Tn*Tn+1)-Tn,tu=Gr<1e-9?-18:Math.log(Gr);return tu}function Mt(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function Lt(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function Ut(Tt){return Mt(Tt)/Lt(Tt)}var Nt=ct(0);function Ae(Tt){return B*(Lt(Nt)/Lt(Nt+Q*Tt))}function Wa(Tt){return B*(Lt(Nt)*Ut(Nt+Q*Tt)-Mt(Nt))/rt}function Ga(Tt){return 1-Math.pow(1-Tt,1.5)}var Xa=Date.now(),Vr=(ct(1)-Nt)/Q,Ja=i.duration?1e3*i.duration:1e3*Vr*.8;function Wr(){var Tt=(Date.now()-Xa)/Ja,Li=Ga(Tt)*Vr;Tt<=1?(this._flyToFrame=N(Wr,this),this._move(this.unproject(o.add(l.subtract(o).multiplyBy(Wa(Li)/$)),A),this.getScaleZoom(B/Ae(Li),A),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Wr.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=gt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,gt(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=tt(e.paddingTopLeft||e.padding||[0,0]),o=tt(e.paddingBottomRight||e.padding||[0,0]),l=this.project(this.getCenter()),v=this.project(t),A=this.getPixelBounds(),B=Et([A.min.add(i),A.max.subtract(o)]),j=B.getSize();if(!B.contains(v)){this._enforcingBounds=!0;var $=v.subtract(B.getCenter()),Q=B.extend(v).getSize().subtract(j);l.x+=$.x<0?-Q.x:Q.x,l.y+=$.y<0?-Q.y:Q.y,this.panTo(this.unproject(l),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),l=i.divideBy(2).round(),v=o.subtract(l);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=p(this._handleGeolocationResponse,this),i=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,o=new it(e,i),l=o.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var A=this.getBoundsZoom(l);this.setView(o,v.maxZoom?Math.min(A,v.maxZoom):A)}var B={latlng:o,bounds:l,timestamp:t.timestamp};for(var j in t.coords)typeof t.coords[j]=="number"&&(B[j]=t.coords[j]);this.fire("locationfound",B)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)kt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=dt("div",i,e||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new mt(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=gt(t),i=tt(i||[0,0]);var o=this.getZoom()||0,l=this.getMinZoom(),v=this.getMaxZoom(),A=t.getNorthWest(),B=t.getSouthEast(),j=this.getSize().subtract(i),$=Et(this.project(B,o),this.project(A,o)).getSize(),Q=et.any3d?this.options.zoomSnap:1,rt=j.x/$.x,ct=j.y/$.y,Mt=e?Math.max(rt,ct):Math.min(rt,ct);return o=this.getScaleZoom(Mt,o),Q&&(o=Math.round(o/(Q/100))*(Q/100),o=e?Math.ceil(o/Q)*Q:Math.floor(o/Q)*Q),Math.max(l,Math.min(v,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new _t(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(nt(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(tt(t),e)},layerPointToLatLng:function(t){var e=tt(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(nt(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(nt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(gt(t))},distance:function(t,e){return this.options.crs.distance(nt(t),nt(e))},containerPointToLayerPoint:function(t){return tt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return tt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(tt(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(t)))},mouseEventToContainerPoint:function(t){return fr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ur(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(e,"scroll",this._onScroll,this),this._containerId=k(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&et.any3d,at(t,"leaflet-container"+(et.touch?" leaflet-touch":"")+(et.retina?" leaflet-retina":"")+(et.ielt9?" leaflet-oldie":"")+(et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=qe(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(at(t.markerPane,"leaflet-zoom-hide"),at(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Pt(this._mapPane,new J(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var l=this._zoom!==e;this._moveStart(l,i)._move(t,e)._moveEnd(l),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,o){e===void 0&&(e=this._zoom);var l=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?i&&i.pinch&&this.fire("zoom",i):((l||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[k(this._container)]=this;var e=t?yt:ot;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),et.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],o,l=e==="mouseout"||e==="mouseover",v=t.target||t.srcElement,A=!1;v;){if(o=this._targets[k(v)],o&&(e==="click"||e==="preclick")&&this._draggableMoved(o)){A=!0;break}if(o&&o.listens(e,!0)&&(l&&!pn(v,t)||(i.push(o),l))||v===this._container)break;v=v.parentNode}return!i.length&&!A&&!l&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&un(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var o=a({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var l=this._findEventTargets(t,e);if(i){for(var v=[],A=0;A<i.length;A++)i[A].listens(e,!0)&&v.push(i[A]);l=v.concat(l)}if(l.length){e==="contextmenu"&&St(t);var B=l[0],j={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var $=B.getLatLng&&(!B._radius||B._radius<=10);j.containerPoint=$?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(t),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=$?B.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(A=0;A<l.length;A++)if(l[A].fire(e,j,!0),j.originalEvent._stopped||l[A].options.bubblingMouseEvents===!1&&I(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return he(this._mapPane)||new J(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return Et([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),l=this.getSize().divideBy(2),v=new _t(o.subtract(l),o.add(l)),A=this._getBoundsOffset(v,i,e);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?t:this.unproject(o.add(A),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new _t(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=Et(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),l=o.min.subtract(t.min),v=o.max.subtract(t.max),A=this._rebound(l.x,-v.x),B=this._rebound(l.y,-v.y);return new J(A,B)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=et.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=tn,o=this._proxy.style[i];le(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),o===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();le(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),l=this._getCenterOffset(t)._divideBy(1-1/o);return i.animate!==!0&&!this.getSize().contains(l)?!1:(N(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,at(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function la(t,e){return new ht(t,e)}var qt=D.extend({options:{position:"topright"},initialize:function(t){g(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return at(e,"leaflet-control"),i.indexOf("bottom")!==-1?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ge=function(t){return new qt(t)};ht.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=dt("div",e+"control-container",this._container);function o(l,v){var A=e+l+" "+e+v;t[l+v]=dt("div",A,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)kt(this._controlCorners[t]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mr=qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){g(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return qt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(k(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){at(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(at(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=dt("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),We(e),dn(e);var o=this._section=dt("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ot(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=dt("a",t+"-toggle",e);l.href="#",l.title="Layers",l.setAttribute("role","button"),ot(l,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){St(v),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=dt("div",t+"-base",o),this._separator=dt("div",t+"-separator",o),this._overlaysList=dt("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&k(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(p(function(o,l){return this.options.sortFunction(o.layer,l.layer,o.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fi(this._baseLayersList),fi(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,l=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,l+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(k(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=i):o=this._createRadioElement("leaflet-base-layers_"+k(this),i),this._layerControlInputs.push(o),o.layerId=k(t.layer),ot(o,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var v=document.createElement("span");e.appendChild(v),v.appendChild(o),v.appendChild(l);var A=t.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,o=[],l=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)e=t[v],i=this._getLayer(e.layerId).layer,e.checked?o.push(i):e.checked||l.push(i);for(v=0;v<l.length;v++)this._map.hasLayer(l[v])&&this._map.removeLayer(l[v]);for(v=0;v<o.length;v++)this._map.hasLayer(o[v])||this._map.addLayer(o[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,o=this._map.getZoom(),l=t.length-1;l>=0;l--)e=t[l],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&o<i.options.minZoom||i.options.maxZoom!==void 0&&o>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ot(t,"click",St),this.expand();var e=this;setTimeout(function(){yt(t,"click",St),e._preventClick=!1})}}),ha=function(t,e,i){return new mr(t,e,i)},mn=qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=dt("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,l){var v=dt("a",i,o);return v.innerHTML=t,v.href="#",v.title=e,v.setAttribute("role","button"),v.setAttribute("aria-label",e),We(v),ot(v,"click",de),ot(v,"click",l,this),ot(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";bt(this._zoomInButton,e),bt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(at(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(at(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mn,this.addControl(this.zoomControl))});var fa=function(t){return new mn(t)},_r=qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=dt("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=dt("div",e,i)),t.imperial&&(this._iScale=dt("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,o,l;e>5280?(i=e/5280,o=this._getRoundNum(i),this._updateScale(this._iScale,o+" mi",o/i)):(l=this._getRoundNum(e),this._updateScale(this._iScale,l+" ft",l/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),da=function(t){return new _r(t)},pa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_n=qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(et.inlineSvg?pa+" ":"")+"Leaflet</a>"},initialize:function(t){g(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),We(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new _n().addTo(this)});var ma=function(t){return new _n(t)};qt.Layers=mr,qt.Zoom=mn,qt.Scale=_r,qt.Attribution=_n,Ge.layers=ha,Ge.zoom=fa,Ge.scale=da,Ge.attribution=ma;var Gt=D.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(t,e){return t.addHandler(e,this),this};var _a={Events:Y},gr=et.touch?"touchstart mousedown":"mousedown",re=G.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){g(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ot(this._dragStartTarget,gr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(re._dragging===this&&this.finishDrag(!0),yt(this._dragStartTarget,gr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!en(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){re._dragging===this&&this.finishDrag();return}if(!(re._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(re._dragging=this,this._preventOutline&&un(this._element),on(),De(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=cr(this._element);this._startPoint=new J(e.clientX,e.clientY),this._startPos=he(this._element),this._parentScale=cn(i);var o=t.type==="mousedown";ot(document,o?"mousemove":"touchmove",this._onMove,this),ot(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new J(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,St(t),this._moved||(this.fire("dragstart"),this._moved=!0,at(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),at(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yt(document,"mousemove touchmove",this._onMove,this),yt(document,"mouseup touchend touchcancel",this._onUp,this),sn(),He();var e=this._moved&&this._moving;this._moving=!1,re._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function wr(t,e,i){var o,l=[1,4,2,8],v,A,B,j,$,Q,rt,ct;for(v=0,Q=t.length;v<Q;v++)t[v]._code=pe(t[v],e);for(B=0;B<4;B++){for(rt=l[B],o=[],v=0,Q=t.length,A=Q-1;v<Q;A=v++)j=t[v],$=t[A],j._code&rt?$._code&rt||(ct=gi($,j,rt,e,i),ct._code=pe(ct,e),o.push(ct)):($._code&rt&&(ct=gi($,j,rt,e,i),ct._code=pe(ct,e),o.push(ct)),o.push(j));t=o}return t}function yr(t,e){var i,o,l,v,A,B,j,$,Q;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var rt=nt([0,0]),ct=gt(t),Mt=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());Mt<1700&&(rt=gn(t));var Lt=t.length,Ut=[];for(i=0;i<Lt;i++){var Nt=nt(t[i]);Ut.push(e.project(nt([Nt.lat-rt.lat,Nt.lng-rt.lng])))}for(B=j=$=0,i=0,o=Lt-1;i<Lt;o=i++)l=Ut[i],v=Ut[o],A=l.y*v.x-v.y*l.x,j+=(l.x+v.x)*A,$+=(l.y+v.y)*A,B+=A*3;B===0?Q=Ut[0]:Q=[j/B,$/B];var Ae=e.unproject(tt(Q));return nt([Ae.lat+rt.lat,Ae.lng+rt.lng])}function gn(t){for(var e=0,i=0,o=0,l=0;l<t.length;l++){var v=nt(t[l]);e+=v.lat,i+=v.lng,o++}return nt([e/o,i/o])}var ga={__proto__:null,clipPolygon:wr,polygonCenter:yr,centroid:gn};function vr(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=va(t,i),t=ya(t,i),t}function kr(t,e,i){return Math.sqrt(Xe(t,e,i,!0))}function wa(t,e,i){return Xe(t,e,i)}function ya(t,e){var i=t.length,o=typeof Uint8Array<"u"?Uint8Array:Array,l=new o(i);l[0]=l[i-1]=1,wn(t,l,e,0,i-1);var v,A=[];for(v=0;v<i;v++)l[v]&&A.push(t[v]);return A}function wn(t,e,i,o,l){var v=0,A,B,j;for(B=o+1;B<=l-1;B++)j=Xe(t[B],t[o],t[l],!0),j>v&&(A=B,v=j);v>i&&(e[A]=1,wn(t,e,i,o,A),wn(t,e,i,A,l))}function va(t,e){for(var i=[t[0]],o=1,l=0,v=t.length;o<v;o++)ka(t[o],t[l])>e&&(i.push(t[o]),l=o);return l<v-1&&i.push(t[v-1]),i}var br;function xr(t,e,i,o,l){var v=o?br:pe(t,i),A=pe(e,i),B,j,$;for(br=A;;){if(!(v|A))return[t,e];if(v&A)return!1;B=v||A,j=gi(t,e,B,i,l),$=pe(j,i),B===v?(t=j,v=$):(e=j,A=$)}}function gi(t,e,i,o,l){var v=e.x-t.x,A=e.y-t.y,B=o.min,j=o.max,$,Q;return i&8?($=t.x+v*(j.y-t.y)/A,Q=j.y):i&4?($=t.x+v*(B.y-t.y)/A,Q=B.y):i&2?($=j.x,Q=t.y+A*(j.x-t.x)/v):i&1&&($=B.x,Q=t.y+A*(B.x-t.x)/v),new J($,Q,l)}function pe(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ka(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function Xe(t,e,i,o){var l=e.x,v=e.y,A=i.x-l,B=i.y-v,j=A*A+B*B,$;return j>0&&($=((t.x-l)*A+(t.y-v)*B)/j,$>1?(l=i.x,v=i.y):$>0&&(l+=A*$,v+=B*$)),A=t.x-l,B=t.y-v,o?A*A+B*B:new J(l,v)}function Zt(t){return!S(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Pr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(t)}function Tr(t,e){var i,o,l,v,A,B,j,$;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Q=nt([0,0]),rt=gt(t),ct=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());ct<1700&&(Q=gn(t));var Mt=t.length,Lt=[];for(i=0;i<Mt;i++){var Ut=nt(t[i]);Lt.push(e.project(nt([Ut.lat-Q.lat,Ut.lng-Q.lng])))}for(i=0,o=0;i<Mt-1;i++)o+=Lt[i].distanceTo(Lt[i+1])/2;if(o===0)$=Lt[0];else for(i=0,v=0;i<Mt-1;i++)if(A=Lt[i],B=Lt[i+1],l=A.distanceTo(B),v+=l,v>o){j=(v-o)/l,$=[B.x-j*(B.x-A.x),B.y-j*(B.y-A.y)];break}var Nt=e.unproject(tt($));return nt([Nt.lat+Q.lat,Nt.lng+Q.lng])}var ba={__proto__:null,simplify:vr,pointToSegmentDistance:kr,closestPointOnSegment:wa,clipSegment:xr,_getEdgeIntersection:gi,_getBitCode:pe,_sqClosestPointOnSegment:Xe,isFlat:Zt,_flat:Pr,polylineCenter:Tr},yn={project:function(t){return new J(t.lng,t.lat)},unproject:function(t){return new it(t.y,t.x)},bounds:new _t([-180,-90],[180,90])},vn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new _t([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,l=this.R_MINOR/i,v=Math.sqrt(1-l*l),A=v*Math.sin(o),B=Math.tan(Math.PI/4-o/2)/Math.pow((1-A)/(1+A),v/2);return o=-i*Math.log(Math.max(B,1e-10)),new J(t.lng*e*i,o)},unproject:function(t){for(var e=180/Math.PI,i=this.R,o=this.R_MINOR/i,l=Math.sqrt(1-o*o),v=Math.exp(-t.y/i),A=Math.PI/2-2*Math.atan(v),B=0,j=.1,$;B<15&&Math.abs(j)>1e-7;B++)$=l*Math.sin(A),$=Math.pow((1-$)/(1+$),l/2),j=Math.PI/2-2*Math.atan(v*$)-A,A+=j;return new it(A*e,t.x*e/i)}},xa={__proto__:null,LonLat:yn,Mercator:vn,SphericalMercator:Fe},Pa=a({},$t,{code:"EPSG:3395",projection:vn,transformation:function(){var t=.5/(Math.PI*vn.R);return ue(t,.5,-t,.5)}()}),Er=a({},$t,{code:"EPSG:4326",projection:yn,transformation:ue(1/180,1,-1/180,.5)}),Ta=a({},Rt,{projection:yn,transformation:ue(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});Rt.Earth=$t,Rt.EPSG3395=Pa,Rt.EPSG3857=ce,Rt.EPSG900913=Ki,Rt.EPSG4326=Er,Rt.Simple=Ta;var Dt=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[k(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[k(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=k(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=k(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return k(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?S(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[k(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=k(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var l=this._zoomBoundLayers[o].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),e=l.maxZoom===void 0?e:Math.max(e,l.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ee=Dt.extend({initialize:function(t,e){g(this,e),this._layers={};var i,o;if(t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,o;for(i in this._layers)o=this._layers[i],o[t]&&o[t].apply(o,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return k(t)}}),Ea=function(t,e){return new Ee(t,e)},Yt=Ee.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ee.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ee.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new mt;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Oa=function(t,e){return new Yt(t,e)},Oe=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){g(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];typeof o=="number"&&(o=[o,o]);var l=tt(o),v=tt(e==="shadow"&&i.shadowAnchor||i.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return et.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function La(t){return new Oe(t)}var Je=Oe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Je.imagePath!="string"&&(Je.imagePath=this._detectIconPath()),(this.options.imagePath||Je.imagePath)+Oe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,o,l){var v=o.exec(i);return v&&v[l]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=dt("div","leaflet-default-icon-path",document.body),e=qe(t,"background-image")||qe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Or=Gt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new re(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),at(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,v=he(e._icon),A=i.getPixelBounds(),B=i.getPixelOrigin(),j=Et(A.min._subtract(B).add(l),A.max._subtract(B).subtract(l));if(!j.contains(v)){var $=tt((Math.max(j.max.x,v.x)-j.max.x)/(A.max.x-j.max.x)-(Math.min(j.min.x,v.x)-j.min.x)/(A.min.x-j.min.x),(Math.max(j.max.y,v.y)-j.max.y)/(A.max.y-j.max.y)-(Math.min(j.min.y,v.y)-j.min.y)/(A.min.y-j.min.y)).multiplyBy(o);i.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Pt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=N(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=he(e._icon),l=e._map.layerPointToLatLng(o);i&&Pt(i,o),e._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),wi=Dt.extend({options:{icon:new Je,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){g(this,e),this._latlng=nt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),at(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(i,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),v=!1;l!==this._shadow&&(this._removeShadow(),v=!0),l&&(at(l,e),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pt(this._icon,t),this._shadow&&Pt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(at(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Or)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Or(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&jt(this._icon,t),this._shadow&&jt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?tt(e.iconSize):tt(0,0),o=e.iconAnchor?tt(e.iconAnchor):tt(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:i.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sa(t,e){return new wi(t,e)}var oe=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return g(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yi=oe.extend({options:{fill:!0,radius:10},initialize:function(t,e){g(this,e),this._latlng=nt(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return oe.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new _t(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ca(t,e){return new yi(t,e)}var kn=yi.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=a({},i,{radius:e})),g(this,e),this._latlng=nt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:oe.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===$t.distance){var l=Math.PI/180,v=this._mRadius/$t.R/l,A=i.project([e+v,t]),B=i.project([e-v,t]),j=A.add(B).divideBy(2),$=i.unproject(j).lat,Q=Math.acos((Math.cos(v*l)-Math.sin(e*l)*Math.sin($*l))/(Math.cos(e*l)*Math.cos($*l)))/l;(isNaN(Q)||Q===0)&&(Q=v/Math.cos(Math.PI/180*e)),this._point=j.subtract(i.getPixelOrigin()),this._radius=isNaN(Q)?0:j.x-i.project([$,t-Q]).x,this._radiusY=j.y-A.y}else{var rt=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(rt).x}this._updateBounds()}});function Aa(t,e,i){return new kn(t,e,i)}var Qt=oe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){g(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,o=Xe,l,v,A=0,B=this._parts.length;A<B;A++)for(var j=this._parts[A],$=1,Q=j.length;$<Q;$++){l=j[$-1],v=j[$];var rt=o(t,l,v,!0);rt<e&&(e=rt,i=o(t,l,v))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=nt(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new mt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Zt(t),o=0,l=t.length;o<l;o++)i?(e[o]=nt(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new _t;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new J(t,t);this._rawPxBounds&&(this._pxBounds=new _t([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var o=t[0]instanceof it,l=t.length,v,A;if(o){for(A=[],v=0;v<l;v++)A[v]=this._map.latLngToLayerPoint(t[v]),i.extend(A[v]);e.push(A)}else for(v=0;v<l;v++)this._projectLatlngs(t[v],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,o,l,v,A,B,j;for(i=0,l=0,v=this._rings.length;i<v;i++)for(j=this._rings[i],o=0,A=j.length;o<A-1;o++)B=xr(j[o],j[o+1],t,o,!0),B&&(e[l]=e[l]||[],e[l].push(B[0]),(B[1]!==j[o+1]||o===A-2)&&(e[l].push(B[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=vr(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,l,v,A,B,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,v=this._parts.length;i<v;i++)for(B=this._parts[i],o=0,A=B.length,l=A-1;o<A;l=o++)if(!(!e&&o===0)&&kr(t,B[l],B[o])<=j)return!0;return!1}});function Ma(t,e){return new Qt(t,e)}Qt._flat=Pr;var Le=Qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Qt.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof it&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Qt.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new J(e,e);if(t=new _t(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,l=this._rings.length,v;o<l;o++)v=wr(this._rings[o],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,o,l,v,A,B,j,$;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,j=this._parts.length;v<j;v++)for(i=this._parts[v],A=0,$=i.length,B=$-1;A<$;B=A++)o=i[A],l=i[B],o.y>t.y!=l.y>t.y&&t.x<(l.x-o.x)*(t.y-o.y)/(l.y-o.y)+o.x&&(e=!e);return e||Qt.prototype._containsPoint.call(this,t,!0)}});function Na(t,e){return new Le(t,e)}var te=Yt.extend({initialize:function(t,e){g(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=S(t)?t:t.features,i,o,l;if(e){for(i=0,o=e.length;i<o;i++)l=e[i],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var A=vi(t,v);return A?(A.feature=xi(t),A.defaultOptions=A.options,this.resetStyle(A),v.onEachFeature&&v.onEachFeature(t,A),this.addLayer(A)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function vi(t,e){var i=t.type==="Feature"?t.geometry:t,o=i?i.coordinates:null,l=[],v=e&&e.pointToLayer,A=e&&e.coordsToLatLng||bn,B,j,$,Q;if(!o&&!i)return null;switch(i.type){case"Point":return B=A(o),Lr(v,t,B,e);case"MultiPoint":for($=0,Q=o.length;$<Q;$++)B=A(o[$]),l.push(Lr(v,t,B,e));return new Yt(l);case"LineString":case"MultiLineString":return j=ki(o,i.type==="LineString"?0:1,A),new Qt(j,e);case"Polygon":case"MultiPolygon":return j=ki(o,i.type==="Polygon"?1:2,A),new Le(j,e);case"GeometryCollection":for($=0,Q=i.geometries.length;$<Q;$++){var rt=vi({geometry:i.geometries[$],type:"Feature",properties:t.properties},e);rt&&l.push(rt)}return new Yt(l);case"FeatureCollection":for($=0,Q=i.features.length;$<Q;$++){var ct=vi(i.features[$],e);ct&&l.push(ct)}return new Yt(l);default:throw new Error("Invalid GeoJSON object.")}}function Lr(t,e,i,o){return t?t(e,i):new wi(i,o&&o.markersInheritOptions&&o)}function bn(t){return new it(t[1],t[0],t[2])}function ki(t,e,i){for(var o=[],l=0,v=t.length,A;l<v;l++)A=e?ki(t[l],e-1,i):(i||bn)(t[l]),o.push(A);return o}function xn(t,e){return t=nt(t),t.alt!==void 0?[w(t.lng,e),w(t.lat,e),w(t.alt,e)]:[w(t.lng,e),w(t.lat,e)]}function bi(t,e,i,o){for(var l=[],v=0,A=t.length;v<A;v++)l.push(e?bi(t[v],Zt(t[v])?0:e-1,i,o):xn(t[v],o));return!e&&i&&l.length>0&&l.push(l[0].slice()),l}function Se(t,e){return t.feature?a({},t.feature,{geometry:e}):xi(e)}function xi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Pn={toGeoJSON:function(t){return Se(this,{type:"Point",coordinates:xn(this.getLatLng(),t)})}};wi.include(Pn),kn.include(Pn),yi.include(Pn),Qt.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),i=bi(this._latlngs,e?1:0,!1,t);return Se(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Le.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),i=e&&!Zt(this._latlngs[0]),o=bi(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),Se(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Ee.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Se(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",o=[];return this.eachLayer(function(l){if(l.toGeoJSON){var v=l.toGeoJSON(t);if(i)o.push(v.geometry);else{var A=xi(v);A.type==="FeatureCollection"?o.push.apply(o,A.features):o.push(A)}}}),i?Se(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function Sr(t,e){return new te(t,e)}var Ia=Sr,Pi=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=gt(e),g(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(at(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Te(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=gt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:dt("img");if(at(e,"leaflet-image-layer"),this._zoomAnimated&&at(e,"leaflet-zoom-animated"),this.options.className&&at(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;le(this._image,i,e)},_reset:function(){var t=this._image,e=new _t(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Pt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ba=function(t,e,i){return new Pi(t,e,i)},Cr=Pi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:dt("video");if(at(e,"leaflet-image-layer"),this._zoomAnimated&&at(e,"leaflet-zoom-animated"),this.options.className&&at(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=p(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],l=0;l<i.length;l++)o.push(i[l].src);this._url=i.length>0?o:[e.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var A=dt("source");A.src=this._url[v],e.appendChild(A)}}});function Fa(t,e,i){return new Cr(t,e,i)}var Ar=Pi.extend({_initImage:function(){var t=this._image=this._url;at(t,"leaflet-image-layer"),this._zoomAnimated&&at(t,"leaflet-zoom-animated"),this.options.className&&at(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Ra(t,e,i){return new Ar(t,e,i)}var Xt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof it||S(t))?(this._latlng=nt(t),g(this,e)):(g(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(p(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=nt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Te(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Yt){e=null;var i=this._source._layers;for(var o in i)if(i[o]._map){e=i[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=tt(this.options.offset),i=this._getAnchor();this._zoomAnimated?Pt(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(t,e,i,o){var l=e;return l instanceof t||(l=new t(o).setContent(e)),i&&l.setLatLng(i),l}}),Dt.include({_initOverlay:function(t,e,i,o){var l=i;return l instanceof t?(g(l,o),l._source=this):(l=e&&!o?e:new t(o,this),l.setContent(i)),l}});var Ti=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Xt.prototype.openOn.call(this,t)},onAdd:function(t){Xt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oe||this._source.on("preclick",fe))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oe||this._source.off("preclick",fe))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=dt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=dt("div",t+"-content-wrapper",e);if(this._contentNode=dt("div",t+"-content",i),We(e),dn(this._contentNode),ot(e,"contextmenu",fe),this._tipContainer=dt("div",t+"-tip-container",e),this._tip=dt("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=dt("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',ot(o,"click",function(l){St(l),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,l=this.options.maxHeight,v="leaflet-popup-scrolled";l&&o>l?(e.height=l+"px",at(t,v)):bt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Pt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(qe(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,l=new J(this._containerLeft,-i-this._containerBottom);l._add(he(this._container));var v=t.layerPointToContainerPoint(l),A=tt(this.options.autoPanPadding),B=tt(this.options.autoPanPaddingTopLeft||A),j=tt(this.options.autoPanPaddingBottomRight||A),$=t.getSize(),Q=0,rt=0;v.x+o+j.x>$.x&&(Q=v.x+o-$.x+j.x),v.x-Q-B.x<0&&(Q=v.x-B.x),v.y+i+j.y>$.y&&(rt=v.y+i-$.y+j.y),v.y-rt-B.y<0&&(rt=v.y-B.y),(Q||rt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Q,rt]))}},_getAnchor:function(){return tt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),za=function(t,e){return new Ti(t,e)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(t,e,i){return this._initOverlay(Ti,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Dt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ti,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){de(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof oe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ei=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Xt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,l=this._container,v=o.latLngToContainerPoint(o.getCenter()),A=o.layerPointToContainerPoint(t),B=this.options.direction,j=l.offsetWidth,$=l.offsetHeight,Q=tt(this.options.offset),rt=this._getAnchor();B==="top"?(e=j/2,i=$):B==="bottom"?(e=j/2,i=0):B==="center"?(e=j/2,i=$/2):B==="right"?(e=0,i=$/2):B==="left"?(e=j,i=$/2):A.x<v.x?(B="right",e=0,i=$/2):(B="left",e=j+(Q.x+rt.x)*2,i=$/2),t=t.subtract(tt(e,i,!0)).add(Q).add(rt),bt(l,"leaflet-tooltip-right"),bt(l,"leaflet-tooltip-left"),bt(l,"leaflet-tooltip-top"),bt(l,"leaflet-tooltip-bottom"),at(l,"leaflet-tooltip-"+B),Pt(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&jt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return tt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ja=function(t,e){return new Ei(t,e)};ht.include({openTooltip:function(t,e,i){return this._initOverlay(Ei,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Dt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ei,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(ot(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ot(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,o;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(e)}});var Mr=Oe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(fi(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var o=tt(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Za(t){return new Mr(t)}Oe.Default=Je;var Ke=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){g(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),kt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Te(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof J?t:new J(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),o=0,l=e.length,v;o<l;o++)v=e[o].style.zIndex,e[o]!==this._container&&v&&(i=t(i,+v));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et.ielt9){jt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var l=this._tiles[o];if(!(!l.current||!l.loaded)){var v=Math.min(1,(t-l.loaded)/200);jt(l.el,v),v<1?e=!0:(l.active?i=!0:this._onOpaqueTile(l),l.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(X(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(kt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],l=this._map;return o||(o=this._levels[t]={},o.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,l.getCenter(),l.getZoom()),u(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)kt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var l=Math.floor(t/2),v=Math.floor(e/2),A=i-1,B=new J(+l,+v);B.z=+A;var j=this._tileCoordsToKey(B),$=this._tiles[j];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),A>o?this._retainParent(l,v,A,o):!1)},_retainChildren:function(t,e,i,o){for(var l=2*t;l<2*t+2;l++)for(var v=2*e;v<2*e+2;v++){var A=new J(l,v);A.z=i+1;var B=this._tileCoordsToKey(A),j=this._tiles[B];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);i+1<o&&this._retainChildren(l,v,i+1,o)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var l=Math.round(e);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var v=this.options.updateWhenZooming&&l!==this._tileZoom;(!o||v)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),l=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();et.any3d?le(t.el,l,o):Pt(t.el,l)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),l=e.project(t,this._tileZoom).floor(),v=e.getSize().divideBy(o*2);return new _t(l.subtract(v),l.add(v))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(o),v=l.getCenter(),A=[],B=this.options.keepBuffer,j=new _t(l.getBottomLeft().subtract([B,-B]),l.getTopRight().add([B,-B]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var Q=this._tiles[$].coords;(Q.z!==this._tileZoom||!j.contains(new J(Q.x,Q.y)))&&(this._tiles[$].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var rt=l.min.y;rt<=l.max.y;rt++)for(var ct=l.min.x;ct<=l.max.x;ct++){var Mt=new J(ct,rt);if(Mt.z=this._tileZoom,!!this._isValidTile(Mt)){var Lt=this._tiles[this._tileCoordsToKey(Mt)];Lt?Lt.current=!0:A.push(Mt)}}if(A.sort(function(Nt,Ae){return Nt.distanceTo(v)-Ae.distanceTo(v)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ut=document.createDocumentFragment();for(ct=0;ct<A.length;ct++)this._addTile(A[ct],Ut);this._level.el.appendChild(Ut)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return gt(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),l=o.add(i),v=e.unproject(o,t.z),A=e.unproject(l,t.z);return[v,A]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new mt(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new J(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(kt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){at(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,et.ielt9&&this.options.opacity<1&&jt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&N(p(this._tileReady,this,t,null,l)),Pt(l,i),this._tiles[o]={el:l,coords:t,current:!0},e.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);i=this._tiles[o],i&&(i.loaded=+new Date,this._map._fadeAnimated?(jt(i.el,0),X(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(at(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new J(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new _t(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ua(t){return new Ke(t)}var Ce=Ke.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=g(this,e),e.detectRetina&&et.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ot(i,"load",p(this._tileOnLoad,this,e,i)),ot(i,"error",p(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:et.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return P(this._url,a(e,this.options))},_tileOnLoad:function(t,e){et.ielt9?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,o=this.options.zoomOffset;return i&&(t=e-t),t+o},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=u,e.onerror=u,!e.complete)){e.src=U;var i=this._tiles[t].coords;kt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",U),Ke.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===U))return Ke.prototype._tileReady.call(this,t,e,i)}});function Nr(t,e){return new Ce(t,e)}var Ir=Ce.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=a({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);e=g(this,e);var l=e.detectRetina&&et.retina?2:1,v=this.getTileSize();i.width=v.x*l,i.height=v.y*l,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ce.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=Et(i.project(e[0]),i.project(e[1])),l=o.min,v=o.max,A=(this._wmsVersion>=1.3&&this._crs===Er?[l.y,l.x,v.y,v.x]:[l.x,l.y,v.x,v.y]).join(","),B=Ce.prototype.getTileUrl.call(this,t);return B+E(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(t,e){return a(this.wmsParams,t),e||this.redraw(),this}});function $a(t,e){return new Ir(t,e)}Ce.WMS=Ir,Nr.wms=$a;var ee=Dt.extend({options:{padding:.1},initialize:function(t){g(this,t),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),at(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,e),v=o.multiplyBy(-i).add(l).subtract(this._map._getNewPixelOrigin(t,e));et.any3d?le(this._container,v,i):Pt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new _t(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Br=ee.extend({options:{tolerance:0},getEvents:function(){var t=ee.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ee.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ot(t,"mousemove",this._onMouseMove,this),ot(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,kt(this._container),yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ee.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=et.retina?2:1;Pt(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",et.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ee.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[k(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[k(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],o,l;for(l=0;l<e.length;l++){if(o=Number(e[l]),isNaN(o))return;i.push(o)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _t,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,l,v,A=t._parts,B=A.length,j=this._ctx;if(B){for(j.beginPath(),i=0;i<B;i++){for(o=0,l=A[i].length;o<l;o++)v=A[i][o],j[o?"lineTo":"moveTo"](v.x,v.y);e&&j.closePath()}this._fillStroke(j,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||o)/o;l!==1&&(i.save(),i.scale(1,l)),i.beginPath(),i.arc(e.x,e.y/l,o,0,Math.PI*2,!1),l!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,o,l=this._drawFirst;l;l=l.next)i=l.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(o=i);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(bt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,l=this._drawFirst;l;l=l.next)i=l.layer,i.options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(at(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(i)i.prev=o;else return;o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(o)o.next=i;else return;i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Fr(t){return et.canvas?new Br(t):null}var Ye=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qa={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ee.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ye("shape");at(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ye("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;kt(e),t.removeInteractiveTarget(e),delete this._layers[k(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,l=t._container;l.stroked=!!o.stroke,l.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Ye("stroke")),l.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=S(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(l.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=Ye("fill")),l.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(l.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Pe(t._container)},_bringToBack:function(t){Te(t._container)}},Oi=et.vml?Ye:li,Qe=ee.extend({_initContainer:function(){this._container=Oi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ee.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Pt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Oi("path");t.options.className&&at(e,t.options.className),t.options.interactive&&at(e,"leaflet-interactive"),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){kt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[k(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,ze(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||i,l="a"+i+","+o+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+l+i*2+",0 "+l+-i*2+",0 ";this._setPath(t,v)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Pe(t._path)},_bringToBack:function(t){Te(t._path)}});et.vml&&Qe.include(qa);function Rr(t){return et.svg||et.vml?new Qe(t):null}ht.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Fr(t)||Rr(t)}});var zr=Le.extend({initialize:function(t,e){Le.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=gt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Da(t,e){return new zr(t,e)}Qe.create=Oi,Qe.pointsToPath=ze,te.geometryToLayer=vi,te.coordsToLatLng=bn,te.coordsToLatLngs=ki,te.latLngToCoords=xn,te.latLngsToCoords=bi,te.getFeature=Se,te.asFeature=xi,ht.mergeOptions({boxZoom:!0});var jr=Gt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),on(),this._startPoint=this._map.mouseEventToContainerPoint(t),ot(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),at(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new _t(this._point,this._startPoint),i=e.getSize();Pt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(kt(this._box),bt(this._container,"leaflet-crosshair")),He(),sn(),yt(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var e=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",jr),ht.mergeOptions({doubleClickZoom:!0});var Zr=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,l=t.originalEvent.shiftKey?i-o:i+o;e.options.doubleClickZoom==="center"?e.setZoom(l):e.setZoomAround(t.containerPoint,l)}});ht.addInitHook("addHandler","doubleClickZoom",Zr),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ur=Gt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new re(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}at(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=gt(this._map.options.maxBounds);this._offsetLimit=Et(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,l=(o-e+i)%t+e-i,v=(o+e+i)%t-e-i,A=Math.abs(l+i)<Math.abs(v+i)?l:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,A=i.easeLinearity,B=l.multiplyBy(A/v),j=B.distanceTo([0,0]),$=Math.min(i.inertiaMaxSpeed,j),Q=B.multiplyBy($/j),rt=$/(i.inertiaDeceleration*A),ct=Q.multiplyBy(-rt/2).round();!ct.x&&!ct.y?e.fire("moveend"):(ct=e._limitOffset(ct,e.options.maxBounds),N(function(){e.panBy(ct,{duration:rt,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Ur),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $r=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ot(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,o,l;for(o=0,l=i.left.length;o<l;o++)e[i.left[o]]=[-1*t,0];for(o=0,l=i.right.length;o<l;o++)e[i.right[o]]=[t,0];for(o=0,l=i.down.length;o<l;o++)e[i.down[o]]=[0,t];for(o=0,l=i.up.length;o<l;o++)e[i.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,o,l;for(o=0,l=i.zoomIn.length;o<l;o++)e[i.zoomIn[o]]=t;for(o=0,l=i.zoomOut.length;o<l;o++)e[i.zoomOut[o]]=-t},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,o;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(o=this._panKeys[e],t.shiftKey&&(o=tt(o).multiplyBy(3)),i.options.maxBounds&&(o=i._limitOffset(tt(o),i.options.maxBounds)),i.options.worldCopyJump){var l=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(o)));i.panTo(l)}else i.panBy(o)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;de(t)}}});ht.addInitHook("addHandler","keyboard",$r),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qr=Gt.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=dr(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),o),de(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,v=i?Math.ceil(l/i)*i:l,A=t._limitZoom(e+(this._delta>0?v:-v))-e;this._delta=0,this._startTime=null,A&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+A):t.setZoomAround(this._lastMousePos,e+A))}});ht.addInitHook("addHandler","scrollWheelZoom",qr);var Ha=600;ht.mergeOptions({tapHold:et.touchNative&&et.safari&&et.mobile,tapTolerance:15});var Dr=Gt.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new J(e.clientX,e.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",St),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Ha),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){yt(document,"touchend",St),yt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new J(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});ht.addInitHook("addHandler","tapHold",Dr),ht.mergeOptions({touchZoom:et.touch,bounceAtZoomLimits:!0});var Hr=Gt.extend({addHooks:function(){at(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),St(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),l=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(l,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&l<1||this._zoom>e.getMaxZoom()&&l>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var v=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(l===1&&v.x===0&&v.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var A=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(A,this,!0),St(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Hr),ht.BoxZoom=jr,ht.DoubleClickZoom=Zr,ht.Drag=Ur,ht.Keyboard=$r,ht.ScrollWheelZoom=qr,ht.TapHold=Dr,ht.TouchZoom=Hr,r.Bounds=_t,r.Browser=et,r.CRS=Rt,r.Canvas=Br,r.Circle=kn,r.CircleMarker=yi,r.Class=D,r.Control=qt,r.DivIcon=Mr,r.DivOverlay=Xt,r.DomEvent=ca,r.DomUtil=aa,r.Draggable=re,r.Evented=G,r.FeatureGroup=Yt,r.GeoJSON=te,r.GridLayer=Ke,r.Handler=Gt,r.Icon=Oe,r.ImageOverlay=Pi,r.LatLng=it,r.LatLngBounds=mt,r.Layer=Dt,r.LayerGroup=Ee,r.LineUtil=ba,r.Map=ht,r.Marker=wi,r.Mixin=_a,r.Path=oe,r.Point=J,r.PolyUtil=ga,r.Polygon=Le,r.Polyline=Qt,r.Popup=Ti,r.PosAnimation=pr,r.Projection=xa,r.Rectangle=zr,r.Renderer=ee,r.SVG=Qe,r.SVGOverlay=Ar,r.TileLayer=Ce,r.Tooltip=Ei,r.Transformation=Re,r.Util=K,r.VideoOverlay=Cr,r.bind=p,r.bounds=Et,r.canvas=Fr,r.circle=Aa,r.circleMarker=Ca,r.control=Ge,r.divIcon=Za,r.extend=a,r.featureGroup=Oa,r.geoJSON=Sr,r.geoJson=Ia,r.gridLayer=Ua,r.icon=La,r.imageOverlay=Ba,r.latLng=nt,r.latLngBounds=gt,r.layerGroup=Ea,r.map=la,r.marker=Sa,r.point=tt,r.polygon=Na,r.polyline=Ma,r.popup=za,r.rectangle=Da,r.setOptions=g,r.stamp=k,r.svg=Rr,r.svgOverlay=Ra,r.tileLayer=Nr,r.tooltip=ja,r.transformation=ue,r.version=c,r.videoOverlay=Fa;var Va=window.L;r.noConflict=function(){return window.L=Va,this},window.L=r})}(ei,ei.exports)),ei.exports}var Zn=au();const uu={ref:"leaflet-map",class:"map"},cu=ve({__name:"VMap",props:{center:{}},setup(n){const s=n,r=ji(),c=eu("leaflet-map");return iu("map",r),Zi(()=>{if(!c.value)throw new Error("Map reference is not available");r.value=Zn.map(c.value),s.center&&r.value.setView(s.center,11.5)}),(a,m)=>(se(),Ii("div",uu,[oi(a.$slots,"default",{},void 0,!0)],512))}}),lu=wo(cu,[["__scopeId","data-v-0aecacf3"]]);function bo(){const n=nu("map");if(!n)throw new Error("useMapInstance() must be used inside <Map>");return n}const hu=ve({__name:"TileLayer",props:{urlTemplate:{type:String,required:!0},attribution:{type:String,required:!0}},setup(n){const s=bo(),r=n;return yo(s,()=>{s.value&&Zn.tileLayer(r.urlTemplate,{attribution:r.attribution}).addTo(s.value)},{immediate:!0}),(c,a)=>oi(c.$slots,"default")}}),fu=ve({__name:"OsmTileLayer",setup(n){return(s,r)=>(se(),Ui(hu,{"url-template":"https://tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}))}}),Kr=()=>{let n,s;const r=new Promise((c,a)=>{n=c,s=a});return{resolve:n,reject:s,value:r}},du=(n,s)=>{var k;const r=n.name??`batcher:${Math.random().toString(16).slice(2)})`,c=n.scheduler??pu(10),a=(k=globalThis.__BATSHIT_DEVTOOLS__)==null?void 0:k.for(r);let m={seq:0,batch:new Set,currentRequest:Kr(),timer:void 0,start:null,latest:null};a==null||a.create({seq:m.seq});const p=()=>{m.batch=new Set,m.currentRequest=Kr(),m.timer=void 0,m.start=null,m.latest=null};return{fetch:x=>{m.start||(m.start=Date.now()),m.latest=Date.now(),m.batch.add(x),clearTimeout(m.timer);const _=c(m.start,m.latest,m.batch.size);a==null||a.queue({seq:m.seq,query:x,batch:[...m.batch],scheduled:_,latest:m.latest,start:m.start});const u=()=>{const w=m.seq,y=n.fetcher([...m.batch]),f=m.currentRequest;return a==null||a.fetch({seq:w,batch:[...m.batch]}),p(),y.then(g=>{a==null||a.data({seq:w,data:g}),f.resolve(g)}).catch(g=>{a==null||a.error({seq:w,error:g}),f.reject(g)}),m.seq++,y};if(_==="immediate"){const w=m.currentRequest;return u(),w.value.then(y=>n.resolver(y,x))}else return _==="never"?m.currentRequest.value.then(w=>n.resolver(w,x)):(m.timer=setTimeout(u,_),m.currentRequest.value.then(w=>n.resolver(w,x)))}}},pu=n=>(s,r)=>{const c=r-s;return n-c},mu=({windowMs:n,maxBatchSize:s})=>(r,c,a)=>{if(a>=s)return"immediate";const m=c-r;return n-m};function Si(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var En={exports:{}},Yr;function _u(){return Yr||(Yr=1,function(n,s){(function(r){n.exports=r()})(function(){return function(){function r(c,a,m){function p(x,_){if(!a[x]){if(!c[x]){var u=typeof Si=="function"&&Si;if(!_&&u)return u(x,!0);if(b)return b(x,!0);var w=new Error("Cannot find module '"+x+"'");throw w.code="MODULE_NOT_FOUND",w}var y=a[x]={exports:{}};c[x][0].call(y.exports,function(f){var g=c[x][1][f];return p(g||f)},y,y.exports,r,c,a,m)}return a[x].exports}for(var b=typeof Si=="function"&&Si,k=0;k<m.length;k++)p(m[k]);return p}return r}()({1:[function(r,c,a){a.byteLength=w,a.toByteArray=f,a.fromByteArray=C;for(var m=[],p=[],b=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,_=k.length;x<_;++x)m[x]=k[x],p[k.charCodeAt(x)]=x;p[45]=62,p[95]=63;function u(P){var S=P.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=P.indexOf("=");I===-1&&(I=S);var U=I===S?0:4-I%4;return[I,U]}function w(P){var S=u(P),I=S[0],U=S[1];return(I+U)*3/4-U}function y(P,S,I){return(S+I)*3/4-I}function f(P){var S,I=u(P),U=I[0],M=I[1],F=new b(y(P,U,M)),H=0,z=M>0?U-4:U,q;for(q=0;q<z;q+=4)S=p[P.charCodeAt(q)]<<18|p[P.charCodeAt(q+1)]<<12|p[P.charCodeAt(q+2)]<<6|p[P.charCodeAt(q+3)],F[H++]=S>>16&255,F[H++]=S>>8&255,F[H++]=S&255;return M===2&&(S=p[P.charCodeAt(q)]<<2|p[P.charCodeAt(q+1)]>>4,F[H++]=S&255),M===1&&(S=p[P.charCodeAt(q)]<<10|p[P.charCodeAt(q+1)]<<4|p[P.charCodeAt(q+2)]>>2,F[H++]=S>>8&255,F[H++]=S&255),F}function g(P){return m[P>>18&63]+m[P>>12&63]+m[P>>6&63]+m[P&63]}function E(P,S,I){for(var U,M=[],F=S;F<I;F+=3)U=(P[F]<<16&16711680)+(P[F+1]<<8&65280)+(P[F+2]&255),M.push(g(U));return M.join("")}function C(P){for(var S,I=P.length,U=I%3,M=[],F=16383,H=0,z=I-U;H<z;H+=F)M.push(E(P,H,H+F>z?z:H+F));return U===1?(S=P[I-1],M.push(m[S>>2]+m[S<<4&63]+"==")):U===2&&(S=(P[I-2]<<8)+P[I-1],M.push(m[S>>10]+m[S>>4&63]+m[S<<2&63]+"=")),M.join("")}},{}],2:[function(r,c,a){(function(m){(function(){var p=r("base64-js"),b=r("ieee754");a.Buffer=u,a.SlowBuffer=U,a.INSPECT_MAX_BYTES=50;var k=2147483647;a.kMaxLength=k,u.TYPED_ARRAY_SUPPORT=x(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var T=new Uint8Array(1);return T.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},T.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function _(T){if(T>k)throw new RangeError('The value "'+T+'" is invalid for option "size"');var h=new Uint8Array(T);return h.__proto__=u.prototype,h}function u(T,h,d){if(typeof T=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(T)}return w(T,h,d)}typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192;function w(T,h,d){if(typeof T=="string")return E(T,h);if(ArrayBuffer.isView(T))return C(T);if(T==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(zt(T,ArrayBuffer)||T&&zt(T.buffer,ArrayBuffer))return P(T,h,d);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=T.valueOf&&T.valueOf();if(O!=null&&O!==T)return u.from(O,h,d);var R=S(T);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return u.from(T[Symbol.toPrimitive]("string"),h,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}u.from=function(T,h,d){return w(T,h,d)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array;function y(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function f(T,h,d){return y(T),T<=0?_(T):h!==void 0?typeof d=="string"?_(T).fill(h,d):_(T).fill(h):_(T)}u.alloc=function(T,h,d){return f(T,h,d)};function g(T){return y(T),_(T<0?0:I(T)|0)}u.allocUnsafe=function(T){return g(T)},u.allocUnsafeSlow=function(T){return g(T)};function E(T,h){if((typeof h!="string"||h==="")&&(h="utf8"),!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var d=M(T,h)|0,O=_(d),R=O.write(T,h);return R!==d&&(O=O.slice(0,R)),O}function C(T){for(var h=T.length<0?0:I(T.length)|0,d=_(h),O=0;O<h;O+=1)d[O]=T[O]&255;return d}function P(T,h,d){if(h<0||T.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<h+(d||0))throw new RangeError('"length" is outside of buffer bounds');var O;return h===void 0&&d===void 0?O=new Uint8Array(T):d===void 0?O=new Uint8Array(T,h):O=new Uint8Array(T,h,d),O.__proto__=u.prototype,O}function S(T){if(u.isBuffer(T)){var h=I(T.length)|0,d=_(h);return d.length===0||T.copy(d,0,0,h),d}if(T.length!==void 0)return typeof T.length!="number"||je(T.length)?_(0):C(T);if(T.type==="Buffer"&&Array.isArray(T.data))return C(T.data)}function I(T){if(T>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return T|0}function U(T){return+T!=T&&(T=0),u.alloc(+T)}u.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==u.prototype},u.compare=function(h,d){if(zt(h,Uint8Array)&&(h=u.from(h,h.offset,h.byteLength)),zt(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(h)||!u.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===d)return 0;for(var O=h.length,R=d.length,V=0,W=Math.min(O,R);V<W;++V)if(h[V]!==d[V]){O=h[V],R=d[V];break}return O<R?-1:R<O?1:0},u.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(h,d){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return u.alloc(0);var O;if(d===void 0)for(d=0,O=0;O<h.length;++O)d+=h[O].length;var R=u.allocUnsafe(d),V=0;for(O=0;O<h.length;++O){var W=h[O];if(zt(W,Uint8Array)&&(W=u.from(W)),!u.isBuffer(W))throw new TypeError('"list" argument must be an Array of Buffers');W.copy(R,V),V+=W.length}return R};function M(T,h){if(u.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||zt(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var d=T.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&d===0)return 0;for(var R=!1;;)switch(h){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return ce(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return ze(T).length;default:if(R)return O?-1:ce(T).length;h=(""+h).toLowerCase(),R=!0}}u.byteLength=M;function F(T,h,d){var O=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,h>>>=0,d<=h))return"";for(T||(T="utf8");;)switch(T){case"hex":return mt(this,h,d);case"utf8":case"utf-8":return J(this,h,d);case"ascii":return _t(this,h,d);case"latin1":case"binary":return Et(this,h,d);case"base64":return G(this,h,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,h,d);default:if(O)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),O=!0}}u.prototype._isBuffer=!0;function H(T,h,d){var O=T[h];T[h]=T[d],T[d]=O}u.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<h;d+=2)H(this,d,d+1);return this},u.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<h;d+=4)H(this,d,d+3),H(this,d+1,d+2);return this},u.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<h;d+=8)H(this,d,d+7),H(this,d+1,d+6),H(this,d+2,d+5),H(this,d+3,d+4);return this},u.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?J(this,0,h):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(h){if(!u.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:u.compare(this,h)===0},u.prototype.inspect=function(){var h="",d=a.INSPECT_MAX_BYTES;return h=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(h+=" ... "),"<Buffer "+h+">"},u.prototype.compare=function(h,d,O,R,V){if(zt(h,Uint8Array)&&(h=u.from(h,h.offset,h.byteLength)),!u.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(d===void 0&&(d=0),O===void 0&&(O=h?h.length:0),R===void 0&&(R=0),V===void 0&&(V=this.length),d<0||O>h.length||R<0||V>this.length)throw new RangeError("out of range index");if(R>=V&&d>=O)return 0;if(R>=V)return-1;if(d>=O)return 1;if(d>>>=0,O>>>=0,R>>>=0,V>>>=0,this===h)return 0;for(var W=V-R,lt=O-d,pt=Math.min(W,lt),wt=this.slice(R,V),Ot=h.slice(d,O),vt=0;vt<pt;++vt)if(wt[vt]!==Ot[vt]){W=wt[vt],lt=Ot[vt];break}return W<lt?-1:lt<W?1:0};function z(T,h,d,O,R){if(T.length===0)return-1;if(typeof d=="string"?(O=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,je(d)&&(d=R?0:T.length-1),d<0&&(d=T.length+d),d>=T.length){if(R)return-1;d=T.length-1}else if(d<0)if(R)d=0;else return-1;if(typeof h=="string"&&(h=u.from(h,O)),u.isBuffer(h))return h.length===0?-1:q(T,h,d,O,R);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(T,h,d):Uint8Array.prototype.lastIndexOf.call(T,h,d):q(T,[h],d,O,R);throw new TypeError("val must be string, number or Buffer")}function q(T,h,d,O,R){var V=1,W=T.length,lt=h.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(T.length<2||h.length<2)return-1;V=2,W/=2,lt/=2,d/=2}function pt(Ze,be){return V===1?Ze[be]:Ze.readUInt16BE(be*V)}var wt;if(R){var Ot=-1;for(wt=d;wt<W;wt++)if(pt(T,wt)===pt(h,Ot===-1?0:wt-Ot)){if(Ot===-1&&(Ot=wt),wt-Ot+1===lt)return Ot*V}else Ot!==-1&&(wt-=wt-Ot),Ot=-1}else for(d+lt>W&&(d=W-lt),wt=d;wt>=0;wt--){for(var vt=!0,ke=0;ke<lt;ke++)if(pt(T,wt+ke)!==pt(h,ke)){vt=!1;break}if(vt)return wt}return-1}u.prototype.includes=function(h,d,O){return this.indexOf(h,d,O)!==-1},u.prototype.indexOf=function(h,d,O){return z(this,h,d,O,!0)},u.prototype.lastIndexOf=function(h,d,O){return z(this,h,d,O,!1)};function N(T,h,d,O){d=Number(d)||0;var R=T.length-d;O?(O=Number(O),O>R&&(O=R)):O=R;var V=h.length;O>V/2&&(O=V/2);for(var W=0;W<O;++W){var lt=parseInt(h.substr(W*2,2),16);if(je(lt))return W;T[d+W]=lt}return W}function X(T,h,d,O){return ne(ce(h,T.length-d),T,d,O)}function K(T,h,d,O){return ne(Ki(h),T,d,O)}function D(T,h,d,O){return K(T,h,d,O)}function ft(T,h,d,O){return ne(ze(h),T,d,O)}function Y(T,h,d,O){return ne(li(h,T.length-d),T,d,O)}u.prototype.write=function(h,d,O,R){if(d===void 0)R="utf8",O=this.length,d=0;else if(O===void 0&&typeof d=="string")R=d,O=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(O)?(O=O>>>0,R===void 0&&(R="utf8")):(R=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-d;if((O===void 0||O>V)&&(O=V),h.length>0&&(O<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");for(var W=!1;;)switch(R){case"hex":return N(this,h,d,O);case"utf8":case"utf-8":return X(this,h,d,O);case"ascii":return K(this,h,d,O);case"latin1":case"binary":return D(this,h,d,O);case"base64":return ft(this,h,d,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,h,d,O);default:if(W)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),W=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(T,h,d){return h===0&&d===T.length?p.fromByteArray(T):p.fromByteArray(T.slice(h,d))}function J(T,h,d){d=Math.min(T.length,d);for(var O=[],R=h;R<d;){var V=T[R],W=null,lt=V>239?4:V>223?3:V>191?2:1;if(R+lt<=d){var pt,wt,Ot,vt;switch(lt){case 1:V<128&&(W=V);break;case 2:pt=T[R+1],(pt&192)===128&&(vt=(V&31)<<6|pt&63,vt>127&&(W=vt));break;case 3:pt=T[R+1],wt=T[R+2],(pt&192)===128&&(wt&192)===128&&(vt=(V&15)<<12|(pt&63)<<6|wt&63,vt>2047&&(vt<55296||vt>57343)&&(W=vt));break;case 4:pt=T[R+1],wt=T[R+2],Ot=T[R+3],(pt&192)===128&&(wt&192)===128&&(Ot&192)===128&&(vt=(V&15)<<18|(pt&63)<<12|(wt&63)<<6|Ot&63,vt>65535&&vt<1114112&&(W=vt))}}W===null?(W=65533,lt=1):W>65535&&(W-=65536,O.push(W>>>10&1023|55296),W=56320|W&1023),O.push(W),R+=lt}return tt(O)}var ut=4096;function tt(T){var h=T.length;if(h<=ut)return String.fromCharCode.apply(String,T);for(var d="",O=0;O<h;)d+=String.fromCharCode.apply(String,T.slice(O,O+=ut));return d}function _t(T,h,d){var O="";d=Math.min(T.length,d);for(var R=h;R<d;++R)O+=String.fromCharCode(T[R]&127);return O}function Et(T,h,d){var O="";d=Math.min(T.length,d);for(var R=h;R<d;++R)O+=String.fromCharCode(T[R]);return O}function mt(T,h,d){var O=T.length;(!h||h<0)&&(h=0),(!d||d<0||d>O)&&(d=O);for(var R="",V=h;V<d;++V)R+=ue(T[V]);return R}function gt(T,h,d){for(var O=T.slice(h,d),R="",V=0;V<O.length;V+=2)R+=String.fromCharCode(O[V]+O[V+1]*256);return R}u.prototype.slice=function(h,d){var O=this.length;h=~~h,d=d===void 0?O:~~d,h<0?(h+=O,h<0&&(h=0)):h>O&&(h=O),d<0?(d+=O,d<0&&(d=0)):d>O&&(d=O),d<h&&(d=h);var R=this.subarray(h,d);return R.__proto__=u.prototype,R};function it(T,h,d){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+h>d)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(h,d,O){h=h>>>0,d=d>>>0,O||it(h,d,this.length);for(var R=this[h],V=1,W=0;++W<d&&(V*=256);)R+=this[h+W]*V;return R},u.prototype.readUIntBE=function(h,d,O){h=h>>>0,d=d>>>0,O||it(h,d,this.length);for(var R=this[h+--d],V=1;d>0&&(V*=256);)R+=this[h+--d]*V;return R},u.prototype.readUInt8=function(h,d){return h=h>>>0,d||it(h,1,this.length),this[h]},u.prototype.readUInt16LE=function(h,d){return h=h>>>0,d||it(h,2,this.length),this[h]|this[h+1]<<8},u.prototype.readUInt16BE=function(h,d){return h=h>>>0,d||it(h,2,this.length),this[h]<<8|this[h+1]},u.prototype.readUInt32LE=function(h,d){return h=h>>>0,d||it(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},u.prototype.readUInt32BE=function(h,d){return h=h>>>0,d||it(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},u.prototype.readIntLE=function(h,d,O){h=h>>>0,d=d>>>0,O||it(h,d,this.length);for(var R=this[h],V=1,W=0;++W<d&&(V*=256);)R+=this[h+W]*V;return V*=128,R>=V&&(R-=Math.pow(2,8*d)),R},u.prototype.readIntBE=function(h,d,O){h=h>>>0,d=d>>>0,O||it(h,d,this.length);for(var R=d,V=1,W=this[h+--R];R>0&&(V*=256);)W+=this[h+--R]*V;return V*=128,W>=V&&(W-=Math.pow(2,8*d)),W},u.prototype.readInt8=function(h,d){return h=h>>>0,d||it(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},u.prototype.readInt16LE=function(h,d){h=h>>>0,d||it(h,2,this.length);var O=this[h]|this[h+1]<<8;return O&32768?O|4294901760:O},u.prototype.readInt16BE=function(h,d){h=h>>>0,d||it(h,2,this.length);var O=this[h+1]|this[h]<<8;return O&32768?O|4294901760:O},u.prototype.readInt32LE=function(h,d){return h=h>>>0,d||it(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},u.prototype.readInt32BE=function(h,d){return h=h>>>0,d||it(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},u.prototype.readFloatLE=function(h,d){return h=h>>>0,d||it(h,4,this.length),b.read(this,h,!0,23,4)},u.prototype.readFloatBE=function(h,d){return h=h>>>0,d||it(h,4,this.length),b.read(this,h,!1,23,4)},u.prototype.readDoubleLE=function(h,d){return h=h>>>0,d||it(h,8,this.length),b.read(this,h,!0,52,8)},u.prototype.readDoubleBE=function(h,d){return h=h>>>0,d||it(h,8,this.length),b.read(this,h,!1,52,8)};function nt(T,h,d,O,R,V){if(!u.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>R||h<V)throw new RangeError('"value" argument is out of bounds');if(d+O>T.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(h,d,O,R){if(h=+h,d=d>>>0,O=O>>>0,!R){var V=Math.pow(2,8*O)-1;nt(this,h,d,O,V,0)}var W=1,lt=0;for(this[d]=h&255;++lt<O&&(W*=256);)this[d+lt]=h/W&255;return d+O},u.prototype.writeUIntBE=function(h,d,O,R){if(h=+h,d=d>>>0,O=O>>>0,!R){var V=Math.pow(2,8*O)-1;nt(this,h,d,O,V,0)}var W=O-1,lt=1;for(this[d+W]=h&255;--W>=0&&(lt*=256);)this[d+W]=h/lt&255;return d+O},u.prototype.writeUInt8=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,1,255,0),this[d]=h&255,d+1},u.prototype.writeUInt16LE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,2,65535,0),this[d]=h&255,this[d+1]=h>>>8,d+2},u.prototype.writeUInt16BE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,2,65535,0),this[d]=h>>>8,this[d+1]=h&255,d+2},u.prototype.writeUInt32LE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,4,4294967295,0),this[d+3]=h>>>24,this[d+2]=h>>>16,this[d+1]=h>>>8,this[d]=h&255,d+4},u.prototype.writeUInt32BE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,4,4294967295,0),this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255,d+4},u.prototype.writeIntLE=function(h,d,O,R){if(h=+h,d=d>>>0,!R){var V=Math.pow(2,8*O-1);nt(this,h,d,O,V-1,-V)}var W=0,lt=1,pt=0;for(this[d]=h&255;++W<O&&(lt*=256);)h<0&&pt===0&&this[d+W-1]!==0&&(pt=1),this[d+W]=(h/lt>>0)-pt&255;return d+O},u.prototype.writeIntBE=function(h,d,O,R){if(h=+h,d=d>>>0,!R){var V=Math.pow(2,8*O-1);nt(this,h,d,O,V-1,-V)}var W=O-1,lt=1,pt=0;for(this[d+W]=h&255;--W>=0&&(lt*=256);)h<0&&pt===0&&this[d+W+1]!==0&&(pt=1),this[d+W]=(h/lt>>0)-pt&255;return d+O},u.prototype.writeInt8=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,1,127,-128),h<0&&(h=255+h+1),this[d]=h&255,d+1},u.prototype.writeInt16LE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,2,32767,-32768),this[d]=h&255,this[d+1]=h>>>8,d+2},u.prototype.writeInt16BE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,2,32767,-32768),this[d]=h>>>8,this[d+1]=h&255,d+2},u.prototype.writeInt32LE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,4,2147483647,-2147483648),this[d]=h&255,this[d+1]=h>>>8,this[d+2]=h>>>16,this[d+3]=h>>>24,d+4},u.prototype.writeInt32BE=function(h,d,O){return h=+h,d=d>>>0,O||nt(this,h,d,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255,d+4};function Rt(T,h,d,O,R,V){if(d+O>T.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function $t(T,h,d,O,R){return h=+h,d=d>>>0,R||Rt(T,h,d,4),b.write(T,h,d,O,23,4),d+4}u.prototype.writeFloatLE=function(h,d,O){return $t(this,h,d,!0,O)},u.prototype.writeFloatBE=function(h,d,O){return $t(this,h,d,!1,O)};function Be(T,h,d,O,R){return h=+h,d=d>>>0,R||Rt(T,h,d,8),b.write(T,h,d,O,52,8),d+8}u.prototype.writeDoubleLE=function(h,d,O){return Be(this,h,d,!0,O)},u.prototype.writeDoubleBE=function(h,d,O){return Be(this,h,d,!1,O)},u.prototype.copy=function(h,d,O,R){if(!u.isBuffer(h))throw new TypeError("argument should be a Buffer");if(O||(O=0),!R&&R!==0&&(R=this.length),d>=h.length&&(d=h.length),d||(d=0),R>0&&R<O&&(R=O),R===O||h.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),h.length-d<R-O&&(R=h.length-d+O);var V=R-O;if(this===h&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(d,O,R);else if(this===h&&O<d&&d<R)for(var W=V-1;W>=0;--W)h[W+d]=this[W+O];else Uint8Array.prototype.set.call(h,this.subarray(O,R),d);return V},u.prototype.fill=function(h,d,O,R){if(typeof h=="string"){if(typeof d=="string"?(R=d,d=0,O=this.length):typeof O=="string"&&(R=O,O=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(h.length===1){var V=h.charCodeAt(0);(R==="utf8"&&V<128||R==="latin1")&&(h=V)}}else typeof h=="number"&&(h=h&255);if(d<0||this.length<d||this.length<O)throw new RangeError("Out of range index");if(O<=d)return this;d=d>>>0,O=O===void 0?this.length:O>>>0,h||(h=0);var W;if(typeof h=="number")for(W=d;W<O;++W)this[W]=h;else{var lt=u.isBuffer(h)?h:u.from(h,R),pt=lt.length;if(pt===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(W=0;W<O-d;++W)this[W+d]=lt[W%pt]}return this};var Fe=/[^+/0-9A-Za-z-_]/g;function Re(T){if(T=T.split("=")[0],T=T.trim().replace(Fe,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function ue(T){return T<16?"0"+T.toString(16):T.toString(16)}function ce(T,h){h=h||1/0;for(var d,O=T.length,R=null,V=[],W=0;W<O;++W){if(d=T.charCodeAt(W),d>55295&&d<57344){if(!R){if(d>56319){(h-=3)>-1&&V.push(239,191,189);continue}else if(W+1===O){(h-=3)>-1&&V.push(239,191,189);continue}R=d;continue}if(d<56320){(h-=3)>-1&&V.push(239,191,189),R=d;continue}d=(R-55296<<10|d-56320)+65536}else R&&(h-=3)>-1&&V.push(239,191,189);if(R=null,d<128){if((h-=1)<0)break;V.push(d)}else if(d<2048){if((h-=2)<0)break;V.push(d>>6|192,d&63|128)}else if(d<65536){if((h-=3)<0)break;V.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((h-=4)<0)break;V.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return V}function Ki(T){for(var h=[],d=0;d<T.length;++d)h.push(T.charCodeAt(d)&255);return h}function li(T,h){for(var d,O,R,V=[],W=0;W<T.length&&!((h-=2)<0);++W)d=T.charCodeAt(W),O=d>>8,R=d%256,V.push(R),V.push(O);return V}function ze(T){return p.toByteArray(Re(T))}function ne(T,h,d,O){for(var R=0;R<O&&!(R+d>=h.length||R>=T.length);++R)h[R+d]=T[R];return R}function zt(T,h){return T instanceof h||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===h.name}function je(T){return T!==T}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:14}],3:[function(r,c,a){const m=r("./validator"),p=r("./xmlparser/XMLParser"),b=r("./xmlbuilder/json2xml");c.exports={XMLParser:p,XMLValidator:m,XMLBuilder:b}},{"./validator":5,"./xmlbuilder/json2xml":6,"./xmlparser/XMLParser":11}],4:[function(r,c,a){const m=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",p=m+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",b="["+m+"]["+p+"]*",k=new RegExp("^"+b+"$"),x=function(u,w){const y=[];let f=w.exec(u);for(;f;){const g=[];g.startIndex=w.lastIndex-f[0].length;const E=f.length;for(let C=0;C<E;C++)g.push(f[C]);y.push(g),f=w.exec(u)}return y},_=function(u){const w=k.exec(u);return!(w===null||typeof w>"u")};a.isExist=function(u){return typeof u<"u"},a.isEmptyObject=function(u){return Object.keys(u).length===0},a.merge=function(u,w,y){if(w){const f=Object.keys(w),g=f.length;for(let E=0;E<g;E++)y==="strict"?u[f[E]]=[w[f[E]]]:u[f[E]]=w[f[E]]}},a.getValue=function(u){return a.isExist(u)?u:""},a.isName=_,a.getAllMatches=x,a.nameRegexp=b},{}],5:[function(r,c,a){const m=r("./util"),p={allowBooleanAttributes:!1,unpairedTags:[]};a.validate=function(M,F){F=Object.assign({},p,F);const H=[];let z=!1,q=!1;M[0]==="\uFEFF"&&(M=M.substr(1));for(let N=0;N<M.length;N++)if(M[N]==="<"&&M[N+1]==="?"){if(N+=2,N=k(M,N),N.err)return N}else if(M[N]==="<"){let X=N;if(N++,M[N]==="!"){N=x(M,N);continue}else{let K=!1;M[N]==="/"&&(K=!0,N++);let D="";for(;N<M.length&&M[N]!==">"&&M[N]!==" "&&M[N]!=="	"&&M[N]!==`
`&&M[N]!=="\r";N++)D+=M[N];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),N--),!S(D)){let G;return D.trim().length===0?G="Invalid space after '<'.":G="Tag '"+D+"' is an invalid name.",C("InvalidTag",G,I(M,N))}const ft=w(M,N);if(ft===!1)return C("InvalidAttr","Attributes for '"+D+"' have open quote.",I(M,N));let Y=ft.value;if(N=ft.index,Y[Y.length-1]==="/"){const G=N-Y.length;Y=Y.substring(0,Y.length-1);const J=f(Y,F);if(J===!0)z=!0;else return C(J.err.code,J.err.msg,I(M,G+J.err.line))}else if(K)if(ft.tagClosed){if(Y.trim().length>0)return C("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",I(M,X));if(H.length===0)return C("InvalidTag","Closing tag '"+D+"' has not been opened.",I(M,X));{const G=H.pop();if(D!==G.tagName){let J=I(M,G.tagStartPos);return C("InvalidTag","Expected closing tag '"+G.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+D+"'.",I(M,X))}H.length==0&&(q=!0)}}else return C("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",I(M,N));else{const G=f(Y,F);if(G!==!0)return C(G.err.code,G.err.msg,I(M,N-Y.length+G.err.line));if(q===!0)return C("InvalidXml","Multiple possible root nodes found.",I(M,N));F.unpairedTags.indexOf(D)!==-1||H.push({tagName:D,tagStartPos:X}),z=!0}for(N++;N<M.length;N++)if(M[N]==="<")if(M[N+1]==="!"){N++,N=x(M,N);continue}else if(M[N+1]==="?"){if(N=k(M,++N),N.err)return N}else break;else if(M[N]==="&"){const G=E(M,N);if(G==-1)return C("InvalidChar","char '&' is not expected.",I(M,N));N=G}else if(q===!0&&!b(M[N]))return C("InvalidXml","Extra text at the end",I(M,N));M[N]==="<"&&N--}}else{if(b(M[N]))continue;return C("InvalidChar","char '"+M[N]+"' is not expected.",I(M,N))}if(z){if(H.length==1)return C("InvalidTag","Unclosed tag '"+H[0].tagName+"'.",I(M,H[0].tagStartPos));if(H.length>0)return C("InvalidXml","Invalid '"+JSON.stringify(H.map(N=>N.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return C("InvalidXml","Start tag expected.",1);return!0};function b(M){return M===" "||M==="	"||M===`
`||M==="\r"}function k(M,F){const H=F;for(;F<M.length;F++)if(M[F]=="?"||M[F]==" "){const z=M.substr(H,F-H);if(F>5&&z==="xml")return C("InvalidXml","XML declaration allowed only at the start of the document.",I(M,F));if(M[F]=="?"&&M[F+1]==">"){F++;break}else continue}return F}function x(M,F){if(M.length>F+5&&M[F+1]==="-"&&M[F+2]==="-"){for(F+=3;F<M.length;F++)if(M[F]==="-"&&M[F+1]==="-"&&M[F+2]===">"){F+=2;break}}else if(M.length>F+8&&M[F+1]==="D"&&M[F+2]==="O"&&M[F+3]==="C"&&M[F+4]==="T"&&M[F+5]==="Y"&&M[F+6]==="P"&&M[F+7]==="E"){let H=1;for(F+=8;F<M.length;F++)if(M[F]==="<")H++;else if(M[F]===">"&&(H--,H===0))break}else if(M.length>F+9&&M[F+1]==="["&&M[F+2]==="C"&&M[F+3]==="D"&&M[F+4]==="A"&&M[F+5]==="T"&&M[F+6]==="A"&&M[F+7]==="["){for(F+=8;F<M.length;F++)if(M[F]==="]"&&M[F+1]==="]"&&M[F+2]===">"){F+=2;break}}return F}const _='"',u="'";function w(M,F){let H="",z="",q=!1;for(;F<M.length;F++){if(M[F]===_||M[F]===u)z===""?z=M[F]:z!==M[F]||(z="");else if(M[F]===">"&&z===""){q=!0;break}H+=M[F]}return z!==""?!1:{value:H,index:F,tagClosed:q}}const y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function f(M,F){const H=m.getAllMatches(M,y),z={};for(let q=0;q<H.length;q++){if(H[q][1].length===0)return C("InvalidAttr","Attribute '"+H[q][2]+"' has no space in starting.",U(H[q]));if(H[q][3]!==void 0&&H[q][4]===void 0)return C("InvalidAttr","Attribute '"+H[q][2]+"' is without value.",U(H[q]));if(H[q][3]===void 0&&!F.allowBooleanAttributes)return C("InvalidAttr","boolean attribute '"+H[q][2]+"' is not allowed.",U(H[q]));const N=H[q][2];if(!P(N))return C("InvalidAttr","Attribute '"+N+"' is an invalid name.",U(H[q]));if(!z.hasOwnProperty(N))z[N]=1;else return C("InvalidAttr","Attribute '"+N+"' is repeated.",U(H[q]))}return!0}function g(M,F){let H=/\d/;for(M[F]==="x"&&(F++,H=/[\da-fA-F]/);F<M.length;F++){if(M[F]===";")return F;if(!M[F].match(H))break}return-1}function E(M,F){if(F++,M[F]===";")return-1;if(M[F]==="#")return F++,g(M,F);let H=0;for(;F<M.length;F++,H++)if(!(M[F].match(/\w/)&&H<20)){if(M[F]===";")break;return-1}return F}function C(M,F,H){return{err:{code:M,msg:F,line:H.line||H,col:H.col}}}function P(M){return m.isName(M)}function S(M){return m.isName(M)}function I(M,F){const H=M.substring(0,F).split(/\r?\n/);return{line:H.length,col:H[H.length-1].length+1}}function U(M){return M.startIndex+M[1].length}},{"./util":4}],6:[function(r,c,a){const m=r("./orderedJs2Xml"),p={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,w){return w},attributeValueProcessor:function(u,w){return w},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(u){this.options=Object.assign({},p,u),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=_),this.processTextOrObjNode=k,this.options.format?(this.indentate=x,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(u){return this.options.preserveOrder?m(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0).val)},b.prototype.j2x=function(u,w){let y="",f="";for(let g in u)if(Object.prototype.hasOwnProperty.call(u,g))if(typeof u[g]>"u")this.isAttribute(g)&&(f+="");else if(u[g]===null)this.isAttribute(g)?f+="":g[0]==="?"?f+=this.indentate(w)+"<"+g+"?"+this.tagEndChar:f+=this.indentate(w)+"<"+g+"/"+this.tagEndChar;else if(u[g]instanceof Date)f+=this.buildTextValNode(u[g],g,"",w);else if(typeof u[g]!="object"){const E=this.isAttribute(g);if(E)y+=this.buildAttrPairStr(E,""+u[g]);else if(g===this.options.textNodeName){let C=this.options.tagValueProcessor(g,""+u[g]);f+=this.replaceEntitiesValue(C)}else f+=this.buildTextValNode(u[g],g,"",w)}else if(Array.isArray(u[g])){const E=u[g].length;let C="",P="";for(let S=0;S<E;S++){const I=u[g][S];if(!(typeof I>"u"))if(I===null)g[0]==="?"?f+=this.indentate(w)+"<"+g+"?"+this.tagEndChar:f+=this.indentate(w)+"<"+g+"/"+this.tagEndChar;else if(typeof I=="object")if(this.options.oneListGroup){const U=this.j2x(I,w+1);C+=U.val,this.options.attributesGroupName&&I.hasOwnProperty(this.options.attributesGroupName)&&(P+=U.attrStr)}else C+=this.processTextOrObjNode(I,g,w);else if(this.options.oneListGroup){let U=this.options.tagValueProcessor(g,I);U=this.replaceEntitiesValue(U),C+=U}else C+=this.buildTextValNode(I,g,"",w)}this.options.oneListGroup&&(C=this.buildObjectNode(C,g,P,w)),f+=C}else if(this.options.attributesGroupName&&g===this.options.attributesGroupName){const E=Object.keys(u[g]),C=E.length;for(let P=0;P<C;P++)y+=this.buildAttrPairStr(E[P],""+u[g][E[P]])}else f+=this.processTextOrObjNode(u[g],g,w);return{attrStr:y,val:f}},b.prototype.buildAttrPairStr=function(u,w){return w=this.options.attributeValueProcessor(u,""+w),w=this.replaceEntitiesValue(w),this.options.suppressBooleanAttributes&&w==="true"?" "+u:" "+u+'="'+w+'"'};function k(u,w,y){const f=this.j2x(u,y+1);return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],w,f.attrStr,y):this.buildObjectNode(f.val,w,f.attrStr,y)}b.prototype.buildObjectNode=function(u,w,y,f){if(u==="")return w[0]==="?"?this.indentate(f)+"<"+w+y+"?"+this.tagEndChar:this.indentate(f)+"<"+w+y+this.closeTag(w)+this.tagEndChar;{let g="</"+w+this.tagEndChar,E="";return w[0]==="?"&&(E="?",g=""),(y||y==="")&&u.indexOf("<")===-1?this.indentate(f)+"<"+w+y+E+">"+u+g:this.options.commentPropName!==!1&&w===this.options.commentPropName&&E.length===0?this.indentate(f)+`<!--${u}-->`+this.newLine:this.indentate(f)+"<"+w+y+E+this.tagEndChar+u+this.indentate(f)+g}},b.prototype.closeTag=function(u){let w="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(w="/"):this.options.suppressEmptyNode?w="/":w=`></${u}`,w},b.prototype.buildTextValNode=function(u,w,y,f){if(this.options.cdataPropName!==!1&&w===this.options.cdataPropName)return this.indentate(f)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&w===this.options.commentPropName)return this.indentate(f)+`<!--${u}-->`+this.newLine;if(w[0]==="?")return this.indentate(f)+"<"+w+y+"?"+this.tagEndChar;{let g=this.options.tagValueProcessor(w,u);return g=this.replaceEntitiesValue(g),g===""?this.indentate(f)+"<"+w+y+this.closeTag(w)+this.tagEndChar:this.indentate(f)+"<"+w+y+">"+g+"</"+w+this.tagEndChar}},b.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let w=0;w<this.options.entities.length;w++){const y=this.options.entities[w];u=u.replace(y.regex,y.val)}return u};function x(u){return this.options.indentBy.repeat(u)}function _(u){return u.startsWith(this.options.attributeNamePrefix)&&u!==this.options.textNodeName?u.substr(this.attrPrefixLen):!1}c.exports=b},{"./orderedJs2Xml":7}],7:[function(r,c,a){const m=`
`;function p(w,y){let f="";return y.format&&y.indentBy.length>0&&(f=m),b(w,y,"",f)}function b(w,y,f,g){let E="",C=!1;for(let P=0;P<w.length;P++){const S=w[P],I=k(S);if(I===void 0)continue;let U="";if(f.length===0?U=I:U=`${f}.${I}`,I===y.textNodeName){let q=S[I];_(U,y)||(q=y.tagValueProcessor(I,q),q=u(q,y)),C&&(E+=g),E+=q,C=!1;continue}else if(I===y.cdataPropName){C&&(E+=g),E+=`<![CDATA[${S[I][0][y.textNodeName]}]]>`,C=!1;continue}else if(I===y.commentPropName){E+=g+`<!--${S[I][0][y.textNodeName]}-->`,C=!0;continue}else if(I[0]==="?"){const q=x(S[":@"],y),N=I==="?xml"?"":g;let X=S[I][0][y.textNodeName];X=X.length!==0?" "+X:"",E+=N+`<${I}${X}${q}?>`,C=!0;continue}let M=g;M!==""&&(M+=y.indentBy);const F=x(S[":@"],y),H=g+`<${I}${F}`,z=b(S[I],y,U,M);y.unpairedTags.indexOf(I)!==-1?y.suppressUnpairedNode?E+=H+">":E+=H+"/>":(!z||z.length===0)&&y.suppressEmptyNode?E+=H+"/>":z&&z.endsWith(">")?E+=H+`>${z}${g}</${I}>`:(E+=H+">",z&&g!==""&&(z.includes("/>")||z.includes("</"))?E+=g+y.indentBy+z+g:E+=z,E+=`</${I}>`),C=!0}return E}function k(w){const y=Object.keys(w);for(let f=0;f<y.length;f++){const g=y[f];if(w.hasOwnProperty(g)&&g!==":@")return g}}function x(w,y){let f="";if(w&&!y.ignoreAttributes)for(let g in w){if(!w.hasOwnProperty(g))continue;let E=y.attributeValueProcessor(g,w[g]);E=u(E,y),E===!0&&y.suppressBooleanAttributes?f+=` ${g.substr(y.attributeNamePrefix.length)}`:f+=` ${g.substr(y.attributeNamePrefix.length)}="${E}"`}return f}function _(w,y){w=w.substr(0,w.length-y.textNodeName.length-1);let f=w.substr(w.lastIndexOf(".")+1);for(let g in y.stopNodes)if(y.stopNodes[g]===w||y.stopNodes[g]==="*."+f)return!0;return!1}function u(w,y){if(w&&w.length>0&&y.processEntities)for(let f=0;f<y.entities.length;f++){const g=y.entities[f];w=w.replace(g.regex,g.val)}return w}c.exports=p},{}],8:[function(r,c,a){const m=r("../util");function p(f,g){const E={};if(f[g+3]==="O"&&f[g+4]==="C"&&f[g+5]==="T"&&f[g+6]==="Y"&&f[g+7]==="P"&&f[g+8]==="E"){g=g+9;let C=1,P=!1,S=!1,I="";for(;g<f.length;g++)if(f[g]==="<"&&!S){if(P&&x(f,g))g+=7,[entityName,val,g]=b(f,g+1),val.indexOf("&")===-1&&(E[y(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(P&&_(f,g))g+=8;else if(P&&u(f,g))g+=8;else if(P&&w(f,g))g+=9;else if(k)S=!0;else throw new Error("Invalid DOCTYPE");C++,I=""}else if(f[g]===">"){if(S?f[g-1]==="-"&&f[g-2]==="-"&&(S=!1,C--):C--,C===0)break}else f[g]==="["?P=!0:I+=f[g];if(C!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:E,i:g}}function b(f,g){let E="";for(;g<f.length&&f[g]!=="'"&&f[g]!=='"';g++)E+=f[g];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const C=f[g++];let P="";for(;g<f.length&&f[g]!==C;g++)P+=f[g];return[E,P,g]}function k(f,g){return f[g+1]==="!"&&f[g+2]==="-"&&f[g+3]==="-"}function x(f,g){return f[g+1]==="!"&&f[g+2]==="E"&&f[g+3]==="N"&&f[g+4]==="T"&&f[g+5]==="I"&&f[g+6]==="T"&&f[g+7]==="Y"}function _(f,g){return f[g+1]==="!"&&f[g+2]==="E"&&f[g+3]==="L"&&f[g+4]==="E"&&f[g+5]==="M"&&f[g+6]==="E"&&f[g+7]==="N"&&f[g+8]==="T"}function u(f,g){return f[g+1]==="!"&&f[g+2]==="A"&&f[g+3]==="T"&&f[g+4]==="T"&&f[g+5]==="L"&&f[g+6]==="I"&&f[g+7]==="S"&&f[g+8]==="T"}function w(f,g){return f[g+1]==="!"&&f[g+2]==="N"&&f[g+3]==="O"&&f[g+4]==="T"&&f[g+5]==="A"&&f[g+6]==="T"&&f[g+7]==="I"&&f[g+8]==="O"&&f[g+9]==="N"}function y(f){if(m.isName(f))return f;throw new Error(`Invalid entity name ${f}`)}c.exports=p},{"../util":4}],9:[function(r,c,a){const m={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(b,k){return k},attributeValueProcessor:function(b,k){return k},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(b,k,x){return b}},p=function(b){return Object.assign({},m,b)};a.buildOptions=p,a.defaultOptions=m},{}],10:[function(r,c,a){const m=r("../util"),p=r("./xmlNode"),b=r("./DocTypeReader"),k=r("strnum");class x{constructor(q){this.options=q,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(N,X)=>String.fromCharCode(Number.parseInt(X,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(N,X)=>String.fromCharCode(Number.parseInt(X,16))}},this.addExternalEntities=_,this.parseXml=g,this.parseTextData=u,this.resolveNameSpace=w,this.buildAttributesMap=f,this.isItStopNode=S,this.replaceEntitiesValue=C,this.readStopNodeData=F,this.saveTextToParentTag=P,this.addChild=E}}function _(z){const q=Object.keys(z);for(let N=0;N<q.length;N++){const X=q[N];this.lastEntities[X]={regex:new RegExp("&"+X+";","g"),val:z[X]}}}function u(z,q,N,X,K,D,ft){if(z!==void 0&&(this.options.trimValues&&!X&&(z=z.trim()),z.length>0)){ft||(z=this.replaceEntitiesValue(z));const Y=this.options.tagValueProcessor(q,z,N,K,D);return Y==null?z:typeof Y!=typeof z||Y!==z?Y:this.options.trimValues?H(z,this.options.parseTagValue,this.options.numberParseOptions):z.trim()===z?H(z,this.options.parseTagValue,this.options.numberParseOptions):z}}function w(z){if(this.options.removeNSPrefix){const q=z.split(":"),N=z.charAt(0)==="/"?"/":"";if(q[0]==="xmlns")return"";q.length===2&&(z=N+q[1])}return z}const y=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f(z,q,N){if(!this.options.ignoreAttributes&&typeof z=="string"){const X=m.getAllMatches(z,y),K=X.length,D={};for(let ft=0;ft<K;ft++){const Y=this.resolveNameSpace(X[ft][1]);let G=X[ft][4],J=this.options.attributeNamePrefix+Y;if(Y.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),G!==void 0){this.options.trimValues&&(G=G.trim()),G=this.replaceEntitiesValue(G);const ut=this.options.attributeValueProcessor(Y,G,q);ut==null?D[J]=G:typeof ut!=typeof G||ut!==G?D[J]=ut:D[J]=H(G,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(D[J]=!0)}if(!Object.keys(D).length)return;if(this.options.attributesGroupName){const ft={};return ft[this.options.attributesGroupName]=D,ft}return D}}const g=function(z){z=z.replace(/\r\n?/g,`
`);const q=new p("!xml");let N=q,X="",K="";for(let D=0;D<z.length;D++)if(z[D]==="<")if(z[D+1]==="/"){const Y=U(z,">",D,"Closing Tag is not closed.");let G=z.substring(D+2,Y).trim();if(this.options.removeNSPrefix){const tt=G.indexOf(":");tt!==-1&&(G=G.substr(tt+1))}this.options.transformTagName&&(G=this.options.transformTagName(G)),N&&(X=this.saveTextToParentTag(X,N,K));const J=K.substring(K.lastIndexOf(".")+1);if(G&&this.options.unpairedTags.indexOf(G)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${G}>`);let ut=0;J&&this.options.unpairedTags.indexOf(J)!==-1?(ut=K.lastIndexOf(".",K.lastIndexOf(".")-1),this.tagsNodeStack.pop()):ut=K.lastIndexOf("."),K=K.substring(0,ut),N=this.tagsNodeStack.pop(),X="",D=Y}else if(z[D+1]==="?"){let Y=M(z,D,!1,"?>");if(!Y)throw new Error("Pi Tag is not closed.");if(X=this.saveTextToParentTag(X,N,K),!(this.options.ignoreDeclaration&&Y.tagName==="?xml"||this.options.ignorePiTags)){const G=new p(Y.tagName);G.add(this.options.textNodeName,""),Y.tagName!==Y.tagExp&&Y.attrExpPresent&&(G[":@"]=this.buildAttributesMap(Y.tagExp,K,Y.tagName)),this.addChild(N,G,K)}D=Y.closeIndex+1}else if(z.substr(D+1,3)==="!--"){const Y=U(z,"-->",D+4,"Comment is not closed.");if(this.options.commentPropName){const G=z.substring(D+4,Y-2);X=this.saveTextToParentTag(X,N,K),N.add(this.options.commentPropName,[{[this.options.textNodeName]:G}])}D=Y}else if(z.substr(D+1,2)==="!D"){const Y=b(z,D);this.docTypeEntities=Y.entities,D=Y.i}else if(z.substr(D+1,2)==="!["){const Y=U(z,"]]>",D,"CDATA is not closed.")-2,G=z.substring(D+9,Y);X=this.saveTextToParentTag(X,N,K);let J=this.parseTextData(G,N.tagname,K,!0,!1,!0,!0);J==null&&(J=""),this.options.cdataPropName?N.add(this.options.cdataPropName,[{[this.options.textNodeName]:G}]):N.add(this.options.textNodeName,J),D=Y+2}else{let Y=M(z,D,this.options.removeNSPrefix),G=Y.tagName;const J=Y.rawTagName;let ut=Y.tagExp,tt=Y.attrExpPresent,_t=Y.closeIndex;this.options.transformTagName&&(G=this.options.transformTagName(G)),N&&X&&N.tagname!=="!xml"&&(X=this.saveTextToParentTag(X,N,K,!1));const Et=N;if(Et&&this.options.unpairedTags.indexOf(Et.tagname)!==-1&&(N=this.tagsNodeStack.pop(),K=K.substring(0,K.lastIndexOf("."))),G!==q.tagname&&(K+=K?"."+G:G),this.isItStopNode(this.options.stopNodes,K,G)){let mt="";if(ut.length>0&&ut.lastIndexOf("/")===ut.length-1)G[G.length-1]==="/"?(G=G.substr(0,G.length-1),K=K.substr(0,K.length-1),ut=G):ut=ut.substr(0,ut.length-1),D=Y.closeIndex;else if(this.options.unpairedTags.indexOf(G)!==-1)D=Y.closeIndex;else{const it=this.readStopNodeData(z,J,_t+1);if(!it)throw new Error(`Unexpected end of ${J}`);D=it.i,mt=it.tagContent}const gt=new p(G);G!==ut&&tt&&(gt[":@"]=this.buildAttributesMap(ut,K,G)),mt&&(mt=this.parseTextData(mt,G,K,!0,tt,!0,!0)),K=K.substr(0,K.lastIndexOf(".")),gt.add(this.options.textNodeName,mt),this.addChild(N,gt,K)}else{if(ut.length>0&&ut.lastIndexOf("/")===ut.length-1){G[G.length-1]==="/"?(G=G.substr(0,G.length-1),K=K.substr(0,K.length-1),ut=G):ut=ut.substr(0,ut.length-1),this.options.transformTagName&&(G=this.options.transformTagName(G));const mt=new p(G);G!==ut&&tt&&(mt[":@"]=this.buildAttributesMap(ut,K,G)),this.addChild(N,mt,K),K=K.substr(0,K.lastIndexOf("."))}else{const mt=new p(G);this.tagsNodeStack.push(N),G!==ut&&tt&&(mt[":@"]=this.buildAttributesMap(ut,K,G)),this.addChild(N,mt,K),N=mt}X="",D=_t}}else X+=z[D];return q.child};function E(z,q,N){const X=this.options.updateTag(q.tagname,N,q[":@"]);X===!1||(typeof X=="string"&&(q.tagname=X),z.addChild(q))}const C=function(z){if(this.options.processEntities){for(let q in this.docTypeEntities){const N=this.docTypeEntities[q];z=z.replace(N.regx,N.val)}for(let q in this.lastEntities){const N=this.lastEntities[q];z=z.replace(N.regex,N.val)}if(this.options.htmlEntities)for(let q in this.htmlEntities){const N=this.htmlEntities[q];z=z.replace(N.regex,N.val)}z=z.replace(this.ampEntity.regex,this.ampEntity.val)}return z};function P(z,q,N,X){return z&&(X===void 0&&(X=Object.keys(q.child).length===0),z=this.parseTextData(z,q.tagname,N,!1,q[":@"]?Object.keys(q[":@"]).length!==0:!1,X),z!==void 0&&z!==""&&q.add(this.options.textNodeName,z),z=""),z}function S(z,q,N){const X="*."+N;for(const K in z){const D=z[K];if(X===D||q===D)return!0}return!1}function I(z,q,N=">"){let X,K="";for(let D=q;D<z.length;D++){let ft=z[D];if(X)ft===X&&(X="");else if(ft==='"'||ft==="'")X=ft;else if(ft===N[0])if(N[1]){if(z[D+1]===N[1])return{data:K,index:D}}else return{data:K,index:D};else ft==="	"&&(ft=" ");K+=ft}}function U(z,q,N,X){const K=z.indexOf(q,N);if(K===-1)throw new Error(X);return K+q.length-1}function M(z,q,N,X=">"){const K=I(z,q+1,X);if(!K)return;let D=K.data;const ft=K.index,Y=D.search(/\s/);let G=D,J=!0;Y!==-1&&(G=D.substring(0,Y),D=D.substring(Y+1).trimStart());const ut=G;if(N){const tt=G.indexOf(":");tt!==-1&&(G=G.substr(tt+1),J=G!==K.data.substr(tt+1))}return{tagName:G,tagExp:D,closeIndex:ft,attrExpPresent:J,rawTagName:ut}}function F(z,q,N){const X=N;let K=1;for(;N<z.length;N++)if(z[N]==="<")if(z[N+1]==="/"){const D=U(z,">",N,`${q} is not closed`);if(z.substring(N+2,D).trim()===q&&(K--,K===0))return{tagContent:z.substring(X,N),i:D};N=D}else if(z[N+1]==="?")N=U(z,"?>",N+1,"StopNode is not closed.");else if(z.substr(N+1,3)==="!--")N=U(z,"-->",N+3,"StopNode is not closed.");else if(z.substr(N+1,2)==="![")N=U(z,"]]>",N,"StopNode is not closed.")-2;else{const D=M(z,N,">");D&&((D&&D.tagName)===q&&D.tagExp[D.tagExp.length-1]!=="/"&&K++,N=D.closeIndex)}}function H(z,q,N){if(q&&typeof z=="string"){const X=z.trim();return X==="true"?!0:X==="false"?!1:k(z,N)}else return m.isExist(z)?z:""}c.exports=x},{"../util":4,"./DocTypeReader":8,"./xmlNode":13,strnum:15}],11:[function(r,c,a){const{buildOptions:m}=r("./OptionsBuilder"),p=r("./OrderedObjParser"),{prettify:b}=r("./node2json"),k=r("../validator");class x{constructor(u){this.externalEntities={},this.options=m(u)}parse(u,w){if(typeof u!="string")if(u.toString)u=u.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(w){w===!0&&(w={});const g=k.validate(u,w);if(g!==!0)throw Error(`${g.err.msg}:${g.err.line}:${g.err.col}`)}const y=new p(this.options);y.addExternalEntities(this.externalEntities);const f=y.parseXml(u);return this.options.preserveOrder||f===void 0?f:b(f,this.options)}addEntity(u,w){if(w.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(u.indexOf("&")!==-1||u.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(w==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[u]=w}}c.exports=x},{"../validator":5,"./OptionsBuilder":9,"./OrderedObjParser":10,"./node2json":12}],12:[function(r,c,a){function m(_,u){return p(_,u)}function p(_,u,w){let y;const f={};for(let g=0;g<_.length;g++){const E=_[g],C=b(E);let P="";if(w===void 0?P=C:P=w+"."+C,C===u.textNodeName)y===void 0?y=E[C]:y+=""+E[C];else{if(C===void 0)continue;if(E[C]){let S=p(E[C],u,P);const I=x(S,u);E[":@"]?k(S,E[":@"],P,u):Object.keys(S).length===1&&S[u.textNodeName]!==void 0&&!u.alwaysCreateTextNode?S=S[u.textNodeName]:Object.keys(S).length===0&&(u.alwaysCreateTextNode?S[u.textNodeName]="":S=""),f[C]!==void 0&&f.hasOwnProperty(C)?(Array.isArray(f[C])||(f[C]=[f[C]]),f[C].push(S)):u.isArray(C,P,I)?f[C]=[S]:f[C]=S}}}return typeof y=="string"?y.length>0&&(f[u.textNodeName]=y):y!==void 0&&(f[u.textNodeName]=y),f}function b(_){const u=Object.keys(_);for(let w=0;w<u.length;w++){const y=u[w];if(y!==":@")return y}}function k(_,u,w,y){if(u){const f=Object.keys(u),g=f.length;for(let E=0;E<g;E++){const C=f[E];y.isArray(C,w+"."+C,!0,!0)?_[C]=[u[C]]:_[C]=u[C]}}}function x(_,u){const{textNodeName:w}=u,y=Object.keys(_).length;return!!(y===0||y===1&&(_[w]||typeof _[w]=="boolean"||_[w]===0))}a.prettify=m},{}],13:[function(r,c,a){class m{constructor(b){this.tagname=b,this.child=[],this[":@"]={}}add(b,k){b==="__proto__"&&(b="#__proto__"),this.child.push({[b]:k})}addChild(b){b.tagname==="__proto__"&&(b.tagname="#__proto__"),b[":@"]&&Object.keys(b[":@"]).length>0?this.child.push({[b.tagname]:b.child,":@":b[":@"]}):this.child.push({[b.tagname]:b.child})}}c.exports=m},{}],14:[function(r,c,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(m,p,b,k,x){var _,u,w=x*8-k-1,y=(1<<w)-1,f=y>>1,g=-7,E=b?x-1:0,C=b?-1:1,P=m[p+E];for(E+=C,_=P&(1<<-g)-1,P>>=-g,g+=w;g>0;_=_*256+m[p+E],E+=C,g-=8);for(u=_&(1<<-g)-1,_>>=-g,g+=k;g>0;u=u*256+m[p+E],E+=C,g-=8);if(_===0)_=1-f;else{if(_===y)return u?NaN:(P?-1:1)*(1/0);u=u+Math.pow(2,k),_=_-f}return(P?-1:1)*u*Math.pow(2,_-k)},a.write=function(m,p,b,k,x,_){var u,w,y,f=_*8-x-1,g=(1<<f)-1,E=g>>1,C=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=k?0:_-1,S=k?1:-1,I=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(w=isNaN(p)?1:0,u=g):(u=Math.floor(Math.log(p)/Math.LN2),p*(y=Math.pow(2,-u))<1&&(u--,y*=2),u+E>=1?p+=C/y:p+=C*Math.pow(2,1-E),p*y>=2&&(u++,y/=2),u+E>=g?(w=0,u=g):u+E>=1?(w=(p*y-1)*Math.pow(2,x),u=u+E):(w=p*Math.pow(2,E-1)*Math.pow(2,x),u=0));x>=8;m[b+P]=w&255,P+=S,w/=256,x-=8);for(u=u<<x|w,f+=x;f>0;m[b+P]=u&255,P+=S,u/=256,f-=8);m[b+P-S]|=I*128}},{}],15:[function(r,c,a){const m=/^[-+]?0x[a-fA-F0-9]+$/,p=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const b={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function k(_,u={}){if(u=Object.assign({},b,u),!_||typeof _!="string")return _;let w=_.trim();if(u.skipLike!==void 0&&u.skipLike.test(w))return _;if(u.hex&&m.test(w))return Number.parseInt(w,16);{const y=p.exec(w);if(y){const f=y[1],g=y[2];let E=x(y[3]);const C=y[4]||y[6];if(!u.leadingZeros&&g.length>0&&f&&w[2]!==".")return _;if(!u.leadingZeros&&g.length>0&&!f&&w[1]!==".")return _;{const P=Number(w),S=""+P;return S.search(/[eE]/)!==-1||C?u.eNotation?P:_:w.indexOf(".")!==-1?S==="0"&&E===""||S===E||f&&S==="-"+E?P:_:g?E===S||f+E===S?P:_:w===S||w===f+S?P:_}}else return _}}function x(_){return _&&_.indexOf(".")!==-1&&(_=_.replace(/0+$/,""),_==="."?_="0":_[0]==="."?_="0"+_:_[_.length-1]==="."&&(_=_.substr(0,_.length-1))),_}c.exports=k},{}],16:[function(r,c,a){(function(m){(function(){var p=this&&this.__awaiter||function(w,y,f,g){function E(C){return C instanceof f?C:new f(function(P){P(C)})}return new(f||(f=Promise))(function(C,P){function S(M){try{U(g.next(M))}catch(F){P(F)}}function I(M){try{U(g.throw(M))}catch(F){P(F)}}function U(M){M.done?C(M.value):E(M.value).then(S,I)}U((g=g.apply(w,y||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.osmFetch=u;const b=r("../auth"),k=r("../config"),x=r("./_xml"),_=w=>typeof btoa>"u"?m.from(w,"binary").toString("base64"):btoa(w);function u(w,y,f){return p(this,void 0,void 0,function*(){const{apiUrl:g,authHeader:E,basicAuth:C,userAgent:P}=(0,k.getConfig)(),S=C&&`Basic ${_(`${C.username}:${C.password}`)}`,I=(0,b.getAuthToken)()&&`Bearer ${(0,b.getAuthToken)()}`;let U=new URLSearchParams(y).toString();U&&(U=`?${U}`);const M=yield fetch(`${g}/api${w}${U}`,Object.assign(Object.assign({},f),{headers:Object.assign({Authorization:E||S||I||"","User-Agent":P},f==null?void 0:f.headers)})),F=M.headers.get("Content-Type");if(F!=null&&F.startsWith("application/xml")){const z=yield M.text();return yield x.xmlParser.parse(z)}if(F!=null&&F.startsWith("application/json"))return M.json();if(M.ok)return yield M.text();const H=new Error(`OSM API: ${yield M.text()}`);throw H.cause=M.status,H})}}).call(this)}).call(this,r("buffer").Buffer)},{"../auth":51,"../config":53,"./_xml":17,buffer:2}],17:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.xmlParser=void 0;const m=r("fast-xml-parser");a.xmlParser=new m.XMLParser({ignoreAttributes:!1,attributesGroupName:"$",attributeNamePrefix:"",isArray:p=>p!=="$"})},{"fast-xml-parser":3}],18:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.createChangesetMetaXml=b,a.createOsmChangeXml=x;const m=r("fast-xml-parser"),p=new m.XMLBuilder({ignoreAttributes:!1,attributeNamePrefix:"$",format:!0,suppressEmptyNode:!0,suppressBooleanAttributes:!1});function b(_){return p.build({osm:{changeset:{tag:Object.entries(_).map(([u,w])=>({$k:u,$v:w}))}}})}const k=(_,u,w)=>u.reduce((y,f)=>{const g={$id:f.id,$version:w?0:f.version,$changeset:_,tag:Object.entries(f.tags||{}).map(([E,C])=>({$k:E,$v:C}))};switch(f.type){case"node":{const E=Object.assign(Object.assign({},g),{$lat:f.lat,$lon:f.lon});return Object.assign(Object.assign({},y),{node:[...y.node,E]})}case"way":{if(!f.nodes)throw new Error("Way has no nodes");const E=Object.assign(Object.assign({},g),{nd:f.nodes.map(C=>({$ref:C}))});return Object.assign(Object.assign({},y),{way:[...y.way,E]})}case"relation":{if(!f.members)throw new Error("Relation has no members");const E=Object.assign(Object.assign({},g),{member:f.members.map(C=>({$type:C.type,$ref:C.ref,$role:C.role}))});return Object.assign(Object.assign({},y),{relation:[...y.relation,E]})}default:return y}},{node:[],way:[],relation:[]});function x(_,u,w){return p.build({osmChange:{$version:"0.6",$generator:"osm-api-js",changeset:w?{tag:Object.entries(w).map(([y,f])=>({$k:y,$v:f}))}:void 0,create:[k(_,u.create,!0)],modify:[k(_,u.modify)],delete:[Object.assign({"$if-unused":!0},k(_,u.delete))]}})}},{"fast-xml-parser":3}],19:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseOsmChangeJson=x,a.parseOsmChangeXml=_;const m=r("../_xml");function p(u){if(u!=null&&u.tag)return Object.fromEntries(u.tag.map(w=>[w.$.k,w.$.v]))}function b(u){return{changeset:+u.$.changeset,id:+u.$.id,timestamp:u.$.timestamp,uid:+u.$.uid,user:u.$.user,version:+u.$.version,tags:p(u)}}const k=u=>{const w=[];if(u.node){const y=u.node.map(f=>Object.assign(Object.assign({type:"node"},b(f)),{lat:+f.$.lat,lon:+f.$.lon}));w.push(...y)}if(u.way){const y=u.way.map(f=>{var g;return Object.assign(Object.assign({type:"way"},b(f)),{nodes:((g=f.nd)===null||g===void 0?void 0:g.map(E=>+E.$.ref))||[]})});w.push(...y)}if(u.relation){const y=u.relation.map(f=>{var g;return Object.assign(Object.assign({type:"relation"},b(f)),{members:((g=f.member)===null||g===void 0?void 0:g.map(E=>({ref:+E.$.ref,role:E.$.role,type:E.$.type})))||[]})});w.push(...y)}return w};function x(u){var w,y,f,g;const E=p((w=u.osmChange[0].changeset)===null||w===void 0?void 0:w[0]),C={create:((y=u.osmChange[0].create)===null||y===void 0?void 0:y.flatMap(k))||[],modify:((f=u.osmChange[0].modify)===null||f===void 0?void 0:f.flatMap(k))||[],delete:((g=u.osmChange[0].delete)===null||g===void 0?void 0:g.flatMap(k))||[]};return E&&(C.changeset=E),C}function _(u){const w=m.xmlParser.parse(u);return x(w)}},{"../_xml":17}],20:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getOsmChangeSize=k,a.chunkOsmChange=x;const m=["create","modify","delete"],p=["create-node","create-way","create-relation","delete-relation","delete-way","delete-node","modify-node","modify-way","modify-relation"],b=()=>({create:[],modify:[],delete:[]});function k(_){return _.create.length+_.modify.length+_.delete.length}function x(_,u){var w;const y=(w=u==null?void 0:u.api.changesets.maximum_elements)!==null&&w!==void 0?w:x.DEFAULT_LIMIT;if(k(_)<=y)return[_];const f={};for(const P of m)for(const S of _[P]){const I=`${P}-${S.type}`;f[I]||(f[I]=[]),f[I].push(S)}const g=[b()];function E(){var P;for(const S of p){const I=S.split("-")[0],U=(P=f[S])===null||P===void 0?void 0:P.pop();if(U)return{action:I,feature:U}}}let C;for(;C=E();){const P=g[0];P[C.action].push(C.feature),k(P)>=y&&g.unshift(b())}return g.reverse()}x.DEFAULT_LIMIT=1e4},{}],21:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.createChangesetComment=b;const p=r("../_osmFetch");function b(k,x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/changeset/${k}/comment`,void 0,Object.assign(Object.assign({},_),{method:"POST",body:`text=${encodeURIComponent(x)}`,headers:Object.assign(Object.assign({},_==null?void 0:_.headers),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})}))})}},{"../_osmFetch":16}],22:[function(r,c,a){var m=this&&this.__awaiter||function(x,_,u,w){function y(f){return f instanceof u?f:new u(function(g){g(f)})}return new(u||(u=Promise))(function(f,g){function E(S){try{P(w.next(S))}catch(I){g(I)}}function C(S){try{P(w.throw(S))}catch(I){g(I)}}function P(S){S.done?f(S.value):y(S.value).then(E,C)}P((w=w.apply(x,_||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getChangesetDiff=k;const p=r("../_osmFetch"),b=r("./_parseOsmChangeXml");function k(x,_){return m(this,void 0,void 0,function*(){const u=yield(0,p.osmFetch)(`/0.6/changeset/${x}/download`,void 0,_);return(0,b.parseOsmChangeJson)(u)})}},{"../_osmFetch":16,"./_parseOsmChangeXml":19}],23:[function(r,c,a){var m=this&&this.__awaiter||function(u,w,y,f){function g(E){return E instanceof y?E:new y(function(C){C(E)})}return new(y||(y=Promise))(function(E,C){function P(U){try{I(f.next(U))}catch(M){C(M)}}function S(U){try{I(f.throw(U))}catch(M){C(M)}}function I(U){U.done?E(U.value):g(U.value).then(P,S)}I((f=f.apply(u,w||[])).next())})},p=this&&this.__rest||function(u,w){var y={};for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&w.indexOf(f)<0&&(y[f]=u[f]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(u);g<f.length;g++)w.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(u,f[g])&&(y[f[g]]=u[f[g]]);return y};Object.defineProperty(a,"__esModule",{value:!0}),a.listChangesets=x,a.getChangeset=_;const b=r("../_osmFetch"),k=u=>{var{comments:w}=u,y=p(u,["comments"]);return Object.assign(Object.assign({},y),{created_at:new Date(y.created_at),closed_at:y.closed_at?new Date(y.closed_at):void 0,discussion:w==null?void 0:w.map(f=>Object.assign(Object.assign({},f),{date:new Date(f.date),uid:`${f.uid}`}))})};function x(u,w){return m(this,void 0,void 0,function*(){const{only:y}=u,f=p(u,["only"]);return(yield(0,b.osmFetch)("/0.6/changesets.json",Object.assign(Object.assign({},y&&{[y]:!0}),f),w)).changesets.map(k)})}function _(u){return m(this,arguments,void 0,function*(w,y=!0,f){const g=yield(0,b.osmFetch)(`/0.6/changeset/${w}.json`,y?{include_discussion:1}:{},f);return k(g.changeset)})}},{"../_osmFetch":16}],24:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(x,_,u,w){w===void 0&&(w=u);var y=Object.getOwnPropertyDescriptor(_,u);(!y||("get"in y?!_.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return _[u]}}),Object.defineProperty(x,w,y)}:function(x,_,u,w){w===void 0&&(w=u),x[w]=_[u]}),p=this&&this.__exportStar||function(x,_){for(var u in x)u!=="default"&&!Object.prototype.hasOwnProperty.call(_,u)&&m(_,x,u)};Object.defineProperty(a,"__esModule",{value:!0}),a.createOsmChangeXml=a.parseOsmChangeXml=void 0,p(r("./chunkOsmChange"),a),p(r("./createChangesetComment"),a),p(r("./getChangesetDiff"),a),p(r("./getChangesets"),a),p(r("./subscription"),a),p(r("./uploadChangeset"),a);var b=r("./_parseOsmChangeXml");Object.defineProperty(a,"parseOsmChangeXml",{enumerable:!0,get:function(){return b.parseOsmChangeXml}});var k=r("./_createOsmChangeXml");Object.defineProperty(a,"createOsmChangeXml",{enumerable:!0,get:function(){return k.createOsmChangeXml}})},{"./_createOsmChangeXml":18,"./_parseOsmChangeXml":19,"./chunkOsmChange":20,"./createChangesetComment":21,"./getChangesetDiff":22,"./getChangesets":23,"./subscription":25,"./uploadChangeset":26}],25:[function(r,c,a){var m=this&&this.__awaiter||function(x,_,u,w){function y(f){return f instanceof u?f:new u(function(g){g(f)})}return new(u||(u=Promise))(function(f,g){function E(S){try{P(w.next(S))}catch(I){g(I)}}function C(S){try{P(w.throw(S))}catch(I){g(I)}}function P(S){S.done?f(S.value):y(S.value).then(E,C)}P((w=w.apply(x,_||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.subscribeToChangeset=b,a.unsubscribeFromChangeset=k;const p=r("../_osmFetch");function b(x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/changeset/${x}/subscribe`,{},Object.assign(Object.assign({},_),{method:"POST"}))})}function k(x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/changeset/${x}/unsubscribe`,{},Object.assign(Object.assign({},_),{method:"POST"}))})}},{"../_osmFetch":16}],26:[function(r,c,a){var m=this&&this.__awaiter||function(_,u,w,y){function f(g){return g instanceof w?g:new w(function(E){E(g)})}return new(w||(w=Promise))(function(g,E){function C(I){try{S(y.next(I))}catch(U){E(U)}}function P(I){try{S(y.throw(I))}catch(U){E(U)}}function S(I){I.done?g(I.value):f(I.value).then(C,P)}S((y=y.apply(_,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.uploadChangeset=x;const p=r("../_osmFetch"),b=r("./_createOsmChangeXml"),k=r("./chunkOsmChange");function x(_,u,w){return m(this,void 0,void 0,function*(){const y=(0,k.chunkOsmChange)(u),f=[],g=(0,k.getOsmChangeSize)(u);for(const[E,C]of y.entries()){let P=_;y.length>1&&(w!=null&&w.onChunk?P=w.onChunk({featureCount:g,changesetIndex:E,changesetTotal:y.length}):P.chunk=`${E+1}/${y.length}`);const S=+(yield(0,p.osmFetch)("/0.6/changeset/create",void 0,Object.assign(Object.assign({},w),{method:"PUT",body:(0,b.createChangesetMetaXml)(P),headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})}))),I=(0,b.createOsmChangeXml)(S,C);yield(0,p.osmFetch)(`/0.6/changeset/${S}/upload`,void 0,Object.assign(Object.assign({},w),{method:"POST",body:I,headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})})),yield(0,p.osmFetch)(`/0.6/changeset/${S}/close`,void 0,Object.assign(Object.assign({},w),{method:"PUT"})),f.push(S)}return f[0]})}},{"../_osmFetch":16,"./_createOsmChangeXml":18,"./chunkOsmChange":20}],27:[function(r,c,a){var m=this&&this.__awaiter||function(x,_,u,w){function y(f){return f instanceof u?f:new u(function(g){g(f)})}return new(u||(u=Promise))(function(f,g){function E(S){try{P(w.next(S))}catch(I){g(I)}}function C(S){try{P(w.throw(S))}catch(I){g(I)}}function P(S){S.done?f(S.value):y(S.value).then(E,C)}P((w=w.apply(x,_||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getApiCapabilities=b,a.getCapabilities=k;const p=r("./_osmFetch");function b(x){return m(this,void 0,void 0,function*(){return(0,p.osmFetch)("/capabilities.json",void 0,x)})}function k(){return m(this,void 0,void 0,function*(){const x=yield b();return{limits:{maxArea:x.api.area.maximum,maxNoteArea:x.api.note_area.maximum,maxTracepointPerPage:x.api.tracepoints.per_page,maxWayNodes:x.api.waynodes.maximum,maxChangesetElements:x.api.changesets.maximum_elements,maxTimeout:x.api.timeout.seconds},policy:{imageryBlacklist:x.policy.imagery.blacklist.map(u=>u.regex)}}})}},{"./_osmFetch":16}],28:[function(r,c,a){var m=this&&this.__awaiter||function(y,f,g,E){function C(P){return P instanceof g?P:new g(function(S){S(P)})}return new(g||(g=Promise))(function(P,S){function I(F){try{M(E.next(F))}catch(H){S(H)}}function U(F){try{M(E.throw(F))}catch(H){S(H)}}function M(F){F.done?P(F.value):C(F.value).then(I,U)}M((E=E.apply(y,f||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getFeature=b,a.getFeatures=k,a.getFeatureAtVersion=x,a.getFeatureHistory=_,a.getWaysForNode=u,a.getRelationsForElement=w;const p=r("./_osmFetch");function b(y,f,g,E){return m(this,void 0,void 0,function*(){const C=g&&y!=="node"?"/full":"";return(yield(0,p.osmFetch)(`/0.6/${y}/${f}${C}.json`,void 0,E)).elements})}function k(y,f,g){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/${y}s.json?${y}s=${f.join(",")}`,void 0,g)).elements})}function x(y,f,g,E){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/${y}/${f}/${g}.json`,void 0,E)).elements[0]})}function _(y,f,g){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/${y}/${f}/history.json`,void 0,g)).elements})}function u(y,f){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/node/${y}/ways.json`,void 0,f)).elements})}function w(y,f,g){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/${y}/${f}/relations.json`,void 0,g)).elements})}},{"./_osmFetch":16}],29:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getMapData=b;const p=r("./_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)("/0.6/map.json",{bbox:k},x)).elements})}},{"./_osmFetch":16}],30:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getPermissions=b;const p=r("./_osmFetch");function b(k){return m(this,void 0,void 0,function*(){return(0,p.osmFetch)("/0.6/permissions.json",void 0,k)})}},{"./_osmFetch":16}],31:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getUIdFromDisplayName=b;const p=r("./changesets");function b(k){return m(this,void 0,void 0,function*(){const x=yield(0,p.listChangesets)({display_name:k});if(!x.length)throw new Error("Could not get uid because the user has never edited the map");return x[0].uid})}},{"./changesets":24}],32:[function(r,c,a){var m=this&&this.__awaiter||function(u,w,y,f){function g(E){return E instanceof y?E:new y(function(C){C(E)})}return new(y||(y=Promise))(function(E,C){function P(U){try{I(f.next(U))}catch(M){C(M)}}function S(U){try{I(f.throw(U))}catch(M){C(M)}}function I(U){U.done?E(U.value):g(U.value).then(P,S)}I((f=f.apply(u,w||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getUser=b,a.getUsers=k,a.getUserBlockById=x,a.getOwnUserBlocks=_;const p=r("./_osmFetch");function b(u,w){return m(this,void 0,void 0,function*(){const y=yield(0,p.osmFetch)(`/0.6/user/${u==="me"?"details":u}.json`,void 0,w);return Object.assign(Object.assign({},y.user),{account_created:new Date(y.user.account_created)})})}function k(u,w){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)("/0.6/users",{users:u},w)).users.map(f=>Object.assign(Object.assign({},f),{account_created:new Date(f.account_created)}))})}function x(u,w){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/user_blocks/${u}.json`,void 0,w)).user_block})}function _(u){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)("/0.6/user/blocks/active",void 0,u)).user_blocks})}},{"./_osmFetch":16}],33:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./changesets"),a),p(r("./messages"),a),p(r("./notes"),a),p(r("./preferences"),a),p(r("./getCapabilities"),a),p(r("./getFeature"),a),p(r("./getMapData"),a),p(r("./getPermissions"),a),p(r("./getUIdFromDisplayName"),a),p(r("./getUser"),a)},{"./changesets":24,"./getCapabilities":27,"./getFeature":28,"./getMapData":29,"./getPermissions":30,"./getUIdFromDisplayName":31,"./getUser":32,"./messages":36,"./notes":41,"./preferences":46}],34:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.deleteMessage=b;const p=r("../_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/user/messages/${k}.json`,{},Object.assign(Object.assign({},x),{method:"DELETE"}))).message})}},{"../_osmFetch":16}],35:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getMessage=b;const p=r("../_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,x)).message})}},{"../_osmFetch":16}],36:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./deleteMessage"),a),p(r("./getMessage"),a),p(r("./listMessages"),a),p(r("./sendMessage"),a),p(r("./updateMessageReadStatus"),a)},{"./deleteMessage":34,"./getMessage":35,"./listMessages":37,"./sendMessage":38,"./updateMessageReadStatus":39}],37:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.listMessages=b;const p=r("../_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,x)).messages})}},{"../_osmFetch":16}],38:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.sendMessage=b;const p=r("../_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)("/0.6/user/messages.json",k,Object.assign(Object.assign({},x),{method:"POST"}))).message})}},{"../_osmFetch":16}],39:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.updateMessageReadStatus=b;const p=r("../_osmFetch");function b(k,x,_){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/user/messages/${k}.json`,{read_status:x},Object.assign(Object.assign({},_),{method:"POST"}))).message})}},{"../_osmFetch":16}],40:[function(r,c,a){var m=this&&this.__awaiter||function(w,y,f,g){function E(C){return C instanceof f?C:new f(function(P){P(C)})}return new(f||(f=Promise))(function(C,P){function S(M){try{U(g.next(M))}catch(F){P(F)}}function I(M){try{U(g.throw(M))}catch(F){P(F)}}function U(M){M.done?C(M.value):E(M.value).then(S,I)}U((g=g.apply(w,y||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getNotesForQuery=x,a.getNotesForArea=_,a.getNote=u;const p=r("../_osmFetch"),b=w=>{const[y,f]=w.geometry.coordinates;return Object.assign(Object.assign({},w.properties),{location:{lat:f,lng:y}})};function k(w,y,f){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)(`/0.6/notes${y?"/search":""}.json`,w,f)).features.map(b)})}function x(w,y){return k(w,!0,y)}function _(w,y){return k({bbox:w},!1,y)}function u(w,y){return m(this,void 0,void 0,function*(){const f=yield(0,p.osmFetch)(`/0.6/notes/${w}.json`,void 0,y);return b(f)})}},{"../_osmFetch":16}],41:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./getNotes"),a),p(r("./noteActions"),a),p(r("./subscription"),a)},{"./getNotes":40,"./noteActions":42,"./subscription":43}],42:[function(r,c,a){var m=this&&this.__awaiter||function(_,u,w,y){function f(g){return g instanceof w?g:new w(function(E){E(g)})}return new(w||(w=Promise))(function(g,E){function C(I){try{S(y.next(I))}catch(U){E(U)}}function P(I){try{S(y.throw(I))}catch(U){E(U)}}function S(I){I.done?g(I.value):f(I.value).then(C,P)}S((y=y.apply(_,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.createNote=b,a.commentOnNote=k,a.reopenNote=x;const p=r("../_osmFetch");function b(_,u,w,y){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)("/0.6/notes",{lat:_,lon:u,text:w},y)})}function k(_,u,w){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/notes/${_}/comment`,{text:u},w)})}function x(_,u,w){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/notes/${_}/reopen`,{text:u},w)})}},{"../_osmFetch":16}],43:[function(r,c,a){var m=this&&this.__awaiter||function(x,_,u,w){function y(f){return f instanceof u?f:new u(function(g){g(f)})}return new(u||(u=Promise))(function(f,g){function E(S){try{P(w.next(S))}catch(I){g(I)}}function C(S){try{P(w.throw(S))}catch(I){g(I)}}function P(S){S.done?f(S.value):y(S.value).then(E,C)}P((w=w.apply(x,_||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.subscribeToNote=b,a.unsubscribeFromNote=k;const p=r("../_osmFetch");function b(x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/notes/${x}/subscription`,{},Object.assign(Object.assign({},_),{method:"POST"}))})}function k(x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/notes/${x}/subscription`,{},Object.assign(Object.assign({},_),{method:"DELETE"}))})}},{"../_osmFetch":16}],44:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.deletePreferences=b;const p=r("../_osmFetch");function b(k,x){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},x),{method:"DELETE"}))})}},{"../_osmFetch":16}],45:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getPreferences=b;const p=r("../_osmFetch");function b(k){return m(this,void 0,void 0,function*(){return(yield(0,p.osmFetch)("/0.6/user/preferences.json",void 0,k)).preferences})}},{"../_osmFetch":16}],46:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./deletePreferences"),a),p(r("./getPreferences"),a),p(r("./updatePreferences"),a)},{"./deletePreferences":44,"./getPreferences":45,"./updatePreferences":47}],47:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.updatePreferences=b;const p=r("../_osmFetch");function b(k,x,_){return m(this,void 0,void 0,function*(){yield(0,p.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},_),{method:"PUT",body:x}))})}},{"../_osmFetch":16}],48:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.createPopup=m;function m(p){let b=!1;return new Promise((k,x)=>{const[_,u]=[600,550],w=Object.entries({width:_,height:u,left:window.screen.width/2-_/2,top:window.screen.height/2-u/2}).map(([g,E])=>`${g}=${E}`).join(","),y=window.open("about:blank","oauth_window",w);if(!y)throw new Error("Popup was blocked");y.location=p,window.authComplete=g=>{k(g),b=!0};const f=setInterval(()=>{y.closed&&(b||x(new Error("Cancelled")),clearInterval(f))},500)})}},{}],49:[function(r,c,a){var m=this&&this.__awaiter||function(k,x,_,u){function w(y){return y instanceof _?y:new _(function(f){f(y)})}return new(_||(_=Promise))(function(y,f){function g(P){try{C(u.next(P))}catch(S){f(S)}}function E(P){try{C(u.throw(P))}catch(S){f(S)}}function C(P){P.done?y(P.value):w(P.value).then(g,E)}C((u=u.apply(k,x||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.exchangeCode=b;const p=r("./helpers");function b(k,x){return m(this,arguments,void 0,function*(_,{options:u,pkceVerifier:w,state:y}){const f=new URL(_).searchParams,g=f.get("error_description"),E=f.get("code"),C=f.get("state");if(g)throw new Error(g);if(!E)throw new Error("No code in OAuth response");if(!w||!y)throw new Error("No login in progress");if(y!==C)throw new Error("State Mismatch");const P={grant_type:"authorization_code",code:E,redirect_uri:u.redirectUrl,client_id:u.clientId,code_verifier:w},S=`${(0,p.getOAuthBaseUrl)()}/oauth2/token?${new URLSearchParams(P).toString()}`,U=yield(yield fetch(S,{method:"POST",body:"",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).json();if("error_description"in U)throw new Error(U.error_description);const M={issuedAt:new Date(U.created_at*1e3).toISOString(),accessToken:U.access_token,scopes:U.scope.split(" ")};return localStorage.setItem("__osmAuth",JSON.stringify(M)),delete window.authComplete,M})}},{"./helpers":50}],50:[function(r,c,a){var m=this&&this.__awaiter||function(_,u,w,y){function f(g){return g instanceof w?g:new w(function(E){E(g)})}return new(w||(w=Promise))(function(g,E){function C(I){try{S(y.next(I))}catch(U){E(U)}}function P(I){try{S(y.throw(I))}catch(U){E(U)}}function S(I){I.done?g(I.value):f(I.value).then(C,P)}S((y=y.apply(_,u||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.sha256=b,a.getRandomString=k,a.getOAuthBaseUrl=x;const p=r("../config");function b(_){return m(this,void 0,void 0,function*(){const u=new TextEncoder().encode(_),w=yield window.crypto.subtle.digest("SHA-256",u);return btoa(String.fromCharCode(...new Uint8Array(w))).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")})}function k(){return[...window.crypto.getRandomValues(new Uint32Array(32))].map(_=>`0${_.toString(16)}`.slice(-2)).join("")}function x(){let _=(0,p.getConfig)().apiUrl;return _==="https://api.openstreetmap.org"&&(_="https://www.openstreetmap.org"),_}},{"../config":53}],51:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./oauth2"),a)},{"./oauth2":52}],52:[function(r,c,a){var m=this&&this.__awaiter||function(y,f,g,E){function C(P){return P instanceof g?P:new g(function(S){S(P)})}return new(g||(g=Promise))(function(P,S){function I(F){try{M(E.next(F))}catch(H){S(H)}}function U(F){try{M(E.throw(F))}catch(H){S(H)}}function M(F){F.done?P(F.value):C(F.value).then(I,U)}M((E=E.apply(y,f||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.isLoggedIn=a.getAuthToken=a.authReady=void 0,a.login=x,a.logout=w;const p=r("./createPopup"),b=r("./exchangeCode"),k=r("./helpers");function x(y){return m(this,void 0,void 0,function*(){if(!y.redirectUrl)throw new Error("You must include the 'redirectUrl' option");if(!y.clientId)throw new Error("You must include the 'clientId' option");if(!y.scopes)throw new Error("You must include the 'scopes' option");const f=(0,k.getRandomString)(),g=(0,k.getRandomString)(),E=yield(0,k.sha256)(g),C={scope:y.scopes.join(" "),include_granted_scopes:"true",response_type:"code",state:f,redirect_uri:y.redirectUrl,client_id:y.clientId,code_challenge_method:"S256",code_challenge:E},P=`/oauth2/authorize?${new URLSearchParams(C).toString()}`,S=y.switchUser?`/logout?referer=${encodeURIComponent(`/login?referer=${encodeURIComponent(P)}`)}`:P,I=(0,k.getOAuthBaseUrl)()+S,U={state:f,pkceVerifier:g,options:y};if(y.mode==="popup"){const M=yield(0,p.createPopup)(I);return(0,b.exchangeCode)(M,U)}if(y.mode==="redirect"){localStorage.set("__osmAuthTemp",JSON.stringify(U)),window.location.replace(I);return}throw new Error("options.mode must be 'popup' or 'redirect'")})}a.authReady=m(void 0,void 0,void 0,function*(){var y;if(typeof window>"u")return;const f=window.location.href,g=localStorage.getItem("__osmAuthTemp");if(new URL(f).searchParams.get("code")){if(!((y=window.opener)===null||y===void 0)&&y.authComplete)window.opener.authComplete(f),window.close();else if(g)try{const E=JSON.parse(g);yield(0,b.exchangeCode)(f,E),localStorage.removeItem("__osmAuthTemp")}catch(E){console.error("OSM Auth Error",E)}}});const _=()=>{try{const y=localStorage.getItem("__osmAuth");return y?JSON.parse(y).accessToken:void 0}catch{return}};a.getAuthToken=_;const u=()=>!!(0,a.getAuthToken)();a.isLoggedIn=u;function w(){localStorage.removeItem("__osmAuth")}},{"./createPopup":48,"./exchangeCode":49,"./helpers":50}],53:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getConfig=void 0,a.configure=b;const m={apiUrl:"https://api.openstreetmap.org",userAgent:"https://github.com/osmlab/osm-api-js"},p=()=>m;a.getConfig=p;function b(k){Object.assign(m,k)}},{}],54:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./api"),a),p(r("./auth"),a),p(r("./config"),a),p(r("./types"),a)},{"./api":33,"./auth":51,"./config":53,"./types":58}],55:[function(r,c,a){Object.defineProperty(a,"__esModule",{value:!0})},{}],56:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],57:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],58:[function(r,c,a){var m=this&&this.__createBinding||(Object.create?function(b,k,x,_){_===void 0&&(_=x);var u=Object.getOwnPropertyDescriptor(k,x);(!u||("get"in u?!k.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return k[x]}}),Object.defineProperty(b,_,u)}:function(b,k,x,_){_===void 0&&(_=x),b[_]=k[x]}),p=this&&this.__exportStar||function(b,k){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(k,x)&&m(k,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(r("./changesets"),a),p(r("./features"),a),p(r("./general"),a),p(r("./messages"),a),p(r("./notes"),a),p(r("./osmPatch"),a),p(r("./user"),a)},{"./changesets":55,"./features":56,"./general":57,"./messages":59,"./notes":60,"./osmPatch":61,"./user":62}],59:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],60:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],61:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}],62:[function(r,c,a){arguments[4][55][0].apply(a,arguments)},{dup:55}]},{},[54])(54)})}(En)),En.exports}var gu=_u();function On(n){return du({async fetcher(s){return await gu.getFeatures(n,s)},resolver:(s,r)=>s.find(c=>c.id==r),scheduler:mu({windowMs:10,maxBatchSize:700})})}const xo={node:On("node"),way:On("way"),relation:On("relation")};async function Po(n,s){const r=await xo[n].fetch(s);if(r===void 0)throw new Error(`Item not found: ${n} ${s}`);return r}async function wu(n,s){return(await Promise.all(s.map(r=>xo[n].fetch(r)))).filter(Boolean)}const yu=ve({__name:"OsmPolyline",props:{latLngs:{},options:{},popupContent:{}},setup(n){const s=n,r=bo();return yo(()=>s.latLngs,()=>{if(!s.latLngs||!r.value)return;const c=Zn.polyline(s.latLngs,s.options).addTo(r.value);s.popupContent&&c.bindPopup(s.popupContent)},{immediate:!0}),(c,a)=>oi(c.$slots,"default")}}),vu=ve({__name:"OsmWay",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(n){const s=n,r=ji([]);return Zi(async()=>{const c=await Po("way",s.id),a=await wu("node",c.nodes);r.value=a.map(m=>[m.lat,m.lon])}),(c,a)=>(se(),Ui(yu,{"lat-lngs":r.value,options:{color:s.stroke,weight:s.strokeWidth},"popup-content":s.popupContent},{default:jn(()=>[oi(c.$slots,"default")]),_:3},8,["lat-lngs","options","popup-content"]))}}),ku=ve({__name:"OsmRelation",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(n){const s=n,r=ji([]);return Zi(async()=>{const c=await Po("relation",Number(s.id));r.value=c.members.filter(a=>a.type==="way").map(a=>a.ref)||[]}),(c,a)=>(se(!0),Ii(vo,null,ko(r.value,m=>(se(),Ui(vu,{key:m,id:m,stroke:s.stroke,"stroke-width":s.strokeWidth,"popup-content":s.popupContent},{default:jn(()=>[oi(c.$slots,"default")]),_:2},1032,["id","stroke","stroke-width","popup-content"]))),128))}});function Ft(n){return s=>typeof s=="string"&&new RegExp(n.source,n.flags).test(s)}const bu=Ft(/^[1-9][0-9]*$/),Un=Ft(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)$/),xu=Ft(/^E[1-9][0-9]*$/),Bi=Ft(/^Q[1-9][0-9]*$/),$i=Ft(/^P[1-9][0-9]*$/),To=Ft(/^L[1-9][0-9]*$/),Eo=Ft(/^L[1-9][0-9]*-F[1-9][0-9]*$/),Oo=Ft(/^L[1-9][0-9]*-S[1-9][0-9]*$/),Pu=Ft(/^M[1-9][0-9]*$/),Tu=Ft(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),Eu=Ft(/^[0-9a-f]{40}$/),Lo=Ft(/^\d+$/),So=Ft(/^(Q|P|L|M)[1-9][0-9]*$/);function Ou(n){if(typeof n!="string")return!1;const[s,r]=n.split("#");return Un(s)&&$i(r)}function Co(n){return typeof n!="string"?!1:n.startsWith("Item:")?Bi(n.substring(5)):n.startsWith("Lexeme:")?To(n.substring(7)):n.startsWith("Property:")?$i(n.substring(9)):Bi(n)}function Lu(n){if(!So(n))throw new Error(`invalid entity id: ${n}`);return n.replace(/^(Q|P|L|M)/,"")}function Su(n,s){let r=`https://commons.wikimedia.org/wiki/Special:FilePath/${n}`;return typeof s=="number"&&(r+=`?width=${s}`),r}function Cu(n){const s=n.split(/[$-]/);if(s.length===6)return s[0].toUpperCase();if(s.length===7)return s.slice(0,2).join("-").toUpperCase();throw new Error(`invalid guid: ${n}`)}const Au=Object.freeze(Object.defineProperty({__proto__:null,getEntityIdFromGuid:Cu,getImageUrl:Su,getNumericId:Lu,isEntityId:Un,isEntityPageTitle:Co,isEntitySchemaId:xu,isFormId:Eo,isGuid:Tu,isHash:Eu,isItemId:Bi,isLexemeId:To,isMediaInfoId:Pu,isNonNestedEntityId:So,isNumericId:bu,isPropertyClaimsId:Ou,isPropertyId:$i,isRevisionId:Lo,isSenseId:Oo},Symbol.toStringTag,{value:"Module"}));function Kt(n){return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}function $n(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}const Ao=n=>encodeURIComponent(n).replace(/[!'()*]/g,Nu),Mu=n=>n.replace(/\s/g,"_");function Mo(n){return Array.from(new Set(n))}const Nu=n=>"%"+n.charCodeAt(0).toString(16);function ae(n){if(n.length!==1||!$n(n[0]))throw new Error(`Since wikibase-sdk v9.0.0, this function expects arguments to be passed in an object
    See https://github.com/maxlath/wikibase-sdk/blob/main/CHANGELOG.md`)}function ii(n,s){return typeof s=="string"&&n.includes(s)}function An(n,s){return Object.prototype.hasOwnProperty.call(n,s)}function si(n){return Object.entries(n)}function Iu(n){return Object.keys(n)}function qn(n){typeof n=="object"&&(n=n.time);const s=n[0];let[r,c]=n.slice(1).split("T");r=r.replace(/-00/g,"-01");const a=`${r}T${c}`;return Bu(s,a)}const Bu=(n,s)=>{const r=s.split("-")[0];return n==="-"||r.length>4?Fu(n,s,r):new Date(s)},Fu=(n,s,r)=>{let c;return r.length===4?c=`${n}00${s}`:r.length===5?c=`${n}0${s}`:c=n+s,new Date(c)},Ru=n=>qn(n).getTime(),zu=n=>qn(n).toISOString(),ju=n=>{if(typeof n=="object"){const{time:s,precision:r}=n;r===9?n=s.replace("-01-01T","-00-00T"):r===10?n=s.replace("-01T","-00T"):n=s}return n.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")},No=Ru,Io=n=>{try{return zu(n)}catch{const{sign:r,yearMonthDay:c,withinDay:a}=Fo(n);return`${r}${c}T${a}`}},Bo=n=>{try{return ju(n)}catch{const{sign:r,yearMonthDay:c}=Fo(n);return`${r}${c}`}};function Fo(n){n=typeof n=="string"?n:n.time;const s=n[0];let[r,c]=n.slice(1).split("T");if(!s||!r||!c)throw new Error("TimeInput is invalid: "+JSON.stringify(n));return r=r.replace(/-00/g,"-01"),{sign:s,yearMonthDay:r,withinDay:c}}const Zu=Object.freeze(Object.defineProperty({__proto__:null,wikibaseTimeToDateObject:qn,wikibaseTimeToEpochTime:No,wikibaseTimeToISOString:Io,wikibaseTimeToSimpleDay:Bo},Symbol.toStringTag,{value:"Module"}));function ie(n){return n.value}function Uu(n,s){return s.keepRichValues?n.value:n.value.text}function Me(n,s){const{entityPrefix:r}=s,{value:c}=n;let a;return c.id?a=c.id:a=`${$u[c["entity-type"]]}${c["numeric-id"]}`,typeof r=="string"?`${r}:${a}`:a}const $u={item:"Q","entity-schema":"E",lexeme:"L",property:"P",form:"F",sense:"S"};function qu(n,s){const{value:r}=n,c=parseFloat(r.amount);if(s.keepRichValues){const a={amount:parseFloat(r.amount),unit:r.unit.replace(/^https?:\/\/.*\/entity\//,"")};return r.upperBound!=null&&(a.upperBound=parseFloat(r.upperBound)),r.lowerBound!=null&&(a.lowerBound=parseFloat(r.lowerBound)),a}else return c}function Du(n,s){return s.keepRichValues?n.value:[n.value.latitude,n.value.longitude]}function Hu(n,s){let r;if(typeof s.timeConverter=="function"?r=s.timeConverter(n.value):r=Wu(s.timeConverter)(n.value),s.keepRichValues){const{timezone:c,before:a,after:m,precision:p,calendarmodel:b}=n.value;return{time:r,timezone:c,before:a,after:m,precision:p,calendarmodel:b}}else return r}const Vu={iso:Io,epoch:No,"simple-day":Bo,none:n=>typeof n=="string"?n:n.time};function Wu(n="iso"){const s=Vu[n];if(!s)throw new Error(`invalid converter key: ${JSON.stringify(n).substring(0,100)}`);return s}const Fi={commonsMedia:ie,"external-id":ie,"entity-schema":Me,"geo-shape":ie,"globe-coordinate":Du,localMedia:ie,math:ie,monolingualtext:Uu,"musical-notation":ie,quantity:qu,string:ie,"tabular-data":ie,time:Hu,url:ie,"wikibase-form":Me,"wikibase-item":Me,"wikibase-lexeme":Me,"wikibase-property":Me,"wikibase-sense":Me},Gu={"musical notation":Fi["musical-notation"],globecoordinate:Fi["globe-coordinate"]};function Xu(n,s,r){let c;if(n?c=Fi[n]||Gu[n]:c=Fi[s.type],!c)throw new Error(`${n} claim parser isn't implemented. Please report to https://github.com/maxlath/wikibase-sdk/issues`);return c(s,r)}function Dn(n){const s={};for(const r of n){const{rank:c}=r;s[c]=s[c]||[],s[c].push(r)}return s.preferred||s.normal||[]}function Ro(n){return n.filter(s=>s.rank!=="deprecated")}function Ju(n){const s={};for(const[r,c]of si(n))s[r]=Dn(c);return s}const Ku=Object.freeze(Object.defineProperty({__proto__:null,nonDeprecatedPropertyClaims:Ro,truthyClaims:Ju,truthyPropertyClaims:Dn},Symbol.toStringTag,{value:"Module"}));function qi(n,s={}){const{keepTypes:r,keepSnaktypes:c,keepHashes:a}=Hn(s);let m;const{datatype:p,datavalue:b,snaktype:k,hash:x}=n;if(b)m=Xu(p,b,s);else if(k==="somevalue")m=s.somevalueValue;else if(k==="novalue")m=s.novalueValue;else throw new Error("no datavalue or special snaktype found");if(r||c||a){const _={value:m};return r&&(_.type=p),c&&(_.snaktype=k),a&&(_.hash=x),_}else return m}function zo(n,s={}){const{keepQualifiers:r,keepReferences:c,keepIds:a,keepTypes:m,keepSnaktypes:p,keepRanks:b}=Hn(s),{mainsnak:k,rank:x}=n,_=qi(k,s);if(!(r||c||a||m||p||b))return _;let u={value:_};return $n(_)&&"value"in _?u=_:u={value:_},b&&(u.rank=x),r&&(u.qualifiers=$o(n.qualifiers,s)),c&&(n.references=n.references||[],u.references=qo(n.references,s)),a&&(u.id=n.id),u}function ni(n,s={}){const{propertyPrefix:r}=s,c={};for(let[a,m]of si(n))r&&(a=r+":"+a),c[a]=jo(m,s);return c}function jo(n,s={}){if(n==null||n.length===0)return[];const{keepNonTruthy:r,keepNonDeprecated:c}=Hn(s),{minTimePrecision:a}=s;c?n=Ro(n):r||(n=Dn(n));const m=[];for(const p of n)if(!Ho(p.mainsnak,a)){const k=zo(p,s);k!==void 0&&m.push(k)}return m[0]&&typeof m[0]!="object"?Mo(m):m}function Zo(n={},s={}){const{propertyPrefix:r}=s,c={};for(let[a,m]of si(n))r&&(a=r+":"+a),c[a]=Uo(m,s);return c}function Uo(n,s={}){if(n==null||n.length===0)return[];const{minTimePrecision:r}=s,c=[];for(const a of n)if(!Ho(a,r)){const p=qi(a,s);p!==void 0&&c.push(p)}return c[0]&&typeof c[0]!="object"?Mo(c):c}function $o(n,s={}){return Zo(n,s)}function Yu(n,s={}){return Uo(n,s)}function Qu(n,s={}){return qi(n,s)}function qo(n,s={}){return n.map(r=>Do(r,s))}function Do(n,s={}){const r=Zo(n.snaks,s);return s.keepHashes?{snaks:r,hash:n.hash}:r}const tc=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks","keepRichValues"],Hn=(n={})=>{if(n.keepAll)for(const s of tc)n[s]==null&&(n[s]=!0);return n};function Ho(n,s){if(s==null||n.datatype!=="time"||n.snaktype!=="value")return!1;const{value:r}=n.datavalue;return r.precision<s}function ai(n){const s={};for(const[r,c]of si(n))s[r]=c!=null?c.value:null;return s}function ec(n){const s={};for(const[r,c]of si(n))s[r]=c!=null?c.map(a=>a.value):[];return s}function Vo(n){return ai(n)}function Wo(n){return ai(n)}function Go(n){return ec(n)}function Xo(n){return ai(n)}function Jo(n){return ai(n)}function Ko(n){return ai(n)}const Yo=(n,s={})=>{const{id:r,representations:c,grammaticalFeatures:a,claims:m}=n;if(!Eo(r))throw new Error("invalid form object");return{id:r,representations:Jo(c),grammaticalFeatures:a,claims:ni(m,s)}},Qo=(n,s={})=>n.map(r=>Yo(r,s)),ts=(n,s={})=>{const{id:r,glosses:c,claims:a}=n;if(!Oo(r))throw new Error("invalid sense object");return{id:r,glosses:Ko(c),claims:ni(a,s)}};function es(n,s={}){return n.map(r=>ts(r,s))}const Mn={commonswiki:"commons",foundationwiki:"foundation",mediawikiwiki:"mediawiki",metawiki:"meta",outreachwiki:"outreach",sourceswiki:"sources",specieswiki:"species",wikidatawiki:"wikidata",wikifunctionswiki:"wikifunctions",wikimaniawiki:"wikimania"},Vn=["aawiki","aawikibooks","aawiktionary","abwiki","abwiktionary","acewiki","adywiki","afwiki","afwikibooks","afwikiquote","afwiktionary","akwiki","akwikibooks","akwiktionary","alswiki","alswikibooks","alswikiquote","alswiktionary","altwiki","amiwiki","amwiki","amwikiquote","amwiktionary","angwiki","angwikibooks","angwikiquote","angwikisource","angwiktionary","annwiki","anpwiki","anwiki","anwiktionary","arcwiki","arwiki","arwikibooks","arwikinews","arwikiquote","arwikisource","arwikiversity","arwiktionary","arywiki","arzwiki","astwiki","astwikibooks","astwikiquote","astwiktionary","aswiki","aswikibooks","aswikiquote","aswikisource","aswiktionary","atjwiki","avkwiki","avwiki","avwiktionary","awawiki","aywiki","aywikibooks","aywiktionary","azbwiki","azwiki","azwikibooks","azwikiquote","azwikisource","azwiktionary","banwiki","banwikisource","barwiki","bat_smgwiki","bawiki","bawikibooks","bbcwiki","bclwiki","bclwikiquote","bclwikisource","bclwiktionary","bdrwiki","be_x_oldwiki","bewiki","bewikibooks","bewikiquote","bewikisource","bewiktionary","bewwiki","bgwiki","bgwikibooks","bgwikinews","bgwikiquote","bgwikisource","bgwiktionary","bhwiki","bhwiktionary","biwiki","biwikibooks","biwiktionary","bjnwiki","bjnwikiquote","bjnwiktionary","blkwiki","blkwiktionary","bmwiki","bmwikibooks","bmwikiquote","bmwiktionary","bnwiki","bnwikibooks","bnwikiquote","bnwikisource","bnwikivoyage","bnwiktionary","bowiki","bowikibooks","bowiktionary","bpywiki","brwiki","brwikiquote","brwikisource","brwiktionary","bswiki","bswikibooks","bswikinews","bswikiquote","bswikisource","bswiktionary","btmwiki","btmwiktionary","bugwiki","bxrwiki","cawiki","cawikibooks","cawikinews","cawikiquote","cawikisource","cawiktionary","cbk_zamwiki","cdowiki","cebwiki","cewiki","chowiki","chrwiki","chrwiktionary","chwiki","chwikibooks","chwiktionary","chywiki","ckbwiki","ckbwiktionary","commonswiki","cowiki","cowikibooks","cowikiquote","cowiktionary","crhwiki","crwiki","crwikiquote","crwiktionary","csbwiki","csbwiktionary","cswiki","cswikibooks","cswikinews","cswikiquote","cswikisource","cswikiversity","cswikivoyage","cswiktionary","cuwiki","cvwiki","cvwikibooks","cywiki","cywikibooks","cywikiquote","cywikisource","cywiktionary","dagwiki","dawiki","dawikibooks","dawikiquote","dawikisource","dawiktionary","dewiki","dewikibooks","dewikinews","dewikiquote","dewikisource","dewikiversity","dewikivoyage","dewiktionary","dgawiki","dinwiki","diqwiki","diqwiktionary","dsbwiki","dtpwiki","dtywiki","dvwiki","dvwiktionary","dzwiki","dzwiktionary","eewiki","elwiki","elwikibooks","elwikinews","elwikiquote","elwikisource","elwikiversity","elwikivoyage","elwiktionary","emlwiki","enwiki","enwikibooks","enwikinews","enwikiquote","enwikisource","enwikiversity","enwikivoyage","enwiktionary","eowiki","eowikibooks","eowikinews","eowikiquote","eowikisource","eowikivoyage","eowiktionary","eswiki","eswikibooks","eswikinews","eswikiquote","eswikisource","eswikiversity","eswikivoyage","eswiktionary","etwiki","etwikibooks","etwikiquote","etwikisource","etwiktionary","euwiki","euwikibooks","euwikiquote","euwikisource","euwiktionary","extwiki","fatwiki","fawiki","fawikibooks","fawikinews","fawikiquote","fawikisource","fawikivoyage","fawiktionary","ffwiki","fiu_vrowiki","fiwiki","fiwikibooks","fiwikinews","fiwikiquote","fiwikisource","fiwikiversity","fiwikivoyage","fiwiktionary","fjwiki","fjwiktionary","fonwiki","foundationwiki","fowiki","fowikisource","fowiktionary","frpwiki","frrwiki","frwiki","frwikibooks","frwikinews","frwikiquote","frwikisource","frwikiversity","frwikivoyage","frwiktionary","furwiki","fywiki","fywikibooks","fywiktionary","gagwiki","ganwiki","gawiki","gawikibooks","gawikiquote","gawiktionary","gcrwiki","gdwiki","gdwiktionary","glkwiki","glwiki","glwikibooks","glwikiquote","glwikisource","glwiktionary","gnwiki","gnwikibooks","gnwiktionary","gomwiki","gomwiktionary","gorwiki","gorwikiquote","gorwiktionary","gotwiki","gotwikibooks","gpewiki","gucwiki","gurwiki","guwiki","guwikibooks","guwikiquote","guwikisource","guwiktionary","guwwiki","guwwikinews","guwwikiquote","guwwiktionary","gvwiki","gvwiktionary","hakwiki","hawiki","hawiktionary","hawwiki","hewiki","hewikibooks","hewikinews","hewikiquote","hewikisource","hewikivoyage","hewiktionary","hifwiki","hifwiktionary","hiwiki","hiwikibooks","hiwikiquote","hiwikisource","hiwikiversity","hiwikivoyage","hiwiktionary","howiki","hrwiki","hrwikibooks","hrwikiquote","hrwikisource","hrwiktionary","hsbwiki","hsbwiktionary","htwiki","htwikisource","huwiki","huwikibooks","huwikinews","huwikiquote","huwikisource","huwiktionary","hywiki","hywikibooks","hywikiquote","hywikisource","hywiktionary","hywwiki","hzwiki","iawiki","iawikibooks","iawiktionary","ibawiki","idwiki","idwikibooks","idwikiquote","idwikisource","idwikivoyage","idwiktionary","iewiki","iewikibooks","iewiktionary","iglwiki","igwiki","igwikiquote","igwiktionary","iiwiki","ikwiki","ikwiktionary","ilowiki","inhwiki","iowiki","iowiktionary","iswiki","iswikibooks","iswikiquote","iswikisource","iswiktionary","itwiki","itwikibooks","itwikinews","itwikiquote","itwikisource","itwikiversity","itwikivoyage","itwiktionary","iuwiki","iuwiktionary","jamwiki","jawiki","jawikibooks","jawikinews","jawikiquote","jawikisource","jawikiversity","jawikivoyage","jawiktionary","jbowiki","jbowiktionary","jvwiki","jvwikisource","jvwiktionary","kaawiki","kaawiktionary","kabwiki","kawiki","kawikibooks","kawikiquote","kawikisource","kawiktionary","kbdwiki","kbdwiktionary","kbpwiki","kcgwiki","kcgwiktionary","kgewiki","kgwiki","kiwiki","kjwiki","kkwiki","kkwikibooks","kkwikiquote","kkwiktionary","klwiki","klwiktionary","kmwiki","kmwikibooks","kmwiktionary","kncwiki","knwiki","knwikibooks","knwikiquote","knwikisource","knwiktionary","koiwiki","kowiki","kowikibooks","kowikinews","kowikiquote","kowikisource","kowikiversity","kowiktionary","krcwiki","krwiki","krwikiquote","kshwiki","kswiki","kswikibooks","kswikiquote","kswiktionary","kuswiki","kuwiki","kuwikibooks","kuwikiquote","kuwiktionary","kvwiki","kwwiki","kwwikiquote","kwwiktionary","kywiki","kywikibooks","kywikiquote","kywiktionary","ladwiki","lawiki","lawikibooks","lawikiquote","lawikisource","lawiktionary","lbewiki","lbwiki","lbwikibooks","lbwikiquote","lbwiktionary","lezwiki","lfnwiki","lgwiki","lijwiki","lijwikisource","liwiki","liwikibooks","liwikinews","liwikiquote","liwikisource","liwiktionary","lldwiki","lmowiki","lmowiktionary","lnwiki","lnwikibooks","lnwiktionary","lowiki","lowiktionary","lrcwiki","ltgwiki","ltwiki","ltwikibooks","ltwikiquote","ltwikisource","ltwiktionary","lvwiki","lvwikibooks","lvwiktionary","madwiki","madwiktionary","maiwiki","map_bmswiki","mdfwiki","mediawikiwiki","metawiki","mgwiki","mgwikibooks","mgwiktionary","mhrwiki","mhwiki","mhwiktionary","minwiki","minwiktionary","miwiki","miwikibooks","miwiktionary","mkwiki","mkwikibooks","mkwikisource","mkwiktionary","mlwiki","mlwikibooks","mlwikiquote","mlwikisource","mlwiktionary","mniwiki","mniwiktionary","mnwiki","mnwikibooks","mnwiktionary","mnwwiki","mnwwiktionary","moswiki","mowiki","mowiktionary","mrjwiki","mrwiki","mrwikibooks","mrwikiquote","mrwikisource","mrwiktionary","mswiki","mswikibooks","mswikisource","mswiktionary","mtwiki","mtwiktionary","muswiki","mwlwiki","myvwiki","mywiki","mywikibooks","mywikisource","mywiktionary","mznwiki","nahwiki","nahwikibooks","nahwiktionary","napwiki","napwikisource","nawiki","nawikibooks","nawikiquote","nawiktionary","nds_nlwiki","ndswiki","ndswikibooks","ndswikiquote","ndswiktionary","newiki","newikibooks","newiktionary","newwiki","ngwiki","niawiki","niawiktionary","nlwiki","nlwikibooks","nlwikinews","nlwikiquote","nlwikisource","nlwikivoyage","nlwiktionary","nnwiki","nnwikiquote","nnwiktionary","novwiki","nowiki","nowikibooks","nowikinews","nowikiquote","nowikisource","nowiktionary","nqowiki","nrmwiki","nrwiki","nsowiki","nvwiki","nywiki","ocwiki","ocwikibooks","ocwiktionary","olowiki","omwiki","omwiktionary","orwiki","orwikisource","orwiktionary","oswiki","outreachwiki","pagwiki","pamwiki","papwiki","pawiki","pawikibooks","pawikisource","pawiktionary","pcdwiki","pcmwiki","pdcwiki","pflwiki","pihwiki","piwiki","piwiktionary","plwiki","plwikibooks","plwikinews","plwikiquote","plwikisource","plwikivoyage","plwiktionary","pmswiki","pmswikisource","pnbwiki","pnbwiktionary","pntwiki","pswiki","pswikibooks","pswikivoyage","pswiktionary","ptwiki","ptwikibooks","ptwikinews","ptwikiquote","ptwikisource","ptwikiversity","ptwikivoyage","ptwiktionary","pwnwiki","quwiki","quwikibooks","quwikiquote","quwiktionary","rmwiki","rmwikibooks","rmwiktionary","rmywiki","rnwiki","rnwiktionary","roa_rupwiki","roa_rupwiktionary","roa_tarawiki","rowiki","rowikibooks","rowikinews","rowikiquote","rowikisource","rowikivoyage","rowiktionary","rskwiki","ruewiki","ruwiki","ruwikibooks","ruwikinews","ruwikiquote","ruwikisource","ruwikiversity","ruwikivoyage","ruwiktionary","rwwiki","rwwiktionary","sahwiki","sahwikiquote","sahwikisource","satwiki","satwiktionary","sawiki","sawikibooks","sawikiquote","sawikisource","sawiktionary","scnwiki","scnwiktionary","scowiki","scwiki","scwiktionary","sdwiki","sdwikinews","sdwiktionary","sewiki","sewikibooks","sgwiki","sgwiktionary","shiwiki","shnwiki","shnwikibooks","shnwikinews","shnwikivoyage","shnwiktionary","shwiki","shwiktionary","shywiktionary","simplewiki","simplewikibooks","simplewikiquote","simplewiktionary","siwiki","siwikibooks","siwiktionary","skrwiki","skrwiktionary","skwiki","skwikibooks","skwikiquote","skwikisource","skwiktionary","slwiki","slwikibooks","slwikiquote","slwikisource","slwikiversity","slwiktionary","smnwiki","smwiki","smwiktionary","snwiki","snwiktionary","sourceswiki","sowiki","sowiktionary","specieswiki","sqwiki","sqwikibooks","sqwikinews","sqwikiquote","sqwiktionary","srnwiki","srwiki","srwikibooks","srwikinews","srwikiquote","srwikisource","srwiktionary","sswiki","sswiktionary","stqwiki","stwiki","stwiktionary","suwiki","suwikibooks","suwikiquote","suwikisource","suwiktionary","svwiki","svwikibooks","svwikinews","svwikiquote","svwikisource","svwikiversity","svwikivoyage","svwiktionary","swwiki","swwikibooks","swwiktionary","sylwiki","szlwiki","szywiki","tawiki","tawikibooks","tawikinews","tawikiquote","tawikisource","tawiktionary","taywiki","tcywiki","tcywikisource","tcywiktionary","tddwiki","tetwiki","tewiki","tewikibooks","tewikiquote","tewikisource","tewiktionary","tgwiki","tgwikibooks","tgwiktionary","thwiki","thwikibooks","thwikinews","thwikiquote","thwikisource","thwiktionary","tigwiki","tiwiki","tiwiktionary","tkwiki","tkwikibooks","tkwikiquote","tkwiktionary","tlwiki","tlwikibooks","tlwikiquote","tlwiktionary","tlywiki","tnwiki","tnwiktionary","towiki","towiktionary","tpiwiki","tpiwiktionary","trvwiki","trwiki","trwikibooks","trwikinews","trwikiquote","trwikisource","trwikivoyage","trwiktionary","tswiki","tswiktionary","ttwiki","ttwikibooks","ttwikiquote","ttwiktionary","tumwiki","twwiki","twwiktionary","tyvwiki","tywiki","udmwiki","ugwiki","ugwikibooks","ugwikiquote","ugwiktionary","ukwiki","ukwikibooks","ukwikinews","ukwikiquote","ukwikisource","ukwikivoyage","ukwiktionary","urwiki","urwikibooks","urwikiquote","urwiktionary","uzwiki","uzwikibooks","uzwikiquote","uzwiktionary","vecwiki","vecwikisource","vecwiktionary","vepwiki","vewiki","viwiki","viwikibooks","viwikiquote","viwikisource","viwikivoyage","viwiktionary","vlswiki","vowiki","vowikibooks","vowikiquote","vowiktionary","warwiki","wawiki","wawikibooks","wawikisource","wawiktionary","wikidatawiki","wikifunctionswiki","wikimaniawiki","wowiki","wowikiquote","wowiktionary","wuuwiki","xalwiki","xhwiki","xhwikibooks","xhwiktionary","xmfwiki","yiwiki","yiwikisource","yiwiktionary","yowiki","yowikibooks","yowiktionary","yuewiktionary","zawiki","zawikibooks","zawikiquote","zawiktionary","zeawiki","zghwiki","zh_classicalwiki","zh_min_nanwiki","zh_min_nanwikibooks","zh_min_nanwikiquote","zh_min_nanwikisource","zh_min_nanwiktionary","zh_yuewiki","zhwiki","zhwikibooks","zhwikinews","zhwikiquote","zhwikisource","zhwikiversity","zhwikivoyage","zhwiktionary","zuwiki","zuwikibooks","zuwiktionary"],ic="https://www.wikidata.org/wiki/";function is({site:n,title:s}){if(ae(arguments),!n)throw new Error("missing a site");if(!s)throw new Error("missing a title");if(An(Ci,n))return Ci[n](s);const r=n.replace(/wiki$/,"");if(An(Ci,r))return Ci[r](s);const{lang:c,project:a}=ns(n);return s=Ao(Mu(s)),`https://${c}.${a}.org/wiki/${s}`}const me=n=>s=>`https://${n}.wikimedia.org/wiki/${s}`,Ci={commons:me("commons"),foundation:me("foundation"),mediawiki:n=>`https://www.mediawiki.org/wiki/${n}`,meta:me("meta"),outreach:me("outreach"),sources:n=>`https://wikisource.org/wiki/${n}`,species:me("species"),wikidata:n=>{const s=nc[n[0]];let r=s?`${s}:${n}`:n;return r=r.replace("-","#"),`${ic}${r}`},wikifunctions:me("wikifunctions"),wikimania:me("wikimania")},nc={E:"EntitySchema",L:"Lexeme",P:"Property"},rc=/^https?:\/\/([\w-]{2,10})\.(\w+)\.org\/\w+\/(.*)/;function ns(n){if(n.startsWith("http")){const s=n,r=s.match(rc);if(!r)throw new Error(`invalid sitelink url: ${s}`);let[c,a,m]=r.slice(1);if(m=decodeURIComponent(m),c==="commons")return{lang:"en",project:"commons",key:"commons",title:m,url:s};if(!ii(sc,a))throw new Error(`project is unknown: ${a}`);if(c==="www")return{lang:"en",project:a,key:a,title:m,url:s};const b=`${c.replace(/-/g,"_")}${a}`.replace("wikipedia","wiki");return{lang:c,project:a,key:b,title:m,url:s}}else{if(An(Mn,n))return{lang:"en",project:Mn[n],key:n};if(!ii(Vn,n))throw new Error(`site not found: ${n}. Updating wikibase-sdk to a more recent version might fix the issue.`);let[s,r,c]=n.split("wik");if(c!=null)throw new Error(`invalid sitelink key: ${n}`);s=s.replace(/_/g,"-");const a=os[r];if(!a)throw new Error(`sitelink project not found: ${a}`);return{lang:s,project:a,key:n}}}const rs=n=>ii(Vn,n),oc=rs,os={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"},sc=[...Object.values(os),...Object.values(Mn)],ac=Object.freeze(Object.defineProperty({__proto__:null,getSitelinkData:ns,getSitelinkUrl:is,isSite:rs,isSitelinkKey:oc},Symbol.toStringTag,{value:"Module"}));function ss(n,s={}){let{addUrl:r,keepBadges:c,keepAll:a}=s;return c=c||a,Iu(n).reduce(uc({sitelinks:n,addUrl:r,keepBadges:c}),{})}const uc=({sitelinks:n,addUrl:s,keepBadges:r})=>(c,a)=>{if(n[a]==null)return c[a]=n[a],c;const{title:m,badges:p}=n[a];return s||r?(c[a]={title:m},s&&(c[a].url=is({site:a,title:m})),r&&(c[a].badges=p)):c[a]=m,c},cc={labels:Vo,descriptions:Wo,aliases:Go,claims:ni,statements:ni,sitelinks:ss,lemmas:Xo,forms:Qo,senses:es},as=(n,s={})=>{const{type:r}=n;if(!r)throw new Error("missing entity type");const c={id:n.id,type:r,modified:n.modified};return r==="item"?(Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"aliases"),Ct(n,c,"claims",s),Ct(n,c,"sitelinks",s)):r==="property"?(c.datatype=n.datatype,Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"aliases"),Ct(n,c,"claims",s)):r==="lexeme"?(Ct(n,c,"lemmas"),c.lexicalCategory=n.lexicalCategory,c.language=n.language,Ct(n,c,"claims",s),Ct(n,c,"forms",s),Ct(n,c,"senses",s)):r==="mediainfo"&&(Ct(n,c,"labels"),Ct(n,c,"descriptions"),Ct(n,c,"statements",s)),c},Ct=(n,s,r,c)=>{n[r]!=null&&(s[r]=cc[r](n[r],c))},us=(n,s={})=>{n.entities&&(n=n.entities);const{entityPrefix:r}=s,c={};for(const[a,m]of Object.entries(n)){const p=r?`${r}:${a}`:a;c[p]=as(m,s)}return c};function lc(n){n=n.body||n;const{entities:s}=n;return us(s)}function hc(n){return n=n.body||n,n.query.search.map(s=>s.title)}const fc=Object.freeze(Object.defineProperty({__proto__:null,entities:lc,pagesTitles:hc},Symbol.toStringTag,{value:"Module"}));function dc(n){typeof n=="string"&&(n=JSON.parse(n));const{vars:s}=n.head,r=n.results.bindings,{richVars:c,associatedVars:a,standaloneVars:m}=_c(s);return r.map(b=>gc(c,a,m,b))}function Qr(n){if(!n||n.type==="bnode")return null;const{value:s}=n;if(n.type==="uri")return pc(s);const r=(n.datatype||"").replace("http://www.w3.org/2001/XMLSchema#","");return r==="decimal"||r==="integer"||r==="float"||r==="double"?parseFloat(s):r==="boolean"?s==="true":s}function pc(n){return n.match(/http.*\/entity\/statement\//)?mc(n):n.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,"")}function mc(n){n=n.replace(/^https?:\/\/.*\/entity\/statement\//,"");const s=n.split("-");return s[0]+"$"+s.slice(1).join("-")}function _c(n){let s=n.filter(m=>{const p=new RegExp(`^${m}[A-Z]\\w+`);return n.some(b=>p.test(b))});s=s.filter(m=>!s.some(p=>m!==p&&m.startsWith(p)));const r=new RegExp(`^(${s.join("|")})[A-Z]`),c=n.filter(m=>r.test(m)),a=n.filter(m=>!s.includes(m)&&!r.test(m));return{richVars:s,associatedVars:c,standaloneVars:a}}function gc(n,s,r,c){const a={};for(const m of n){const p={},b=Qr(c[m]);b!=null&&(p.value=b);for(const k of s)k.startsWith(m)&&wc(c,m,k,p);Object.keys(p).length>0&&(a[m]=p)}for(const m of r){const p=Qr(c[m]);p!=null&&(a[m]=p)}return a}function wc(n,s,r,c){let a=r.split(s)[1];a=a[0].toLowerCase()+a.slice(1),a=a==="altLabel"?"aliases":a;const m=n[r];m!=null&&(c[a]=m.value)}const yc=Object.freeze(Object.defineProperty({__proto__:null,aliases:Go,claim:zo,claims:ni,descriptions:Wo,entities:us,entity:as,form:Yo,forms:Qo,glosses:Ko,labels:Vo,lemmas:Xo,propertyClaims:jo,propertyQualifiers:Yu,qualifier:Qu,qualifiers:$o,reference:Do,references:qo,representations:Jo,sense:ts,senses:es,sitelinks:ss,snak:qi,sparqlResults:dc},Symbol.toStringTag,{value:"Module"})),vc=/^\d+[|\d]*$/;function kc(n){return function(r){ae(arguments);for(const[f,g]of Object.entries(r))if(f.startsWith("sr")){const E=f.replace(/^sr/,"");if(r[E]!=null)throw new Error(`${E} and ${f} are the same`);r[E]=g}const{search:c,haswbstatement:a,format:m="json",limit:p,offset:b,profile:k,sort:x}=r;let{namespace:_,prop:u}=r;if(!(c||a))throw new Error('missing "search" or "haswbstatement" parameter');let w="";if(c&&(w+=c),a){const f=a instanceof Array?a:[a];for(const g of f)g[0]==="-"?w+=` -haswbstatement:${g.slice(1)}`:w+=` haswbstatement:${g}`}if(p!=null&&(typeof p!="number"||p<1))throw new Error(`invalid limit: ${p}`);if(b!=null&&(typeof b!="number"||b<0))throw new Error(`invalid offset: ${b}`);if(_ instanceof Array?_=_.join("|"):typeof _=="number"&&(_=_.toString()),_&&!vc.test(_))throw new Error(`invalid namespace: ${_}`);if(k!=null&&typeof k!="string")throw new Error(`invalid profile: ${k} (${typeof k}, expected string)`);if(x!=null&&typeof x!="string")throw new Error(`invalid sort: ${x} (${typeof x}, expected string)`);let y;if(u!=null){if(u instanceof Array&&(u=u.join("|")),typeof u!="string")throw new Error(`invalid prop: ${u} (${typeof u}, expected string)`);y=u.toString()}return n({action:"query",list:"search",srsearch:w.trim(),format:m,srnamespace:_,srlimit:p,sroffset:b,srqiprofile:k,srsort:x,srprop:y})}}function Di(n,s){return function(r){if(!s(r))throw new Error(`invalid ${n}: ${r} (type: ${Tc(r)})`)}}const cs=Di("entity id",Un),bc=Di("property id",$i),xc=Di("entity page title",Co),Pc=Di("revision id",Lo);function Tc(n){const s=typeof n;if(s==="object"){if(n===null)return"null";if(n instanceof Array)return"array";if(n instanceof Promise)return"promise"}return s==="number"&&Number.isNaN(n)?"NaN":s}function ls(n){return function({ids:r,languages:c,props:a,format:m="json",redirects:p}){if(ae(arguments),!(r&&r.length>0))throw new Error("no id provided");r=Kt(r),r.forEach(k=>cs(k)),r.length>50&&console.warn(`getEntities accepts 50 ids max to match Wikidata API limitations:
      this request won't get all the desired entities.
      You can use getManyEntities instead to generate several request urls
      to work around this limitation`);const b={action:"wbgetentities",ids:r.join("|"),format:m};return p===!1&&(b.redirects="no"),c&&(c=Kt(c),b.languages=c.join("|")),a&&a.length>0&&(b.props=Kt(a).join("|")),n(b)}}function Ec(n){return function({titles:r,sites:c,languages:a,props:m,format:p="json",redirects:b}){if(ae(arguments),!(r&&r.length>0))throw new Error("no titles provided");c&&c.length>0||(c=["enwiki"]),r=Kt(r),c=Kt(c).map(Oc),m=Kt(m);const k={action:"wbgetentities",titles:r.join("|"),sites:c.join("|"),format:p};return c.length===1&&r.length===1&&(k.normalize=!0),a&&(a=Kt(a),k.languages=a.join("|")),m.length>0&&(k.props=m.join("|")),b===!1&&(k.redirects="no"),n(k)}}function Oc(n){return ii(Vn,n)?n:n.replace(/-/g,"_")+"wiki"}function Lc(n,s){return function({id:c,revision:a}){return ae(arguments),cs(c),Pc(a),`${n}/${s}/index.php?title=Special:EntityData/${c}.json&revision=${a}`}}function Sc(n){const s=ls(n);return function({ids:c,languages:a,props:m,format:p,redirects:b}){if(ae(arguments),!(c instanceof Array))throw new Error("getManyEntities expects an array of ids");return Cc(c).map(k=>s({ids:k,languages:a,props:m,format:p,redirects:b}))}}function Cc(n){const s=[];for(;n.length>0;){const r=n.slice(0,50);n=n.slice(50),s.push(r)}return s}function hs(n){return function(r){const c=Ao(r);return`${n}?format=json&query=${c}`}}const Ac="FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",Mc=n=>{const s=hs(n);return function(c){let{properties:a}=c;const{values:m,limit:p,caseInsensitive:b,keepProperties:k}=c,x=b?Bc:Ic,_=k?"":Ac;a=Kt(a),a.forEach(y=>bc(y));let w=`SELECT DISTINCT ?subject WHERE { ${Nc(m,x,a,_)} }`;return p&&(w+=` LIMIT ${p}`),s(w)}},Nc=(n,s,r,c)=>(r=r.map(Fc).join("|"),n instanceof Array?"{ "+n.map(to).map(m=>s(r,m,c)).join("} UNION {")+" }":s(r,to(n),c)),to=n=>(Bi(n)?n=`wd:${n}`:typeof n=="string"&&(n=`'${n}'`),n),Ic=(n,s,r)=>`?subject ${n} ${s} .
    ${r}`,Bc=(n,s,r)=>`?subject ${n} ?value .
    FILTER (lcase(?value) = ${s.toLowerCase()})
    ${r}`,Fc=n=>"wdt:"+n;function Rc(n){return function({ids:r,format:c,limit:a,start:m,end:p,prop:b,user:k,excludeuser:x,tag:_}){ae(arguments),r=Kt(r),r.forEach(y=>xc(y));const u=r.length===1,w={action:"query",prop:"revisions"};return w.titles=r.join("|"),w.format=c||"json",u&&(w.rvlimit=a||"max"),u&&m&&(w.rvstart=eo(m)),u&&p&&(w.rvend=eo(p)),b?w.rvprop=Kt(b).join("|"):w.rvprop="ids|flags|timestamp|user|userid|size|slotsize|sha1|slotsha1|contentmodel|comment|parsedcomment|content|tags|roles|oresscores",w.rvslots="*",k&&(w.rvuser=k),x&&(w.rvexcludeuser=x),_&&(w.rvtag=_),n(w)}}const eo=n=>typeof n=="number"&&n<zc?n:Math.trunc(new Date(n).getTime()/1e3),zc=new Date("2000-01-01").getTime(),jc=["item","property","lexeme","form","sense","entity-schema"],Zc=n=>function({search:r,language:c="en",uselang:a,limit:m="20",continue:p="0",format:b="json",type:k="item"}){if(ae(arguments),a=a||c,!(r&&r.length>0))throw new Error("search can't be empty");if(!ii(jc,k))throw new Error(`invalid type: ${k}`);return n({action:"wbsearchentities",search:r,language:c,limit:m,continue:p,format:b,uselang:a,type:k})},Uc=typeof location<"u"&&typeof document<"u";function $c(n){return s=>{Uc&&(s=Object.assign(Object.assign({},s),{origin:"*"}));const r=Object.entries(s).filter(([,a])=>a!=null).map(([a,m])=>[a,String(m)]),c=new URLSearchParams(r).toString();return n+"?"+c}}const qc=`Tip: if you just want to access functions that don't need an instance or a sparqlEndpoint,
those are also exposed directly on the module object. Exemple:
import { isItemId, simplify } from 'wikibase-sdk'`,Dc=Object.assign(Object.assign(Object.assign(Object.assign({simplify:yc,parse:fc},Au),ac),Ku),Zu);function Hc(n){if(!$n(n))throw new Error("invalid config");const{instance:s,sparqlEndpoint:r}=n;let{wgScriptPath:c="w"}=n;if(c=c.replace(/^\//,""),!(s||r))throw new Error(`one of instance or sparqlEndpoint should be set at initialization.
${qc}`);let a,m,p;if(s){io("instance",s),m=s.replace(/\/$/,"").replace(`/${c}/api.php`,""),p=`${m}/${c}/api.php`;const k=$c(p);a={searchEntities:Zc(k),cirrusSearchPages:kc(k),getEntities:ls(k),getManyEntities:Sc(k),getRevisions:Rc(k),getEntityRevision:Lc(s,c),getEntitiesFromSitelinks:Ec(k)}}else a={searchEntities:_e("searchEntities"),cirrusSearchPages:_e("cirrusSearchPages"),getEntities:_e("getEntities"),getManyEntities:_e("getManyEntities"),getRevisions:_e("getRevisions"),getEntityRevision:_e("getEntityRevision"),getEntitiesFromSitelinks:_e("getEntitiesFromSitelinks")};let b;return r?(io("sparqlEndpoint",r),b={sparqlQuery:hs(r),getReverseClaims:Mc(r)}):b={sparqlQuery:no("sparqlQuery"),getReverseClaims:no("getReverseClaims")},Object.assign(Object.assign(Object.assign({instance:{root:m,apiEndpoint:p}},Dc),a),b)}const io=(n,s)=>{if(!(typeof s=="string"&&s.startsWith("http")))throw new Error(`invalid ${n}: ${s}`)},fs=n=>s=>()=>{throw new Error(`${s} requires ${n} to be set at initialization`)},no=fs("a sparqlEndpoint"),_e=fs("an instance");function ds(n,s){return function(){return n.apply(s,arguments)}}const{toString:Vc}=Object.prototype,{getPrototypeOf:Wn}=Object,Hi=(n=>s=>{const r=Vc.call(s);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=n=>(n=n.toLowerCase(),s=>Hi(s)===n),Vi=n=>s=>typeof s===n,{isArray:Ne}=Array,ri=Vi("undefined");function Wc(n){return n!==null&&!ri(n)&&n.constructor!==null&&!ri(n.constructor)&&Bt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ps=Ht("ArrayBuffer");function Gc(n){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(n):s=n&&n.buffer&&ps(n.buffer),s}const Xc=Vi("string"),Bt=Vi("function"),ms=Vi("number"),Wi=n=>n!==null&&typeof n=="object",Jc=n=>n===!0||n===!1,Ai=n=>{if(Hi(n)!=="object")return!1;const s=Wn(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Kc=Ht("Date"),Yc=Ht("File"),Qc=Ht("Blob"),tl=Ht("FileList"),el=n=>Wi(n)&&Bt(n.pipe),il=n=>{let s;return n&&(typeof FormData=="function"&&n instanceof FormData||Bt(n.append)&&((s=Hi(n))==="formdata"||s==="object"&&Bt(n.toString)&&n.toString()==="[object FormData]"))},nl=Ht("URLSearchParams"),[rl,ol,sl,al]=["ReadableStream","Request","Response","Headers"].map(Ht),ul=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ui(n,s,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let c,a;if(typeof n!="object"&&(n=[n]),Ne(n))for(c=0,a=n.length;c<a;c++)s.call(null,n[c],c,n);else{const m=r?Object.getOwnPropertyNames(n):Object.keys(n),p=m.length;let b;for(c=0;c<p;c++)b=m[c],s.call(null,n[b],b,n)}}function _s(n,s){s=s.toLowerCase();const r=Object.keys(n);let c=r.length,a;for(;c-- >0;)if(a=r[c],s===a.toLowerCase())return a;return null}const ge=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gs=n=>!ri(n)&&n!==ge;function Nn(){const{caseless:n}=gs(this)&&this||{},s={},r=(c,a)=>{const m=n&&_s(s,a)||a;Ai(s[m])&&Ai(c)?s[m]=Nn(s[m],c):Ai(c)?s[m]=Nn({},c):Ne(c)?s[m]=c.slice():s[m]=c};for(let c=0,a=arguments.length;c<a;c++)arguments[c]&&ui(arguments[c],r);return s}const cl=(n,s,r,{allOwnKeys:c}={})=>(ui(s,(a,m)=>{r&&Bt(a)?n[m]=ds(a,r):n[m]=a},{allOwnKeys:c}),n),ll=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),hl=(n,s,r,c)=>{n.prototype=Object.create(s.prototype,c),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:s.prototype}),r&&Object.assign(n.prototype,r)},fl=(n,s,r,c)=>{let a,m,p;const b={};if(s=s||{},n==null)return s;do{for(a=Object.getOwnPropertyNames(n),m=a.length;m-- >0;)p=a[m],(!c||c(p,n,s))&&!b[p]&&(s[p]=n[p],b[p]=!0);n=r!==!1&&Wn(n)}while(n&&(!r||r(n,s))&&n!==Object.prototype);return s},dl=(n,s,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=s.length;const c=n.indexOf(s,r);return c!==-1&&c===r},pl=n=>{if(!n)return null;if(Ne(n))return n;let s=n.length;if(!ms(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=n[s];return r},ml=(n=>s=>n&&s instanceof n)(typeof Uint8Array<"u"&&Wn(Uint8Array)),_l=(n,s)=>{const c=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=c.next())&&!a.done;){const m=a.value;s.call(n,m[0],m[1])}},gl=(n,s)=>{let r;const c=[];for(;(r=n.exec(s))!==null;)c.push(r);return c},wl=Ht("HTMLFormElement"),yl=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,c,a){return c.toUpperCase()+a}),ro=(({hasOwnProperty:n})=>(s,r)=>n.call(s,r))(Object.prototype),vl=Ht("RegExp"),ws=(n,s)=>{const r=Object.getOwnPropertyDescriptors(n),c={};ui(r,(a,m)=>{let p;(p=s(a,m,n))!==!1&&(c[m]=p||a)}),Object.defineProperties(n,c)},kl=n=>{ws(n,(s,r)=>{if(Bt(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const c=n[r];if(Bt(c)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bl=(n,s)=>{const r={},c=a=>{a.forEach(m=>{r[m]=!0})};return Ne(n)?c(n):c(String(n).split(s)),r},xl=()=>{},Pl=(n,s)=>n!=null&&Number.isFinite(n=+n)?n:s;function Tl(n){return!!(n&&Bt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const El=n=>{const s=new Array(10),r=(c,a)=>{if(Wi(c)){if(s.indexOf(c)>=0)return;if(!("toJSON"in c)){s[a]=c;const m=Ne(c)?[]:{};return ui(c,(p,b)=>{const k=r(p,a+1);!ri(k)&&(m[b]=k)}),s[a]=void 0,m}}return c};return r(n,0)},Ol=Ht("AsyncFunction"),Ll=n=>n&&(Wi(n)||Bt(n))&&Bt(n.then)&&Bt(n.catch),ys=((n,s)=>n?setImmediate:s?((r,c)=>(ge.addEventListener("message",({source:a,data:m})=>{a===ge&&m===r&&c.length&&c.shift()()},!1),a=>{c.push(a),ge.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Bt(ge.postMessage)),Sl=typeof queueMicrotask<"u"?queueMicrotask.bind(ge):typeof process<"u"&&process.nextTick||ys,Z={isArray:Ne,isArrayBuffer:ps,isBuffer:Wc,isFormData:il,isArrayBufferView:Gc,isString:Xc,isNumber:ms,isBoolean:Jc,isObject:Wi,isPlainObject:Ai,isReadableStream:rl,isRequest:ol,isResponse:sl,isHeaders:al,isUndefined:ri,isDate:Kc,isFile:Yc,isBlob:Qc,isRegExp:vl,isFunction:Bt,isStream:el,isURLSearchParams:nl,isTypedArray:ml,isFileList:tl,forEach:ui,merge:Nn,extend:cl,trim:ul,stripBOM:ll,inherits:hl,toFlatObject:fl,kindOf:Hi,kindOfTest:Ht,endsWith:dl,toArray:pl,forEachEntry:_l,matchAll:gl,isHTMLForm:wl,hasOwnProperty:ro,hasOwnProp:ro,reduceDescriptors:ws,freezeMethods:kl,toObjectSet:bl,toCamelCase:yl,noop:xl,toFiniteNumber:Pl,findKey:_s,global:ge,isContextDefined:gs,isSpecCompliantForm:Tl,toJSONObject:El,isAsyncFn:Ol,isThenable:Ll,setImmediate:ys,asap:Sl};function st(n,s,r,c,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),c&&(this.request=c),a&&(this.response=a,this.status=a.status?a.status:null)}Z.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const vs=st.prototype,ks={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ks[n]={value:n}});Object.defineProperties(st,ks);Object.defineProperty(vs,"isAxiosError",{value:!0});st.from=(n,s,r,c,a,m)=>{const p=Object.create(vs);return Z.toFlatObject(n,p,function(k){return k!==Error.prototype},b=>b!=="isAxiosError"),st.call(p,n.message,s,r,c,a),p.cause=n,p.name=n.name,m&&Object.assign(p,m),p};const Cl=null;function In(n){return Z.isPlainObject(n)||Z.isArray(n)}function bs(n){return Z.endsWith(n,"[]")?n.slice(0,-2):n}function oo(n,s,r){return n?n.concat(s).map(function(a,m){return a=bs(a),!r&&m?"["+a+"]":a}).join(r?".":""):s}function Al(n){return Z.isArray(n)&&!n.some(In)}const Ml=Z.toFlatObject(Z,{},null,function(s){return/^is[A-Z]/.test(s)});function Gi(n,s,r){if(!Z.isObject(n))throw new TypeError("target must be an object");s=s||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!Z.isUndefined(E[g])});const c=r.metaTokens,a=r.visitor||_,m=r.dots,p=r.indexes,k=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(s);if(!Z.isFunction(a))throw new TypeError("visitor must be a function");function x(f){if(f===null)return"";if(Z.isDate(f))return f.toISOString();if(!k&&Z.isBlob(f))throw new st("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(f)||Z.isTypedArray(f)?k&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function _(f,g,E){let C=f;if(f&&!E&&typeof f=="object"){if(Z.endsWith(g,"{}"))g=c?g:g.slice(0,-2),f=JSON.stringify(f);else if(Z.isArray(f)&&Al(f)||(Z.isFileList(f)||Z.endsWith(g,"[]"))&&(C=Z.toArray(f)))return g=bs(g),C.forEach(function(S,I){!(Z.isUndefined(S)||S===null)&&s.append(p===!0?oo([g],I,m):p===null?g:g+"[]",x(S))}),!1}return In(f)?!0:(s.append(oo(E,g,m),x(f)),!1)}const u=[],w=Object.assign(Ml,{defaultVisitor:_,convertValue:x,isVisitable:In});function y(f,g){if(!Z.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(f),Z.forEach(f,function(C,P){(!(Z.isUndefined(C)||C===null)&&a.call(s,C,Z.isString(P)?P.trim():P,g,w))===!0&&y(C,g?g.concat(P):[P])}),u.pop()}}if(!Z.isObject(n))throw new TypeError("data must be an object");return y(n),s}function so(n){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return s[c]})}function Gn(n,s){this._pairs=[],n&&Gi(n,this,s)}const xs=Gn.prototype;xs.append=function(s,r){this._pairs.push([s,r])};xs.toString=function(s){const r=s?function(c){return s.call(this,c,so)}:so;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Nl(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ps(n,s,r){if(!s)return n;const c=r&&r.encode||Nl;Z.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let m;if(a?m=a(s,r):m=Z.isURLSearchParams(s)?s.toString():new Gn(s,r).toString(c),m){const p=n.indexOf("#");p!==-1&&(n=n.slice(0,p)),n+=(n.indexOf("?")===-1?"?":"&")+m}return n}class ao{constructor(){this.handlers=[]}use(s,r,c){return this.handlers.push({fulfilled:s,rejected:r,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Z.forEach(this.handlers,function(c){c!==null&&s(c)})}}const Ts={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Il=typeof URLSearchParams<"u"?URLSearchParams:Gn,Bl=typeof FormData<"u"?FormData:null,Fl=typeof Blob<"u"?Blob:null,Rl={isBrowser:!0,classes:{URLSearchParams:Il,FormData:Bl,Blob:Fl},protocols:["http","https","file","blob","url","data"]},Xn=typeof window<"u"&&typeof document<"u",Bn=typeof navigator=="object"&&navigator||void 0,zl=Xn&&(!Bn||["ReactNative","NativeScript","NS"].indexOf(Bn.product)<0),jl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zl=Xn&&window.location.href||"http://localhost",Ul=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xn,hasStandardBrowserEnv:zl,hasStandardBrowserWebWorkerEnv:jl,navigator:Bn,origin:Zl},Symbol.toStringTag,{value:"Module"})),At={...Ul,...Rl};function $l(n,s){return Gi(n,new At.classes.URLSearchParams,Object.assign({visitor:function(r,c,a,m){return At.isNode&&Z.isBuffer(r)?(this.append(c,r.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},s))}function ql(n){return Z.matchAll(/\w+|\[(\w*)]/g,n).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Dl(n){const s={},r=Object.keys(n);let c;const a=r.length;let m;for(c=0;c<a;c++)m=r[c],s[m]=n[m];return s}function Es(n){function s(r,c,a,m){let p=r[m++];if(p==="__proto__")return!0;const b=Number.isFinite(+p),k=m>=r.length;return p=!p&&Z.isArray(a)?a.length:p,k?(Z.hasOwnProp(a,p)?a[p]=[a[p],c]:a[p]=c,!b):((!a[p]||!Z.isObject(a[p]))&&(a[p]=[]),s(r,c,a[p],m)&&Z.isArray(a[p])&&(a[p]=Dl(a[p])),!b)}if(Z.isFormData(n)&&Z.isFunction(n.entries)){const r={};return Z.forEachEntry(n,(c,a)=>{s(ql(c),a,r,0)}),r}return null}function Hl(n,s,r){if(Z.isString(n))try{return(s||JSON.parse)(n),Z.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(r||JSON.stringify)(n)}const ci={transitional:Ts,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const c=r.getContentType()||"",a=c.indexOf("application/json")>-1,m=Z.isObject(s);if(m&&Z.isHTMLForm(s)&&(s=new FormData(s)),Z.isFormData(s))return a?JSON.stringify(Es(s)):s;if(Z.isArrayBuffer(s)||Z.isBuffer(s)||Z.isStream(s)||Z.isFile(s)||Z.isBlob(s)||Z.isReadableStream(s))return s;if(Z.isArrayBufferView(s))return s.buffer;if(Z.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let b;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return $l(s,this.formSerializer).toString();if((b=Z.isFileList(s))||c.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Gi(b?{"files[]":s}:s,k&&new k,this.formSerializer)}}return m||a?(r.setContentType("application/json",!1),Hl(s)):s}],transformResponse:[function(s){const r=this.transitional||ci.transitional,c=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Z.isResponse(s)||Z.isReadableStream(s))return s;if(s&&Z.isString(s)&&(c&&!this.responseType||a)){const p=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s)}catch(b){if(p)throw b.name==="SyntaxError"?st.from(b,st.ERR_BAD_RESPONSE,this,null,this.response):b}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],n=>{ci.headers[n]={}});const Vl=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wl=n=>{const s={};let r,c,a;return n&&n.split(`
`).forEach(function(p){a=p.indexOf(":"),r=p.substring(0,a).trim().toLowerCase(),c=p.substring(a+1).trim(),!(!r||s[r]&&Vl[r])&&(r==="set-cookie"?s[r]?s[r].push(c):s[r]=[c]:s[r]=s[r]?s[r]+", "+c:c)}),s},uo=Symbol("internals");function ti(n){return n&&String(n).trim().toLowerCase()}function Mi(n){return n===!1||n==null?n:Z.isArray(n)?n.map(Mi):String(n)}function Gl(n){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=r.exec(n);)s[c[1]]=c[2];return s}const Xl=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ln(n,s,r,c,a){if(Z.isFunction(c))return c.call(this,s,r);if(a&&(s=r),!!Z.isString(s)){if(Z.isString(c))return s.indexOf(c)!==-1;if(Z.isRegExp(c))return c.test(s)}}function Jl(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,c)=>r.toUpperCase()+c)}function Kl(n,s){const r=Z.toCamelCase(" "+s);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+r,{value:function(a,m,p){return this[c].call(this,s,a,m,p)},configurable:!0})})}let It=class{constructor(s){s&&this.set(s)}set(s,r,c){const a=this;function m(b,k,x){const _=ti(k);if(!_)throw new Error("header name must be a non-empty string");const u=Z.findKey(a,_);(!u||a[u]===void 0||x===!0||x===void 0&&a[u]!==!1)&&(a[u||k]=Mi(b))}const p=(b,k)=>Z.forEach(b,(x,_)=>m(x,_,k));if(Z.isPlainObject(s)||s instanceof this.constructor)p(s,r);else if(Z.isString(s)&&(s=s.trim())&&!Xl(s))p(Wl(s),r);else if(Z.isHeaders(s))for(const[b,k]of s.entries())m(k,b,c);else s!=null&&m(r,s,c);return this}get(s,r){if(s=ti(s),s){const c=Z.findKey(this,s);if(c){const a=this[c];if(!r)return a;if(r===!0)return Gl(a);if(Z.isFunction(r))return r.call(this,a,c);if(Z.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=ti(s),s){const c=Z.findKey(this,s);return!!(c&&this[c]!==void 0&&(!r||Ln(this,this[c],c,r)))}return!1}delete(s,r){const c=this;let a=!1;function m(p){if(p=ti(p),p){const b=Z.findKey(c,p);b&&(!r||Ln(c,c[b],b,r))&&(delete c[b],a=!0)}}return Z.isArray(s)?s.forEach(m):m(s),a}clear(s){const r=Object.keys(this);let c=r.length,a=!1;for(;c--;){const m=r[c];(!s||Ln(this,this[m],m,s,!0))&&(delete this[m],a=!0)}return a}normalize(s){const r=this,c={};return Z.forEach(this,(a,m)=>{const p=Z.findKey(c,m);if(p){r[p]=Mi(a),delete r[m];return}const b=s?Jl(m):String(m).trim();b!==m&&delete r[m],r[b]=Mi(a),c[b]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return Z.forEach(this,(c,a)=>{c!=null&&c!==!1&&(r[a]=s&&Z.isArray(c)?c.join(", "):c)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const c=new this(s);return r.forEach(a=>c.set(a)),c}static accessor(s){const c=(this[uo]=this[uo]={accessors:{}}).accessors,a=this.prototype;function m(p){const b=ti(p);c[b]||(Kl(a,p),c[b]=!0)}return Z.isArray(s)?s.forEach(m):m(s),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(It.prototype,({value:n},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>n,set(c){this[r]=c}}});Z.freezeMethods(It);function Sn(n,s){const r=this||ci,c=s||r,a=It.from(c.headers);let m=c.data;return Z.forEach(n,function(b){m=b.call(r,m,a.normalize(),s?s.status:void 0)}),a.normalize(),m}function Os(n){return!!(n&&n.__CANCEL__)}function Ie(n,s,r){st.call(this,n??"canceled",st.ERR_CANCELED,s,r),this.name="CanceledError"}Z.inherits(Ie,st,{__CANCEL__:!0});function Ls(n,s,r){const c=r.config.validateStatus;!r.status||!c||c(r.status)?n(r):s(new st("Request failed with status code "+r.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yl(n){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return s&&s[1]||""}function Ql(n,s){n=n||10;const r=new Array(n),c=new Array(n);let a=0,m=0,p;return s=s!==void 0?s:1e3,function(k){const x=Date.now(),_=c[m];p||(p=x),r[a]=k,c[a]=x;let u=m,w=0;for(;u!==a;)w+=r[u++],u=u%n;if(a=(a+1)%n,a===m&&(m=(m+1)%n),x-p<s)return;const y=_&&x-_;return y?Math.round(w*1e3/y):void 0}}function th(n,s){let r=0,c=1e3/s,a,m;const p=(x,_=Date.now())=>{r=_,a=null,m&&(clearTimeout(m),m=null),n.apply(null,x)};return[(...x)=>{const _=Date.now(),u=_-r;u>=c?p(x,_):(a=x,m||(m=setTimeout(()=>{m=null,p(a)},c-u)))},()=>a&&p(a)]}const Ri=(n,s,r=3)=>{let c=0;const a=Ql(50,250);return th(m=>{const p=m.loaded,b=m.lengthComputable?m.total:void 0,k=p-c,x=a(k),_=p<=b;c=p;const u={loaded:p,total:b,progress:b?p/b:void 0,bytes:k,rate:x||void 0,estimated:x&&b&&_?(b-p)/x:void 0,event:m,lengthComputable:b!=null,[s?"download":"upload"]:!0};n(u)},r)},co=(n,s)=>{const r=n!=null;return[c=>s[0]({lengthComputable:r,total:n,loaded:c}),s[1]]},lo=n=>(...s)=>Z.asap(()=>n(...s)),eh=At.hasStandardBrowserEnv?((n,s)=>r=>(r=new URL(r,At.origin),n.protocol===r.protocol&&n.host===r.host&&(s||n.port===r.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,ih=At.hasStandardBrowserEnv?{write(n,s,r,c,a,m){const p=[n+"="+encodeURIComponent(s)];Z.isNumber(r)&&p.push("expires="+new Date(r).toGMTString()),Z.isString(c)&&p.push("path="+c),Z.isString(a)&&p.push("domain="+a),m===!0&&p.push("secure"),document.cookie=p.join("; ")},read(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nh(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function rh(n,s){return s?n.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):n}function Ss(n,s,r){let c=!nh(s);return n&&(c||r==!1)?rh(n,s):s}const ho=n=>n instanceof It?{...n}:n;function ye(n,s){s=s||{};const r={};function c(x,_,u,w){return Z.isPlainObject(x)&&Z.isPlainObject(_)?Z.merge.call({caseless:w},x,_):Z.isPlainObject(_)?Z.merge({},_):Z.isArray(_)?_.slice():_}function a(x,_,u,w){if(Z.isUndefined(_)){if(!Z.isUndefined(x))return c(void 0,x,u,w)}else return c(x,_,u,w)}function m(x,_){if(!Z.isUndefined(_))return c(void 0,_)}function p(x,_){if(Z.isUndefined(_)){if(!Z.isUndefined(x))return c(void 0,x)}else return c(void 0,_)}function b(x,_,u){if(u in s)return c(x,_);if(u in n)return c(void 0,x)}const k={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:b,headers:(x,_,u)=>a(ho(x),ho(_),u,!0)};return Z.forEach(Object.keys(Object.assign({},n,s)),function(_){const u=k[_]||a,w=u(n[_],s[_],_);Z.isUndefined(w)&&u!==b||(r[_]=w)}),r}const Cs=n=>{const s=ye({},n);let{data:r,withXSRFToken:c,xsrfHeaderName:a,xsrfCookieName:m,headers:p,auth:b}=s;s.headers=p=It.from(p),s.url=Ps(Ss(s.baseURL,s.url,s.allowAbsoluteUrls),n.params,n.paramsSerializer),b&&p.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let k;if(Z.isFormData(r)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((k=p.getContentType())!==!1){const[x,..._]=k?k.split(";").map(u=>u.trim()).filter(Boolean):[];p.setContentType([x||"multipart/form-data",..._].join("; "))}}if(At.hasStandardBrowserEnv&&(c&&Z.isFunction(c)&&(c=c(s)),c||c!==!1&&eh(s.url))){const x=a&&m&&ih.read(m);x&&p.set(a,x)}return s},oh=typeof XMLHttpRequest<"u",sh=oh&&function(n){return new Promise(function(r,c){const a=Cs(n);let m=a.data;const p=It.from(a.headers).normalize();let{responseType:b,onUploadProgress:k,onDownloadProgress:x}=a,_,u,w,y,f;function g(){y&&y(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function C(){if(!E)return;const S=It.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),U={data:!b||b==="text"||b==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:S,config:n,request:E};Ls(function(F){r(F),g()},function(F){c(F),g()},U),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(c(new st("Request aborted",st.ECONNABORTED,n,E)),E=null)},E.onerror=function(){c(new st("Network Error",st.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let I=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const U=a.transitional||Ts;a.timeoutErrorMessage&&(I=a.timeoutErrorMessage),c(new st(I,U.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,n,E)),E=null},m===void 0&&p.setContentType(null),"setRequestHeader"in E&&Z.forEach(p.toJSON(),function(I,U){E.setRequestHeader(U,I)}),Z.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),b&&b!=="json"&&(E.responseType=a.responseType),x&&([w,f]=Ri(x,!0),E.addEventListener("progress",w)),k&&E.upload&&([u,y]=Ri(k),E.upload.addEventListener("progress",u),E.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(_=S=>{E&&(c(!S||S.type?new Ie(null,n,E):S),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const P=Yl(a.url);if(P&&At.protocols.indexOf(P)===-1){c(new st("Unsupported protocol "+P+":",st.ERR_BAD_REQUEST,n));return}E.send(m||null)})},ah=(n,s)=>{const{length:r}=n=n?n.filter(Boolean):[];if(s||r){let c=new AbortController,a;const m=function(x){if(!a){a=!0,b();const _=x instanceof Error?x:this.reason;c.abort(_ instanceof st?_:new Ie(_ instanceof Error?_.message:_))}};let p=s&&setTimeout(()=>{p=null,m(new st(`timeout ${s} of ms exceeded`,st.ETIMEDOUT))},s);const b=()=>{n&&(p&&clearTimeout(p),p=null,n.forEach(x=>{x.unsubscribe?x.unsubscribe(m):x.removeEventListener("abort",m)}),n=null)};n.forEach(x=>x.addEventListener("abort",m));const{signal:k}=c;return k.unsubscribe=()=>Z.asap(b),k}},uh=function*(n,s){let r=n.byteLength;if(r<s){yield n;return}let c=0,a;for(;c<r;)a=c+s,yield n.slice(c,a),c=a},ch=async function*(n,s){for await(const r of lh(n))yield*uh(r,s)},lh=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const s=n.getReader();try{for(;;){const{done:r,value:c}=await s.read();if(r)break;yield c}}finally{await s.cancel()}},fo=(n,s,r,c)=>{const a=ch(n,s);let m=0,p,b=k=>{p||(p=!0,c&&c(k))};return new ReadableStream({async pull(k){try{const{done:x,value:_}=await a.next();if(x){b(),k.close();return}let u=_.byteLength;if(r){let w=m+=u;r(w)}k.enqueue(new Uint8Array(_))}catch(x){throw b(x),x}},cancel(k){return b(k),a.return()}},{highWaterMark:2})},Xi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",As=Xi&&typeof ReadableStream=="function",hh=Xi&&(typeof TextEncoder=="function"?(n=>s=>n.encode(s))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Ms=(n,...s)=>{try{return!!n(...s)}catch{return!1}},fh=As&&Ms(()=>{let n=!1;const s=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!s}),po=64*1024,Fn=As&&Ms(()=>Z.isReadableStream(new Response("").body)),zi={stream:Fn&&(n=>n.body)};Xi&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!zi[s]&&(zi[s]=Z.isFunction(n[s])?r=>r[s]():(r,c)=>{throw new st(`Response type '${s}' is not supported`,st.ERR_NOT_SUPPORT,c)})})})(new Response);const dh=async n=>{if(n==null)return 0;if(Z.isBlob(n))return n.size;if(Z.isSpecCompliantForm(n))return(await new Request(At.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(n)||Z.isArrayBuffer(n))return n.byteLength;if(Z.isURLSearchParams(n)&&(n=n+""),Z.isString(n))return(await hh(n)).byteLength},ph=async(n,s)=>{const r=Z.toFiniteNumber(n.getContentLength());return r??dh(s)},mh=Xi&&(async n=>{let{url:s,method:r,data:c,signal:a,cancelToken:m,timeout:p,onDownloadProgress:b,onUploadProgress:k,responseType:x,headers:_,withCredentials:u="same-origin",fetchOptions:w}=Cs(n);x=x?(x+"").toLowerCase():"text";let y=ah([a,m&&m.toAbortSignal()],p),f;const g=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(k&&fh&&r!=="get"&&r!=="head"&&(E=await ph(_,c))!==0){let U=new Request(s,{method:"POST",body:c,duplex:"half"}),M;if(Z.isFormData(c)&&(M=U.headers.get("content-type"))&&_.setContentType(M),U.body){const[F,H]=co(E,Ri(lo(k)));c=fo(U.body,po,F,H)}}Z.isString(u)||(u=u?"include":"omit");const C="credentials"in Request.prototype;f=new Request(s,{...w,signal:y,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:c,duplex:"half",credentials:C?u:void 0});let P=await fetch(f);const S=Fn&&(x==="stream"||x==="response");if(Fn&&(b||S&&g)){const U={};["status","statusText","headers"].forEach(z=>{U[z]=P[z]});const M=Z.toFiniteNumber(P.headers.get("content-length")),[F,H]=b&&co(M,Ri(lo(b),!0))||[];P=new Response(fo(P.body,po,F,()=>{H&&H(),g&&g()}),U)}x=x||"text";let I=await zi[Z.findKey(zi,x)||"text"](P,n);return!S&&g&&g(),await new Promise((U,M)=>{Ls(U,M,{data:I,headers:It.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:f})})}catch(C){throw g&&g(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,n,f),{cause:C.cause||C}):st.from(C,C&&C.code,n,f)}}),Rn={http:Cl,xhr:sh,fetch:mh};Z.forEach(Rn,(n,s)=>{if(n){try{Object.defineProperty(n,"name",{value:s})}catch{}Object.defineProperty(n,"adapterName",{value:s})}});const mo=n=>`- ${n}`,_h=n=>Z.isFunction(n)||n===null||n===!1,Ns={getAdapter:n=>{n=Z.isArray(n)?n:[n];const{length:s}=n;let r,c;const a={};for(let m=0;m<s;m++){r=n[m];let p;if(c=r,!_h(r)&&(c=Rn[(p=String(r)).toLowerCase()],c===void 0))throw new st(`Unknown adapter '${p}'`);if(c)break;a[p||"#"+m]=c}if(!c){const m=Object.entries(a).map(([b,k])=>`adapter ${b} `+(k===!1?"is not supported by the environment":"is not available in the build"));let p=s?m.length>1?`since :
`+m.map(mo).join(`
`):" "+mo(m[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return c},adapters:Rn};function Cn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ie(null,n)}function _o(n){return Cn(n),n.headers=It.from(n.headers),n.data=Sn.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ns.getAdapter(n.adapter||ci.adapter)(n).then(function(c){return Cn(n),c.data=Sn.call(n,n.transformResponse,c),c.headers=It.from(c.headers),c},function(c){return Os(c)||(Cn(n),c&&c.response&&(c.response.data=Sn.call(n,n.transformResponse,c.response),c.response.headers=It.from(c.response.headers))),Promise.reject(c)})}const Is="1.8.4",Ji={};["object","boolean","number","function","string","symbol"].forEach((n,s)=>{Ji[n]=function(c){return typeof c===n||"a"+(s<1?"n ":" ")+n}});const go={};Ji.transitional=function(s,r,c){function a(m,p){return"[Axios v"+Is+"] Transitional option '"+m+"'"+p+(c?". "+c:"")}return(m,p,b)=>{if(s===!1)throw new st(a(p," has been removed"+(r?" in "+r:"")),st.ERR_DEPRECATED);return r&&!go[p]&&(go[p]=!0,console.warn(a(p," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(m,p,b):!0}};Ji.spelling=function(s){return(r,c)=>(console.warn(`${c} is likely a misspelling of ${s}`),!0)};function gh(n,s,r){if(typeof n!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let a=c.length;for(;a-- >0;){const m=c[a],p=s[m];if(p){const b=n[m],k=b===void 0||p(b,m,n);if(k!==!0)throw new st("option "+m+" must be "+k,st.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new st("Unknown option "+m,st.ERR_BAD_OPTION)}}const Ni={assertOptions:gh,validators:Ji},Jt=Ni.validators;let we=class{constructor(s){this.defaults=s,this.interceptors={request:new ao,response:new ao}}async request(s,r){try{return await this._request(s,r)}catch(c){if(c instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const m=a.stack?a.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ye(this.defaults,r);const{transitional:c,paramsSerializer:a,headers:m}=r;c!==void 0&&Ni.assertOptions(c,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),a!=null&&(Z.isFunction(a)?r.paramsSerializer={serialize:a}:Ni.assertOptions(a,{encode:Jt.function,serialize:Jt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ni.assertOptions(r,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let p=m&&Z.merge(m.common,m[r.method]);m&&Z.forEach(["delete","get","head","post","put","patch","common"],f=>{delete m[f]}),r.headers=It.concat(p,m);const b=[];let k=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(k=k&&g.synchronous,b.unshift(g.fulfilled,g.rejected))});const x=[];this.interceptors.response.forEach(function(g){x.push(g.fulfilled,g.rejected)});let _,u=0,w;if(!k){const f=[_o.bind(this),void 0];for(f.unshift.apply(f,b),f.push.apply(f,x),w=f.length,_=Promise.resolve(r);u<w;)_=_.then(f[u++],f[u++]);return _}w=b.length;let y=r;for(u=0;u<w;){const f=b[u++],g=b[u++];try{y=f(y)}catch(E){g.call(this,E);break}}try{_=_o.call(this,y)}catch(f){return Promise.reject(f)}for(u=0,w=x.length;u<w;)_=_.then(x[u++],x[u++]);return _}getUri(s){s=ye(this.defaults,s);const r=Ss(s.baseURL,s.url,s.allowAbsoluteUrls);return Ps(r,s.params,s.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(s){we.prototype[s]=function(r,c){return this.request(ye(c||{},{method:s,url:r,data:(c||{}).data}))}});Z.forEach(["post","put","patch"],function(s){function r(c){return function(m,p,b){return this.request(ye(b||{},{method:s,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}we.prototype[s]=r(),we.prototype[s+"Form"]=r(!0)});let wh=class Bs{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(m){r=m});const c=this;this.promise.then(a=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](a);c._listeners=null}),this.promise.then=a=>{let m;const p=new Promise(b=>{c.subscribe(b),m=b}).then(a);return p.cancel=function(){c.unsubscribe(m)},p},s(function(m,p,b){c.reason||(c.reason=new Ie(m,p,b),r(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=c=>{s.abort(c)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Bs(function(a){s=a}),cancel:s}}};function yh(n){return function(r){return n.apply(null,r)}}function vh(n){return Z.isObject(n)&&n.isAxiosError===!0}const zn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zn).forEach(([n,s])=>{zn[s]=n});function Fs(n){const s=new we(n),r=ds(we.prototype.request,s);return Z.extend(r,we.prototype,s,{allOwnKeys:!0}),Z.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return Fs(ye(n,a))},r}const xt=Fs(ci);xt.Axios=we;xt.CanceledError=Ie;xt.CancelToken=wh;xt.isCancel=Os;xt.VERSION=Is;xt.toFormData=Gi;xt.AxiosError=st;xt.Cancel=xt.CanceledError;xt.all=function(s){return Promise.all(s)};xt.spread=yh;xt.isAxiosError=vh;xt.mergeConfig=ye;xt.AxiosHeaders=It;xt.formToJSON=n=>Es(Z.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=Ns.getAdapter;xt.HttpStatusCode=zn;xt.default=xt;const{Axios:Eh,AxiosError:Oh,CanceledError:Lh,isCancel:Sh,CancelToken:Ch,VERSION:Ah,all:Mh,Cancel:Nh,isAxiosError:Ih,spread:Bh,toFormData:Fh,AxiosHeaders:Rh,HttpStatusCode:zh,formToJSON:jh,getAdapter:Zh,mergeConfig:Uh}=xt,kh=`
SELECT ?id ?namesake (SAMPLE(?img) AS ?IMG) (SAMPLE(?kvartal_wikitext) AS ?KVARTAL_WT)
  (CONCAT('<big>', ?namesake_wikitext, '</big>') AS ?title)
  (COALESCE(CONCAT('<hr>. <em><a href="https://www.openstreetmap.org/relation/', ?osm, '" target="_blank">', ?bul_label, '</a></em>  .', 
  ?KVARTAL_WT, ',     ', ?namesake_wikitext, ' (<em><a href="https://www.ipni.org/n/', ?ipni, '" target="_blank">', ?taxon_name, '</a></em>)'), CONCAT('<hr>[', str(?id), '   ]')) AS ?description)
  (CONCAT('#', substr(SHA1(CONCAT(str(?id), 'cvete')), 1, 6)) AS ?stroke)
  (5 AS ?stroke_width)
  (?osm AS ?osmRelationId)
WHERE {
  ?id wdt:P31 wd:Q79007 ;
      wdt:P276 wd:Q472 ;
      wdt:P276 ?kvartal ;
      wdt:P402 ?osm .
  ?kvartal wdt:P31 wd:Q123705 .
  ?id wdt:P138 ?namesake .
  ?namesake wdt:P31 wd:Q16521 ;
            wdt:P961 ?ipni ;
            wdt:P225 ?taxon_name .
  OPTIONAL {
    ?namesake wdt:P18 ?img .
  }
  OPTIONAL {
    ?namesake_wiki_link schema:about ?namesake ;
                        schema:isPartOf <https://bg.wikipedia.org/> ;
                        schema:name ?namesake_wiki_name .
  }
  OPTIONAL {
    ?kvartal_wiki_link schema:about ?kvartal ;
                       schema:isPartOf <https://bg.wikipedia.org/> ;
                       schema:name ?kvartal_wiki_name .
  }
  SERVICE wikibase:label {
    bd:serviceParam wikibase:language 'bg' .
    ?namesake rdfs:label ?namesake_label .
    ?kvartal rdfs:label ?kvartal_label .
    ?id rdfs:label ?bul_label .
  }
  OPTIONAL {
    ?bul_wiki schema:about ?id ;
              schema:isPartOf <https://bg.wikipedia.org/> ;
              schema:name ?bul_wiki_name .
  }
  BIND (COALESCE(CONCAT('<a href="https://bg.wikipedia.org/wiki/', ?namesake_wiki_name, '" target="_blank">', ?namesake_wiki_name, '</a>'), ?namesake_label) AS ?namesake_wikitext)
  BIND (CONCAT('<a href="https://bg.wikipedia.org/wiki/', ?kvartal_wiki_name, '" target="_blank">', ?kvartal_wiki_name, '</a>') AS ?kvartal_wikitext)
}
GROUP BY ?id ?title ?namesake ?namesake_label ?namesake_desc ?namesake_wiki_name ?namesake_wiki_link
  ?taxon_name ?ipni ?bul_label ?osm ?namesake_wikitext`,bh=ve({__name:"MapsView",setup(n){const r=Hc({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"}).sparqlQuery(kh),c=ji(),a=ru(()=>{var p;return((p=c.value)==null?void 0:p.results.bindings.map(b=>{var k;return(k=b.osmRelationId)==null?void 0:k.value}))||[]});function m(p){var k;const b=(((k=c.value)==null?void 0:k.results.bindings)||[]).find(x=>{var _;return((_=x.osmRelationId)==null?void 0:_.value)==p});return`
    <div align="center">
      ${b==null?void 0:b.title.value}<br>
      <img src="${b==null?void 0:b.IMG.value}" alt="Image" style="width: 100px; height: auto;"><br>
      ${b==null?void 0:b.description.value}<br>
    </div>`}return Zi(async()=>{try{const p=await xt.get(r);c.value=p.data}catch(p){console.error("Error fetching data:",p)}}),(p,b)=>(se(),Ii("div",null,[b[0]||(b[0]=ou("h1",null,"      ",-1)),Xr(lu,{center:[42.698334,23.319941]},{default:jn(()=>[Xr(fu),(se(!0),Ii(vo,null,ko(a.value,k=>{var x,_;return se(),Ui(ku,{key:k,id:k,stroke:(_=(x=c.value)==null?void 0:x.results.bindings.find(u=>{var w;return((w=u.osmRelationId)==null?void 0:w.value)==k}))==null?void 0:_.stroke.value,"stroke-width":5,"popup-content":m(k)},null,8,["id","stroke","popup-content"])}),128))]),_:1})]))}}),$h=wo(bh,[["__scopeId","data-v-9a01e8ee"]]);export{$h as default};
