import{l as Le}from"./leaflet-B44856_d.js";import{d as ge,r as mt,I as On,D as kt,E as ei,J as Se,o as ve,p as xn,i as Tn,w as ti,e as gt,f as ii,G as Sn,H as Fn}from"./vuetify-Bz3L5cxd.js";import{_ as Nn}from"./index-CmzqPN2c.js";const An={ref:"leaflet-map",class:"map"},Cn=ge({__name:"VMap",props:{center:{}},setup(e){const i=e,t=mt(),o=On("leaflet-map");return xn("map",t),kt(()=>{if(!o.value)throw new Error("Map reference is not available");t.value=Le.map(o.value,{zoomControl:!1}),Le.control.zoom({position:"bottomright"}).addTo(t.value),i.center&&t.value.setView(i.center,11.5)}),(n,c)=>(ve(),ei("div",An,[Se(n.$slots,"default",{},void 0,!0)],512))}}),zs=Nn(Cn,[["__scopeId","data-v-4d679cfd"]]);function ni(){const e=Tn("map");if(!e)throw new Error("useMapInstance() must be used inside <Map>");return e}const jn=ge({__name:"TileLayer",props:{urlTemplate:{type:String,required:!0},attribution:{type:String,required:!0}},setup(e){const i=ni(),t=e;return ti(i,()=>{i.value&&Le.tileLayer(t.urlTemplate,{attribution:t.attribution}).addTo(i.value)},{immediate:!0}),(o,n)=>Se(o.$slots,"default")}}),Hs=ge({__name:"OsmTileLayer",setup(e){return(i,t)=>(ve(),gt(jn,{"url-template":"https://tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"Â© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}))}}),Pt=()=>{let e,i;const t=new Promise((o,n)=>{e=o,i=n});return{resolve:e,reject:i,value:t}},Rn=(e,i)=>{var k;const t=e.name??`batcher:${Math.random().toString(16).slice(2)})`,o=e.scheduler??Pn(10),n=(k=globalThis.__BATSHIT_DEVTOOLS__)==null?void 0:k.for(t);let c={seq:0,batch:new Set,currentRequest:Pt(),timer:void 0,start:null,latest:null};n==null||n.create({seq:c.seq});const l=()=>{c.batch=new Set,c.currentRequest=Pt(),c.timer=void 0,c.start=null,c.latest=null};return{fetch:p=>{c.start||(c.start=Date.now()),c.latest=Date.now(),c.batch.add(p),clearTimeout(c.timer);const f=o(c.start,c.latest,c.batch.size);n==null||n.queue({seq:c.seq,query:p,batch:[...c.batch],scheduled:f,latest:c.latest,start:c.start});const r=()=>{const w=c.seq,h=e.fetcher([...c.batch]),u=c.currentRequest;return n==null||n.fetch({seq:w,batch:[...c.batch]}),l(),h.then(d=>{n==null||n.data({seq:w,data:d}),u.resolve(d)}).catch(d=>{n==null||n.error({seq:w,error:d}),u.reject(d)}),c.seq++,h};if(f==="immediate"){const w=c.currentRequest;return r(),w.value.then(h=>e.resolver(h,p))}else return f==="never"?c.currentRequest.value.then(w=>e.resolver(w,p)):(c.timer=setTimeout(r,f),c.currentRequest.value.then(w=>e.resolver(w,p)))}}},Pn=e=>(i,t)=>{const o=t-i;return e-o},In=({windowMs:e,maxBatchSize:i})=>(t,o,n)=>{if(n>=i)return"immediate";const c=o-t;return e-c};function $e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nt={exports:{}},It;function $n(){return It||(It=1,function(e,i){(function(t){e.exports=t()})(function(){return function(){function t(o,n,c){function l(p,f){if(!n[p]){if(!o[p]){var r=typeof $e=="function"&&$e;if(!f&&r)return r(p,!0);if(m)return m(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var h=n[p]={exports:{}};o[p][0].call(h.exports,function(u){var d=o[p][1][u];return l(d||u)},h,h.exports,t,o,n,c)}return n[p].exports}for(var m=typeof $e=="function"&&$e,k=0;k<c.length;k++)l(c[k]);return l}return t}()({1:[function(t,o,n){n.byteLength=w,n.toByteArray=u,n.fromByteArray=E;for(var c=[],l=[],m=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=k.length;p<f;++p)c[p]=k[p],l[k.charCodeAt(p)]=p;l[45]=62,l[95]=63;function r(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=v);var C=x===v?0:4-x%4;return[x,C]}function w(g){var v=r(g),x=v[0],C=v[1];return(x+C)*3/4-C}function h(g,v,x){return(v+x)*3/4-x}function u(g){var v,x=r(g),C=x[0],O=x[1],T=new m(h(g,C,O)),P=0,N=O>0?C-4:C,j;for(j=0;j<N;j+=4)v=l[g.charCodeAt(j)]<<18|l[g.charCodeAt(j+1)]<<12|l[g.charCodeAt(j+2)]<<6|l[g.charCodeAt(j+3)],T[P++]=v>>16&255,T[P++]=v>>8&255,T[P++]=v&255;return O===2&&(v=l[g.charCodeAt(j)]<<2|l[g.charCodeAt(j+1)]>>4,T[P++]=v&255),O===1&&(v=l[g.charCodeAt(j)]<<10|l[g.charCodeAt(j+1)]<<4|l[g.charCodeAt(j+2)]>>2,T[P++]=v>>8&255,T[P++]=v&255),T}function d(g){return c[g>>18&63]+c[g>>12&63]+c[g>>6&63]+c[g&63]}function b(g,v,x){for(var C,O=[],T=v;T<x;T+=3)C=(g[T]<<16&16711680)+(g[T+1]<<8&65280)+(g[T+2]&255),O.push(d(C));return O.join("")}function E(g){for(var v,x=g.length,C=x%3,O=[],T=16383,P=0,N=x-C;P<N;P+=T)O.push(b(g,P,P+T>N?N:P+T));return C===1?(v=g[x-1],O.push(c[v>>2]+c[v<<4&63]+"==")):C===2&&(v=(g[x-2]<<8)+g[x-1],O.push(c[v>>10]+c[v>>4&63]+c[v<<2&63]+"=")),O.join("")}},{}],2:[function(t,o,n){(function(c){(function(){var l=t("base64-js"),m=t("ieee754");n.Buffer=r,n.SlowBuffer=C,n.INSPECT_MAX_BYTES=50;var k=2147483647;n.kMaxLength=k,r.TYPED_ARRAY_SUPPORT=p(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{var y=new Uint8Array(1);return y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},y.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function f(y){if(y>k)throw new RangeError('The value "'+y+'" is invalid for option "size"');var s=new Uint8Array(y);return s.__proto__=r.prototype,s}function r(y,s,a){if(typeof y=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(y)}return w(y,s,a)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function w(y,s,a){if(typeof y=="string")return b(y,s);if(ArrayBuffer.isView(y))return E(y);if(y==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(fe(y,ArrayBuffer)||y&&fe(y.buffer,ArrayBuffer))return g(y,s,a);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=y.valueOf&&y.valueOf();if(_!=null&&_!==y)return r.from(_,s,a);var S=v(y);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return r.from(y[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}r.from=function(y,s,a){return w(y,s,a)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function h(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function u(y,s,a){return h(y),y<=0?f(y):s!==void 0?typeof a=="string"?f(y).fill(s,a):f(y).fill(s):f(y)}r.alloc=function(y,s,a){return u(y,s,a)};function d(y){return h(y),f(y<0?0:x(y)|0)}r.allocUnsafe=function(y){return d(y)},r.allocUnsafeSlow=function(y){return d(y)};function b(y,s){if((typeof s!="string"||s==="")&&(s="utf8"),!r.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=O(y,s)|0,_=f(a),S=_.write(y,s);return S!==a&&(_=_.slice(0,S)),_}function E(y){for(var s=y.length<0?0:x(y.length)|0,a=f(s),_=0;_<s;_+=1)a[_]=y[_]&255;return a}function g(y,s,a){if(s<0||y.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');var _;return s===void 0&&a===void 0?_=new Uint8Array(y):a===void 0?_=new Uint8Array(y,s):_=new Uint8Array(y,s,a),_.__proto__=r.prototype,_}function v(y){if(r.isBuffer(y)){var s=x(y.length)|0,a=f(s);return a.length===0||y.copy(a,0,0,s),a}if(y.length!==void 0)return typeof y.length!="number"||it(y.length)?f(0):E(y);if(y.type==="Buffer"&&Array.isArray(y.data))return E(y.data)}function x(y){if(y>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return y|0}function C(y){return+y!=y&&(y=0),r.alloc(+y)}r.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==r.prototype},r.compare=function(s,a){if(fe(s,Uint8Array)&&(s=r.from(s,s.offset,s.byteLength)),fe(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),!r.isBuffer(s)||!r.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;for(var _=s.length,S=a.length,R=0,I=Math.min(_,S);R<I;++R)if(s[R]!==a[R]){_=s[R],S=a[R];break}return _<S?-1:S<_?1:0},r.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return r.alloc(0);var _;if(a===void 0)for(a=0,_=0;_<s.length;++_)a+=s[_].length;var S=r.allocUnsafe(a),R=0;for(_=0;_<s.length;++_){var I=s[_];if(fe(I,Uint8Array)&&(I=r.from(I)),!r.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(S,R),R+=I.length}return S};function O(y,s){if(r.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||fe(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var a=y.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&a===0)return 0;for(var S=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return tt(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ct(y).length;default:if(S)return _?-1:tt(y).length;s=(""+s).toLowerCase(),S=!0}}r.byteLength=O;function T(y,s,a){var _=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(y||(y="utf8");;)switch(y){case"hex":return ee(this,s,a);case"utf8":case"utf-8":return H(this,s,a);case"ascii":return je(this,s,a);case"latin1":case"binary":return Re(this,s,a);case"base64":return B(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,s,a);default:if(_)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),_=!0}}r.prototype._isBuffer=!0;function P(y,s,a){var _=y[s];y[s]=y[a],y[a]=_}r.prototype.swap16=function(){var s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)P(this,a,a+1);return this},r.prototype.swap32=function(){var s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)P(this,a,a+3),P(this,a+1,a+2);return this},r.prototype.swap64=function(){var s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)P(this,a,a+7),P(this,a+1,a+6),P(this,a+2,a+5),P(this,a+3,a+4);return this},r.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?H(this,0,s):T.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(s){if(!r.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:r.compare(this,s)===0},r.prototype.inspect=function(){var s="",a=n.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},r.prototype.compare=function(s,a,_,S,R){if(fe(s,Uint8Array)&&(s=r.from(s,s.offset,s.byteLength)),!r.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),_===void 0&&(_=s?s.length:0),S===void 0&&(S=0),R===void 0&&(R=this.length),a<0||_>s.length||S<0||R>this.length)throw new RangeError("out of range index");if(S>=R&&a>=_)return 0;if(S>=R)return-1;if(a>=_)return 1;if(a>>>=0,_>>>=0,S>>>=0,R>>>=0,this===s)return 0;for(var I=R-S,z=_-a,W=Math.min(I,z),J=this.slice(S,R),D=s.slice(a,_),K=0;K<W;++K)if(J[K]!==D[K]){I=J[K],z=D[K];break}return I<z?-1:z<I?1:0};function N(y,s,a,_,S){if(y.length===0)return-1;if(typeof a=="string"?(_=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,it(a)&&(a=S?0:y.length-1),a<0&&(a=y.length+a),a>=y.length){if(S)return-1;a=y.length-1}else if(a<0)if(S)a=0;else return-1;if(typeof s=="string"&&(s=r.from(s,_)),r.isBuffer(s))return s.length===0?-1:j(y,s,a,_,S);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(y,s,a):Uint8Array.prototype.lastIndexOf.call(y,s,a):j(y,[s],a,_,S);throw new TypeError("val must be string, number or Buffer")}function j(y,s,a,_,S){var R=1,I=y.length,z=s.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(y.length<2||s.length<2)return-1;R=2,I/=2,z/=2,a/=2}function W(jt,Rt){return R===1?jt[Rt]:jt.readUInt16BE(Rt*R)}var J;if(S){var D=-1;for(J=a;J<I;J++)if(W(y,J)===W(s,D===-1?0:J-D)){if(D===-1&&(D=J),J-D+1===z)return D*R}else D!==-1&&(J-=J-D),D=-1}else for(a+z>I&&(a=I-z),J=a;J>=0;J--){for(var K=!0,Ie=0;Ie<z;Ie++)if(W(y,J+Ie)!==W(s,Ie)){K=!1;break}if(K)return J}return-1}r.prototype.includes=function(s,a,_){return this.indexOf(s,a,_)!==-1},r.prototype.indexOf=function(s,a,_){return N(this,s,a,_,!0)},r.prototype.lastIndexOf=function(s,a,_){return N(this,s,a,_,!1)};function F(y,s,a,_){a=Number(a)||0;var S=y.length-a;_?(_=Number(_),_>S&&(_=S)):_=S;var R=s.length;_>R/2&&(_=R/2);for(var I=0;I<_;++I){var z=parseInt(s.substr(I*2,2),16);if(it(z))return I;y[a+I]=z}return I}function M(y,s,a,_){return Pe(tt(s,y.length-a),y,a,_)}function U(y,s,a,_){return Pe(En(s),y,a,_)}function $(y,s,a,_){return U(y,s,a,_)}function X(y,s,a,_){return Pe(Ct(s),y,a,_)}function q(y,s,a,_){return Pe(vn(s,y.length-a),y,a,_)}r.prototype.write=function(s,a,_,S){if(a===void 0)S="utf8",_=this.length,a=0;else if(_===void 0&&typeof a=="string")S=a,_=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(_)?(_=_>>>0,S===void 0&&(S="utf8")):(S=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-a;if((_===void 0||_>R)&&(_=R),s.length>0&&(_<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");for(var I=!1;;)switch(S){case"hex":return F(this,s,a,_);case"utf8":case"utf-8":return M(this,s,a,_);case"ascii":return U(this,s,a,_);case"latin1":case"binary":return $(this,s,a,_);case"base64":return X(this,s,a,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,s,a,_);default:if(I)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),I=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(y,s,a){return s===0&&a===y.length?l.fromByteArray(y):l.fromByteArray(y.slice(s,a))}function H(y,s,a){a=Math.min(y.length,a);for(var _=[],S=s;S<a;){var R=y[S],I=null,z=R>239?4:R>223?3:R>191?2:1;if(S+z<=a){var W,J,D,K;switch(z){case 1:R<128&&(I=R);break;case 2:W=y[S+1],(W&192)===128&&(K=(R&31)<<6|W&63,K>127&&(I=K));break;case 3:W=y[S+1],J=y[S+2],(W&192)===128&&(J&192)===128&&(K=(R&15)<<12|(W&63)<<6|J&63,K>2047&&(K<55296||K>57343)&&(I=K));break;case 4:W=y[S+1],J=y[S+2],D=y[S+3],(W&192)===128&&(J&192)===128&&(D&192)===128&&(K=(R&15)<<18|(W&63)<<12|(J&63)<<6|D&63,K>65535&&K<1114112&&(I=K))}}I===null?(I=65533,z=1):I>65535&&(I-=65536,_.push(I>>>10&1023|55296),I=56320|I&1023),_.push(I),S+=z}return ne(_)}var V=4096;function ne(y){var s=y.length;if(s<=V)return String.fromCharCode.apply(String,y);for(var a="",_=0;_<s;)a+=String.fromCharCode.apply(String,y.slice(_,_+=V));return a}function je(y,s,a){var _="";a=Math.min(y.length,a);for(var S=s;S<a;++S)_+=String.fromCharCode(y[S]&127);return _}function Re(y,s,a){var _="";a=Math.min(y.length,a);for(var S=s;S<a;++S)_+=String.fromCharCode(y[S]);return _}function ee(y,s,a){var _=y.length;(!s||s<0)&&(s=0),(!a||a<0||a>_)&&(a=_);for(var S="",R=s;R<a;++R)S+=_n(y[R]);return S}function _e(y,s,a){for(var _=y.slice(s,a),S="",R=0;R<_.length;R+=2)S+=String.fromCharCode(_[R]+_[R+1]*256);return S}r.prototype.slice=function(s,a){var _=this.length;s=~~s,a=a===void 0?_:~~a,s<0?(s+=_,s<0&&(s=0)):s>_&&(s=_),a<0?(a+=_,a<0&&(a=0)):a>_&&(a=_),a<s&&(a=s);var S=this.subarray(s,a);return S.__proto__=r.prototype,S};function G(y,s,a){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+s>a)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(s,a,_){s=s>>>0,a=a>>>0,_||G(s,a,this.length);for(var S=this[s],R=1,I=0;++I<a&&(R*=256);)S+=this[s+I]*R;return S},r.prototype.readUIntBE=function(s,a,_){s=s>>>0,a=a>>>0,_||G(s,a,this.length);for(var S=this[s+--a],R=1;a>0&&(R*=256);)S+=this[s+--a]*R;return S},r.prototype.readUInt8=function(s,a){return s=s>>>0,a||G(s,1,this.length),this[s]},r.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||G(s,2,this.length),this[s]|this[s+1]<<8},r.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||G(s,2,this.length),this[s]<<8|this[s+1]},r.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||G(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},r.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},r.prototype.readIntLE=function(s,a,_){s=s>>>0,a=a>>>0,_||G(s,a,this.length);for(var S=this[s],R=1,I=0;++I<a&&(R*=256);)S+=this[s+I]*R;return R*=128,S>=R&&(S-=Math.pow(2,8*a)),S},r.prototype.readIntBE=function(s,a,_){s=s>>>0,a=a>>>0,_||G(s,a,this.length);for(var S=a,R=1,I=this[s+--S];S>0&&(R*=256);)I+=this[s+--S]*R;return R*=128,I>=R&&(I-=Math.pow(2,8*a)),I},r.prototype.readInt8=function(s,a){return s=s>>>0,a||G(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},r.prototype.readInt16LE=function(s,a){s=s>>>0,a||G(s,2,this.length);var _=this[s]|this[s+1]<<8;return _&32768?_|4294901760:_},r.prototype.readInt16BE=function(s,a){s=s>>>0,a||G(s,2,this.length);var _=this[s+1]|this[s]<<8;return _&32768?_|4294901760:_},r.prototype.readInt32LE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},r.prototype.readInt32BE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},r.prototype.readFloatLE=function(s,a){return s=s>>>0,a||G(s,4,this.length),m.read(this,s,!0,23,4)},r.prototype.readFloatBE=function(s,a){return s=s>>>0,a||G(s,4,this.length),m.read(this,s,!1,23,4)},r.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||G(s,8,this.length),m.read(this,s,!0,52,8)},r.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||G(s,8,this.length),m.read(this,s,!1,52,8)};function te(y,s,a,_,S,R){if(!r.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>S||s<R)throw new RangeError('"value" argument is out of bounds');if(a+_>y.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(s,a,_,S){if(s=+s,a=a>>>0,_=_>>>0,!S){var R=Math.pow(2,8*_)-1;te(this,s,a,_,R,0)}var I=1,z=0;for(this[a]=s&255;++z<_&&(I*=256);)this[a+z]=s/I&255;return a+_},r.prototype.writeUIntBE=function(s,a,_,S){if(s=+s,a=a>>>0,_=_>>>0,!S){var R=Math.pow(2,8*_)-1;te(this,s,a,_,R,0)}var I=_-1,z=1;for(this[a+I]=s&255;--I>=0&&(z*=256);)this[a+I]=s/z&255;return a+_},r.prototype.writeUInt8=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,1,255,0),this[a]=s&255,a+1},r.prototype.writeUInt16LE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},r.prototype.writeUInt16BE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},r.prototype.writeUInt32LE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},r.prototype.writeUInt32BE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},r.prototype.writeIntLE=function(s,a,_,S){if(s=+s,a=a>>>0,!S){var R=Math.pow(2,8*_-1);te(this,s,a,_,R-1,-R)}var I=0,z=1,W=0;for(this[a]=s&255;++I<_&&(z*=256);)s<0&&W===0&&this[a+I-1]!==0&&(W=1),this[a+I]=(s/z>>0)-W&255;return a+_},r.prototype.writeIntBE=function(s,a,_,S){if(s=+s,a=a>>>0,!S){var R=Math.pow(2,8*_-1);te(this,s,a,_,R-1,-R)}var I=_-1,z=1,W=0;for(this[a+I]=s&255;--I>=0&&(z*=256);)s<0&&W===0&&this[a+I+1]!==0&&(W=1),this[a+I]=(s/z>>0)-W&255;return a+_},r.prototype.writeInt8=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},r.prototype.writeInt16LE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},r.prototype.writeInt16BE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},r.prototype.writeInt32LE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},r.prototype.writeInt32BE=function(s,a,_){return s=+s,a=a>>>0,_||te(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function Ft(y,s,a,_,S,R){if(a+_>y.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Nt(y,s,a,_,S){return s=+s,a=a>>>0,S||Ft(y,s,a,4),m.write(y,s,a,_,23,4),a+4}r.prototype.writeFloatLE=function(s,a,_){return Nt(this,s,a,!0,_)},r.prototype.writeFloatBE=function(s,a,_){return Nt(this,s,a,!1,_)};function At(y,s,a,_,S){return s=+s,a=a>>>0,S||Ft(y,s,a,8),m.write(y,s,a,_,52,8),a+8}r.prototype.writeDoubleLE=function(s,a,_){return At(this,s,a,!0,_)},r.prototype.writeDoubleBE=function(s,a,_){return At(this,s,a,!1,_)},r.prototype.copy=function(s,a,_,S){if(!r.isBuffer(s))throw new TypeError("argument should be a Buffer");if(_||(_=0),!S&&S!==0&&(S=this.length),a>=s.length&&(a=s.length),a||(a=0),S>0&&S<_&&(S=_),S===_||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),s.length-a<S-_&&(S=s.length-a+_);var R=S-_;if(this===s&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(a,_,S);else if(this===s&&_<a&&a<S)for(var I=R-1;I>=0;--I)s[I+a]=this[I+_];else Uint8Array.prototype.set.call(s,this.subarray(_,S),a);return R},r.prototype.fill=function(s,a,_,S){if(typeof s=="string"){if(typeof a=="string"?(S=a,a=0,_=this.length):typeof _=="string"&&(S=_,_=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!r.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(s.length===1){var R=s.charCodeAt(0);(S==="utf8"&&R<128||S==="latin1")&&(s=R)}}else typeof s=="number"&&(s=s&255);if(a<0||this.length<a||this.length<_)throw new RangeError("Out of range index");if(_<=a)return this;a=a>>>0,_=_===void 0?this.length:_>>>0,s||(s=0);var I;if(typeof s=="number")for(I=a;I<_;++I)this[I]=s;else{var z=r.isBuffer(s)?s:r.from(s,S),W=z.length;if(W===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(I=0;I<_-a;++I)this[I+a]=z[I%W]}return this};var yn=/[^+/0-9A-Za-z-_]/g;function bn(y){if(y=y.split("=")[0],y=y.trim().replace(yn,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function _n(y){return y<16?"0"+y.toString(16):y.toString(16)}function tt(y,s){s=s||1/0;for(var a,_=y.length,S=null,R=[],I=0;I<_;++I){if(a=y.charCodeAt(I),a>55295&&a<57344){if(!S){if(a>56319){(s-=3)>-1&&R.push(239,191,189);continue}else if(I+1===_){(s-=3)>-1&&R.push(239,191,189);continue}S=a;continue}if(a<56320){(s-=3)>-1&&R.push(239,191,189),S=a;continue}a=(S-55296<<10|a-56320)+65536}else S&&(s-=3)>-1&&R.push(239,191,189);if(S=null,a<128){if((s-=1)<0)break;R.push(a)}else if(a<2048){if((s-=2)<0)break;R.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;R.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;R.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return R}function En(y){for(var s=[],a=0;a<y.length;++a)s.push(y.charCodeAt(a)&255);return s}function vn(y,s){for(var a,_,S,R=[],I=0;I<y.length&&!((s-=2)<0);++I)a=y.charCodeAt(I),_=a>>8,S=a%256,R.push(S),R.push(_);return R}function Ct(y){return l.toByteArray(bn(y))}function Pe(y,s,a,_){for(var S=0;S<_&&!(S+a>=s.length||S>=y.length);++S)s[S+a]=y[S];return S}function fe(y,s){return y instanceof s||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===s.name}function it(y){return y!==y}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:14}],3:[function(t,o,n){const c=t("./validator"),l=t("./xmlparser/XMLParser"),m=t("./xmlbuilder/json2xml");o.exports={XMLParser:l,XMLValidator:c,XMLBuilder:m}},{"./validator":5,"./xmlbuilder/json2xml":6,"./xmlparser/XMLParser":11}],4:[function(t,o,n){const c=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",l=c+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m="["+c+"]["+l+"]*",k=new RegExp("^"+m+"$"),p=function(r,w){const h=[];let u=w.exec(r);for(;u;){const d=[];d.startIndex=w.lastIndex-u[0].length;const b=u.length;for(let E=0;E<b;E++)d.push(u[E]);h.push(d),u=w.exec(r)}return h},f=function(r){const w=k.exec(r);return!(w===null||typeof w>"u")};n.isExist=function(r){return typeof r<"u"},n.isEmptyObject=function(r){return Object.keys(r).length===0},n.merge=function(r,w,h){if(w){const u=Object.keys(w),d=u.length;for(let b=0;b<d;b++)h==="strict"?r[u[b]]=[w[u[b]]]:r[u[b]]=w[u[b]]}},n.getValue=function(r){return n.isExist(r)?r:""},n.isName=f,n.getAllMatches=p,n.nameRegexp=m},{}],5:[function(t,o,n){const c=t("./util"),l={allowBooleanAttributes:!1,unpairedTags:[]};n.validate=function(O,T){T=Object.assign({},l,T);const P=[];let N=!1,j=!1;O[0]==="\uFEFF"&&(O=O.substr(1));for(let F=0;F<O.length;F++)if(O[F]==="<"&&O[F+1]==="?"){if(F+=2,F=k(O,F),F.err)return F}else if(O[F]==="<"){let M=F;if(F++,O[F]==="!"){F=p(O,F);continue}else{let U=!1;O[F]==="/"&&(U=!0,F++);let $="";for(;F<O.length&&O[F]!==">"&&O[F]!==" "&&O[F]!=="	"&&O[F]!==`
`&&O[F]!=="\r";F++)$+=O[F];if($=$.trim(),$[$.length-1]==="/"&&($=$.substring(0,$.length-1),F--),!v($)){let B;return $.trim().length===0?B="Invalid space after '<'.":B="Tag '"+$+"' is an invalid name.",E("InvalidTag",B,x(O,F))}const X=w(O,F);if(X===!1)return E("InvalidAttr","Attributes for '"+$+"' have open quote.",x(O,F));let q=X.value;if(F=X.index,q[q.length-1]==="/"){const B=F-q.length;q=q.substring(0,q.length-1);const H=u(q,T);if(H===!0)N=!0;else return E(H.err.code,H.err.msg,x(O,B+H.err.line))}else if(U)if(X.tagClosed){if(q.trim().length>0)return E("InvalidTag","Closing tag '"+$+"' can't have attributes or invalid starting.",x(O,M));if(P.length===0)return E("InvalidTag","Closing tag '"+$+"' has not been opened.",x(O,M));{const B=P.pop();if($!==B.tagName){let H=x(O,B.tagStartPos);return E("InvalidTag","Expected closing tag '"+B.tagName+"' (opened in line "+H.line+", col "+H.col+") instead of closing tag '"+$+"'.",x(O,M))}P.length==0&&(j=!0)}}else return E("InvalidTag","Closing tag '"+$+"' doesn't have proper closing.",x(O,F));else{const B=u(q,T);if(B!==!0)return E(B.err.code,B.err.msg,x(O,F-q.length+B.err.line));if(j===!0)return E("InvalidXml","Multiple possible root nodes found.",x(O,F));T.unpairedTags.indexOf($)!==-1||P.push({tagName:$,tagStartPos:M}),N=!0}for(F++;F<O.length;F++)if(O[F]==="<")if(O[F+1]==="!"){F++,F=p(O,F);continue}else if(O[F+1]==="?"){if(F=k(O,++F),F.err)return F}else break;else if(O[F]==="&"){const B=b(O,F);if(B==-1)return E("InvalidChar","char '&' is not expected.",x(O,F));F=B}else if(j===!0&&!m(O[F]))return E("InvalidXml","Extra text at the end",x(O,F));O[F]==="<"&&F--}}else{if(m(O[F]))continue;return E("InvalidChar","char '"+O[F]+"' is not expected.",x(O,F))}if(N){if(P.length==1)return E("InvalidTag","Unclosed tag '"+P[0].tagName+"'.",x(O,P[0].tagStartPos));if(P.length>0)return E("InvalidXml","Invalid '"+JSON.stringify(P.map(F=>F.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return E("InvalidXml","Start tag expected.",1);return!0};function m(O){return O===" "||O==="	"||O===`
`||O==="\r"}function k(O,T){const P=T;for(;T<O.length;T++)if(O[T]=="?"||O[T]==" "){const N=O.substr(P,T-P);if(T>5&&N==="xml")return E("InvalidXml","XML declaration allowed only at the start of the document.",x(O,T));if(O[T]=="?"&&O[T+1]==">"){T++;break}else continue}return T}function p(O,T){if(O.length>T+5&&O[T+1]==="-"&&O[T+2]==="-"){for(T+=3;T<O.length;T++)if(O[T]==="-"&&O[T+1]==="-"&&O[T+2]===">"){T+=2;break}}else if(O.length>T+8&&O[T+1]==="D"&&O[T+2]==="O"&&O[T+3]==="C"&&O[T+4]==="T"&&O[T+5]==="Y"&&O[T+6]==="P"&&O[T+7]==="E"){let P=1;for(T+=8;T<O.length;T++)if(O[T]==="<")P++;else if(O[T]===">"&&(P--,P===0))break}else if(O.length>T+9&&O[T+1]==="["&&O[T+2]==="C"&&O[T+3]==="D"&&O[T+4]==="A"&&O[T+5]==="T"&&O[T+6]==="A"&&O[T+7]==="["){for(T+=8;T<O.length;T++)if(O[T]==="]"&&O[T+1]==="]"&&O[T+2]===">"){T+=2;break}}return T}const f='"',r="'";function w(O,T){let P="",N="",j=!1;for(;T<O.length;T++){if(O[T]===f||O[T]===r)N===""?N=O[T]:N!==O[T]||(N="");else if(O[T]===">"&&N===""){j=!0;break}P+=O[T]}return N!==""?!1:{value:P,index:T,tagClosed:j}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u(O,T){const P=c.getAllMatches(O,h),N={};for(let j=0;j<P.length;j++){if(P[j][1].length===0)return E("InvalidAttr","Attribute '"+P[j][2]+"' has no space in starting.",C(P[j]));if(P[j][3]!==void 0&&P[j][4]===void 0)return E("InvalidAttr","Attribute '"+P[j][2]+"' is without value.",C(P[j]));if(P[j][3]===void 0&&!T.allowBooleanAttributes)return E("InvalidAttr","boolean attribute '"+P[j][2]+"' is not allowed.",C(P[j]));const F=P[j][2];if(!g(F))return E("InvalidAttr","Attribute '"+F+"' is an invalid name.",C(P[j]));if(!N.hasOwnProperty(F))N[F]=1;else return E("InvalidAttr","Attribute '"+F+"' is repeated.",C(P[j]))}return!0}function d(O,T){let P=/\d/;for(O[T]==="x"&&(T++,P=/[\da-fA-F]/);T<O.length;T++){if(O[T]===";")return T;if(!O[T].match(P))break}return-1}function b(O,T){if(T++,O[T]===";")return-1;if(O[T]==="#")return T++,d(O,T);let P=0;for(;T<O.length;T++,P++)if(!(O[T].match(/\w/)&&P<20)){if(O[T]===";")break;return-1}return T}function E(O,T,P){return{err:{code:O,msg:T,line:P.line||P,col:P.col}}}function g(O){return c.isName(O)}function v(O){return c.isName(O)}function x(O,T){const P=O.substring(0,T).split(/\r?\n/);return{line:P.length,col:P[P.length-1].length+1}}function C(O){return O.startIndex+O[1].length}},{"./util":4}],6:[function(t,o,n){const c=t("./orderedJs2Xml"),l={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(r,w){return w},attributeValueProcessor:function(r,w){return w},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function m(r){this.options=Object.assign({},l,r),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=k,this.options.format?(this.indentate=p,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}m.prototype.build=function(r){return this.options.preserveOrder?c(r,this.options):(Array.isArray(r)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(r={[this.options.arrayNodeName]:r}),this.j2x(r,0).val)},m.prototype.j2x=function(r,w){let h="",u="";for(let d in r)if(Object.prototype.hasOwnProperty.call(r,d))if(typeof r[d]>"u")this.isAttribute(d)&&(u+="");else if(r[d]===null)this.isAttribute(d)?u+="":d[0]==="?"?u+=this.indentate(w)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(w)+"<"+d+"/"+this.tagEndChar;else if(r[d]instanceof Date)u+=this.buildTextValNode(r[d],d,"",w);else if(typeof r[d]!="object"){const b=this.isAttribute(d);if(b)h+=this.buildAttrPairStr(b,""+r[d]);else if(d===this.options.textNodeName){let E=this.options.tagValueProcessor(d,""+r[d]);u+=this.replaceEntitiesValue(E)}else u+=this.buildTextValNode(r[d],d,"",w)}else if(Array.isArray(r[d])){const b=r[d].length;let E="",g="";for(let v=0;v<b;v++){const x=r[d][v];if(!(typeof x>"u"))if(x===null)d[0]==="?"?u+=this.indentate(w)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(w)+"<"+d+"/"+this.tagEndChar;else if(typeof x=="object")if(this.options.oneListGroup){const C=this.j2x(x,w+1);E+=C.val,this.options.attributesGroupName&&x.hasOwnProperty(this.options.attributesGroupName)&&(g+=C.attrStr)}else E+=this.processTextOrObjNode(x,d,w);else if(this.options.oneListGroup){let C=this.options.tagValueProcessor(d,x);C=this.replaceEntitiesValue(C),E+=C}else E+=this.buildTextValNode(x,d,"",w)}this.options.oneListGroup&&(E=this.buildObjectNode(E,d,g,w)),u+=E}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const b=Object.keys(r[d]),E=b.length;for(let g=0;g<E;g++)h+=this.buildAttrPairStr(b[g],""+r[d][b[g]])}else u+=this.processTextOrObjNode(r[d],d,w);return{attrStr:h,val:u}},m.prototype.buildAttrPairStr=function(r,w){return w=this.options.attributeValueProcessor(r,""+w),w=this.replaceEntitiesValue(w),this.options.suppressBooleanAttributes&&w==="true"?" "+r:" "+r+'="'+w+'"'};function k(r,w,h){const u=this.j2x(r,h+1);return r[this.options.textNodeName]!==void 0&&Object.keys(r).length===1?this.buildTextValNode(r[this.options.textNodeName],w,u.attrStr,h):this.buildObjectNode(u.val,w,u.attrStr,h)}m.prototype.buildObjectNode=function(r,w,h,u){if(r==="")return w[0]==="?"?this.indentate(u)+"<"+w+h+"?"+this.tagEndChar:this.indentate(u)+"<"+w+h+this.closeTag(w)+this.tagEndChar;{let d="</"+w+this.tagEndChar,b="";return w[0]==="?"&&(b="?",d=""),(h||h==="")&&r.indexOf("<")===-1?this.indentate(u)+"<"+w+h+b+">"+r+d:this.options.commentPropName!==!1&&w===this.options.commentPropName&&b.length===0?this.indentate(u)+`<!--${r}-->`+this.newLine:this.indentate(u)+"<"+w+h+b+this.tagEndChar+r+this.indentate(u)+d}},m.prototype.closeTag=function(r){let w="";return this.options.unpairedTags.indexOf(r)!==-1?this.options.suppressUnpairedNode||(w="/"):this.options.suppressEmptyNode?w="/":w=`></${r}`,w},m.prototype.buildTextValNode=function(r,w,h,u){if(this.options.cdataPropName!==!1&&w===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${r}]]>`+this.newLine;if(this.options.commentPropName!==!1&&w===this.options.commentPropName)return this.indentate(u)+`<!--${r}-->`+this.newLine;if(w[0]==="?")return this.indentate(u)+"<"+w+h+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(w,r);return d=this.replaceEntitiesValue(d),d===""?this.indentate(u)+"<"+w+h+this.closeTag(w)+this.tagEndChar:this.indentate(u)+"<"+w+h+">"+d+"</"+w+this.tagEndChar}},m.prototype.replaceEntitiesValue=function(r){if(r&&r.length>0&&this.options.processEntities)for(let w=0;w<this.options.entities.length;w++){const h=this.options.entities[w];r=r.replace(h.regex,h.val)}return r};function p(r){return this.options.indentBy.repeat(r)}function f(r){return r.startsWith(this.options.attributeNamePrefix)&&r!==this.options.textNodeName?r.substr(this.attrPrefixLen):!1}o.exports=m},{"./orderedJs2Xml":7}],7:[function(t,o,n){const c=`
`;function l(w,h){let u="";return h.format&&h.indentBy.length>0&&(u=c),m(w,h,"",u)}function m(w,h,u,d){let b="",E=!1;for(let g=0;g<w.length;g++){const v=w[g],x=k(v);if(x===void 0)continue;let C="";if(u.length===0?C=x:C=`${u}.${x}`,x===h.textNodeName){let j=v[x];f(C,h)||(j=h.tagValueProcessor(x,j),j=r(j,h)),E&&(b+=d),b+=j,E=!1;continue}else if(x===h.cdataPropName){E&&(b+=d),b+=`<![CDATA[${v[x][0][h.textNodeName]}]]>`,E=!1;continue}else if(x===h.commentPropName){b+=d+`<!--${v[x][0][h.textNodeName]}-->`,E=!0;continue}else if(x[0]==="?"){const j=p(v[":@"],h),F=x==="?xml"?"":d;let M=v[x][0][h.textNodeName];M=M.length!==0?" "+M:"",b+=F+`<${x}${M}${j}?>`,E=!0;continue}let O=d;O!==""&&(O+=h.indentBy);const T=p(v[":@"],h),P=d+`<${x}${T}`,N=m(v[x],h,C,O);h.unpairedTags.indexOf(x)!==-1?h.suppressUnpairedNode?b+=P+">":b+=P+"/>":(!N||N.length===0)&&h.suppressEmptyNode?b+=P+"/>":N&&N.endsWith(">")?b+=P+`>${N}${d}</${x}>`:(b+=P+">",N&&d!==""&&(N.includes("/>")||N.includes("</"))?b+=d+h.indentBy+N+d:b+=N,b+=`</${x}>`),E=!0}return b}function k(w){const h=Object.keys(w);for(let u=0;u<h.length;u++){const d=h[u];if(w.hasOwnProperty(d)&&d!==":@")return d}}function p(w,h){let u="";if(w&&!h.ignoreAttributes)for(let d in w){if(!w.hasOwnProperty(d))continue;let b=h.attributeValueProcessor(d,w[d]);b=r(b,h),b===!0&&h.suppressBooleanAttributes?u+=` ${d.substr(h.attributeNamePrefix.length)}`:u+=` ${d.substr(h.attributeNamePrefix.length)}="${b}"`}return u}function f(w,h){w=w.substr(0,w.length-h.textNodeName.length-1);let u=w.substr(w.lastIndexOf(".")+1);for(let d in h.stopNodes)if(h.stopNodes[d]===w||h.stopNodes[d]==="*."+u)return!0;return!1}function r(w,h){if(w&&w.length>0&&h.processEntities)for(let u=0;u<h.entities.length;u++){const d=h.entities[u];w=w.replace(d.regex,d.val)}return w}o.exports=l},{}],8:[function(t,o,n){const c=t("../util");function l(u,d){const b={};if(u[d+3]==="O"&&u[d+4]==="C"&&u[d+5]==="T"&&u[d+6]==="Y"&&u[d+7]==="P"&&u[d+8]==="E"){d=d+9;let E=1,g=!1,v=!1,x="";for(;d<u.length;d++)if(u[d]==="<"&&!v){if(g&&p(u,d))d+=7,[entityName,val,d]=m(u,d+1),val.indexOf("&")===-1&&(b[h(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(g&&f(u,d))d+=8;else if(g&&r(u,d))d+=8;else if(g&&w(u,d))d+=9;else if(k)v=!0;else throw new Error("Invalid DOCTYPE");E++,x=""}else if(u[d]===">"){if(v?u[d-1]==="-"&&u[d-2]==="-"&&(v=!1,E--):E--,E===0)break}else u[d]==="["?g=!0:x+=u[d];if(E!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:b,i:d}}function m(u,d){let b="";for(;d<u.length&&u[d]!=="'"&&u[d]!=='"';d++)b+=u[d];if(b=b.trim(),b.indexOf(" ")!==-1)throw new Error("External entites are not supported");const E=u[d++];let g="";for(;d<u.length&&u[d]!==E;d++)g+=u[d];return[b,g,d]}function k(u,d){return u[d+1]==="!"&&u[d+2]==="-"&&u[d+3]==="-"}function p(u,d){return u[d+1]==="!"&&u[d+2]==="E"&&u[d+3]==="N"&&u[d+4]==="T"&&u[d+5]==="I"&&u[d+6]==="T"&&u[d+7]==="Y"}function f(u,d){return u[d+1]==="!"&&u[d+2]==="E"&&u[d+3]==="L"&&u[d+4]==="E"&&u[d+5]==="M"&&u[d+6]==="E"&&u[d+7]==="N"&&u[d+8]==="T"}function r(u,d){return u[d+1]==="!"&&u[d+2]==="A"&&u[d+3]==="T"&&u[d+4]==="T"&&u[d+5]==="L"&&u[d+6]==="I"&&u[d+7]==="S"&&u[d+8]==="T"}function w(u,d){return u[d+1]==="!"&&u[d+2]==="N"&&u[d+3]==="O"&&u[d+4]==="T"&&u[d+5]==="A"&&u[d+6]==="T"&&u[d+7]==="I"&&u[d+8]==="O"&&u[d+9]==="N"}function h(u){if(c.isName(u))return u;throw new Error(`Invalid entity name ${u}`)}o.exports=l},{"../util":4}],9:[function(t,o,n){const c={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,k){return k},attributeValueProcessor:function(m,k){return k},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,k,p){return m}},l=function(m){return Object.assign({},c,m)};n.buildOptions=l,n.defaultOptions=c},{}],10:[function(t,o,n){const c=t("../util"),l=t("./xmlNode"),m=t("./DocTypeReader"),k=t("strnum");class p{constructor(j){this.options=j,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â¹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(F,M)=>String.fromCharCode(Number.parseInt(M,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(F,M)=>String.fromCharCode(Number.parseInt(M,16))}},this.addExternalEntities=f,this.parseXml=d,this.parseTextData=r,this.resolveNameSpace=w,this.buildAttributesMap=u,this.isItStopNode=v,this.replaceEntitiesValue=E,this.readStopNodeData=T,this.saveTextToParentTag=g,this.addChild=b}}function f(N){const j=Object.keys(N);for(let F=0;F<j.length;F++){const M=j[F];this.lastEntities[M]={regex:new RegExp("&"+M+";","g"),val:N[M]}}}function r(N,j,F,M,U,$,X){if(N!==void 0&&(this.options.trimValues&&!M&&(N=N.trim()),N.length>0)){X||(N=this.replaceEntitiesValue(N));const q=this.options.tagValueProcessor(j,N,F,U,$);return q==null?N:typeof q!=typeof N||q!==N?q:this.options.trimValues?P(N,this.options.parseTagValue,this.options.numberParseOptions):N.trim()===N?P(N,this.options.parseTagValue,this.options.numberParseOptions):N}}function w(N){if(this.options.removeNSPrefix){const j=N.split(":"),F=N.charAt(0)==="/"?"/":"";if(j[0]==="xmlns")return"";j.length===2&&(N=F+j[1])}return N}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(N,j,F){if(!this.options.ignoreAttributes&&typeof N=="string"){const M=c.getAllMatches(N,h),U=M.length,$={};for(let X=0;X<U;X++){const q=this.resolveNameSpace(M[X][1]);let B=M[X][4],H=this.options.attributeNamePrefix+q;if(q.length)if(this.options.transformAttributeName&&(H=this.options.transformAttributeName(H)),H==="__proto__"&&(H="#__proto__"),B!==void 0){this.options.trimValues&&(B=B.trim()),B=this.replaceEntitiesValue(B);const V=this.options.attributeValueProcessor(q,B,j);V==null?$[H]=B:typeof V!=typeof B||V!==B?$[H]=V:$[H]=P(B,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&($[H]=!0)}if(!Object.keys($).length)return;if(this.options.attributesGroupName){const X={};return X[this.options.attributesGroupName]=$,X}return $}}const d=function(N){N=N.replace(/\r\n?/g,`
`);const j=new l("!xml");let F=j,M="",U="";for(let $=0;$<N.length;$++)if(N[$]==="<")if(N[$+1]==="/"){const q=C(N,">",$,"Closing Tag is not closed.");let B=N.substring($+2,q).trim();if(this.options.removeNSPrefix){const ne=B.indexOf(":");ne!==-1&&(B=B.substr(ne+1))}this.options.transformTagName&&(B=this.options.transformTagName(B)),F&&(M=this.saveTextToParentTag(M,F,U));const H=U.substring(U.lastIndexOf(".")+1);if(B&&this.options.unpairedTags.indexOf(B)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${B}>`);let V=0;H&&this.options.unpairedTags.indexOf(H)!==-1?(V=U.lastIndexOf(".",U.lastIndexOf(".")-1),this.tagsNodeStack.pop()):V=U.lastIndexOf("."),U=U.substring(0,V),F=this.tagsNodeStack.pop(),M="",$=q}else if(N[$+1]==="?"){let q=O(N,$,!1,"?>");if(!q)throw new Error("Pi Tag is not closed.");if(M=this.saveTextToParentTag(M,F,U),!(this.options.ignoreDeclaration&&q.tagName==="?xml"||this.options.ignorePiTags)){const B=new l(q.tagName);B.add(this.options.textNodeName,""),q.tagName!==q.tagExp&&q.attrExpPresent&&(B[":@"]=this.buildAttributesMap(q.tagExp,U,q.tagName)),this.addChild(F,B,U)}$=q.closeIndex+1}else if(N.substr($+1,3)==="!--"){const q=C(N,"-->",$+4,"Comment is not closed.");if(this.options.commentPropName){const B=N.substring($+4,q-2);M=this.saveTextToParentTag(M,F,U),F.add(this.options.commentPropName,[{[this.options.textNodeName]:B}])}$=q}else if(N.substr($+1,2)==="!D"){const q=m(N,$);this.docTypeEntities=q.entities,$=q.i}else if(N.substr($+1,2)==="!["){const q=C(N,"]]>",$,"CDATA is not closed.")-2,B=N.substring($+9,q);M=this.saveTextToParentTag(M,F,U);let H=this.parseTextData(B,F.tagname,U,!0,!1,!0,!0);H==null&&(H=""),this.options.cdataPropName?F.add(this.options.cdataPropName,[{[this.options.textNodeName]:B}]):F.add(this.options.textNodeName,H),$=q+2}else{let q=O(N,$,this.options.removeNSPrefix),B=q.tagName;const H=q.rawTagName;let V=q.tagExp,ne=q.attrExpPresent,je=q.closeIndex;this.options.transformTagName&&(B=this.options.transformTagName(B)),F&&M&&F.tagname!=="!xml"&&(M=this.saveTextToParentTag(M,F,U,!1));const Re=F;if(Re&&this.options.unpairedTags.indexOf(Re.tagname)!==-1&&(F=this.tagsNodeStack.pop(),U=U.substring(0,U.lastIndexOf("."))),B!==j.tagname&&(U+=U?"."+B:B),this.isItStopNode(this.options.stopNodes,U,B)){let ee="";if(V.length>0&&V.lastIndexOf("/")===V.length-1)B[B.length-1]==="/"?(B=B.substr(0,B.length-1),U=U.substr(0,U.length-1),V=B):V=V.substr(0,V.length-1),$=q.closeIndex;else if(this.options.unpairedTags.indexOf(B)!==-1)$=q.closeIndex;else{const G=this.readStopNodeData(N,H,je+1);if(!G)throw new Error(`Unexpected end of ${H}`);$=G.i,ee=G.tagContent}const _e=new l(B);B!==V&&ne&&(_e[":@"]=this.buildAttributesMap(V,U,B)),ee&&(ee=this.parseTextData(ee,B,U,!0,ne,!0,!0)),U=U.substr(0,U.lastIndexOf(".")),_e.add(this.options.textNodeName,ee),this.addChild(F,_e,U)}else{if(V.length>0&&V.lastIndexOf("/")===V.length-1){B[B.length-1]==="/"?(B=B.substr(0,B.length-1),U=U.substr(0,U.length-1),V=B):V=V.substr(0,V.length-1),this.options.transformTagName&&(B=this.options.transformTagName(B));const ee=new l(B);B!==V&&ne&&(ee[":@"]=this.buildAttributesMap(V,U,B)),this.addChild(F,ee,U),U=U.substr(0,U.lastIndexOf("."))}else{const ee=new l(B);this.tagsNodeStack.push(F),B!==V&&ne&&(ee[":@"]=this.buildAttributesMap(V,U,B)),this.addChild(F,ee,U),F=ee}M="",$=je}}else M+=N[$];return j.child};function b(N,j,F){const M=this.options.updateTag(j.tagname,F,j[":@"]);M===!1||(typeof M=="string"&&(j.tagname=M),N.addChild(j))}const E=function(N){if(this.options.processEntities){for(let j in this.docTypeEntities){const F=this.docTypeEntities[j];N=N.replace(F.regx,F.val)}for(let j in this.lastEntities){const F=this.lastEntities[j];N=N.replace(F.regex,F.val)}if(this.options.htmlEntities)for(let j in this.htmlEntities){const F=this.htmlEntities[j];N=N.replace(F.regex,F.val)}N=N.replace(this.ampEntity.regex,this.ampEntity.val)}return N};function g(N,j,F,M){return N&&(M===void 0&&(M=Object.keys(j.child).length===0),N=this.parseTextData(N,j.tagname,F,!1,j[":@"]?Object.keys(j[":@"]).length!==0:!1,M),N!==void 0&&N!==""&&j.add(this.options.textNodeName,N),N=""),N}function v(N,j,F){const M="*."+F;for(const U in N){const $=N[U];if(M===$||j===$)return!0}return!1}function x(N,j,F=">"){let M,U="";for(let $=j;$<N.length;$++){let X=N[$];if(M)X===M&&(M="");else if(X==='"'||X==="'")M=X;else if(X===F[0])if(F[1]){if(N[$+1]===F[1])return{data:U,index:$}}else return{data:U,index:$};else X==="	"&&(X=" ");U+=X}}function C(N,j,F,M){const U=N.indexOf(j,F);if(U===-1)throw new Error(M);return U+j.length-1}function O(N,j,F,M=">"){const U=x(N,j+1,M);if(!U)return;let $=U.data;const X=U.index,q=$.search(/\s/);let B=$,H=!0;q!==-1&&(B=$.substring(0,q),$=$.substring(q+1).trimStart());const V=B;if(F){const ne=B.indexOf(":");ne!==-1&&(B=B.substr(ne+1),H=B!==U.data.substr(ne+1))}return{tagName:B,tagExp:$,closeIndex:X,attrExpPresent:H,rawTagName:V}}function T(N,j,F){const M=F;let U=1;for(;F<N.length;F++)if(N[F]==="<")if(N[F+1]==="/"){const $=C(N,">",F,`${j} is not closed`);if(N.substring(F+2,$).trim()===j&&(U--,U===0))return{tagContent:N.substring(M,F),i:$};F=$}else if(N[F+1]==="?")F=C(N,"?>",F+1,"StopNode is not closed.");else if(N.substr(F+1,3)==="!--")F=C(N,"-->",F+3,"StopNode is not closed.");else if(N.substr(F+1,2)==="![")F=C(N,"]]>",F,"StopNode is not closed.")-2;else{const $=O(N,F,">");$&&(($&&$.tagName)===j&&$.tagExp[$.tagExp.length-1]!=="/"&&U++,F=$.closeIndex)}}function P(N,j,F){if(j&&typeof N=="string"){const M=N.trim();return M==="true"?!0:M==="false"?!1:k(N,F)}else return c.isExist(N)?N:""}o.exports=p},{"../util":4,"./DocTypeReader":8,"./xmlNode":13,strnum:15}],11:[function(t,o,n){const{buildOptions:c}=t("./OptionsBuilder"),l=t("./OrderedObjParser"),{prettify:m}=t("./node2json"),k=t("../validator");class p{constructor(r){this.externalEntities={},this.options=c(r)}parse(r,w){if(typeof r!="string")if(r.toString)r=r.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(w){w===!0&&(w={});const d=k.validate(r,w);if(d!==!0)throw Error(`${d.err.msg}:${d.err.line}:${d.err.col}`)}const h=new l(this.options);h.addExternalEntities(this.externalEntities);const u=h.parseXml(r);return this.options.preserveOrder||u===void 0?u:m(u,this.options)}addEntity(r,w){if(w.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(r.indexOf("&")!==-1||r.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(w==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[r]=w}}o.exports=p},{"../validator":5,"./OptionsBuilder":9,"./OrderedObjParser":10,"./node2json":12}],12:[function(t,o,n){function c(f,r){return l(f,r)}function l(f,r,w){let h;const u={};for(let d=0;d<f.length;d++){const b=f[d],E=m(b);let g="";if(w===void 0?g=E:g=w+"."+E,E===r.textNodeName)h===void 0?h=b[E]:h+=""+b[E];else{if(E===void 0)continue;if(b[E]){let v=l(b[E],r,g);const x=p(v,r);b[":@"]?k(v,b[":@"],g,r):Object.keys(v).length===1&&v[r.textNodeName]!==void 0&&!r.alwaysCreateTextNode?v=v[r.textNodeName]:Object.keys(v).length===0&&(r.alwaysCreateTextNode?v[r.textNodeName]="":v=""),u[E]!==void 0&&u.hasOwnProperty(E)?(Array.isArray(u[E])||(u[E]=[u[E]]),u[E].push(v)):r.isArray(E,g,x)?u[E]=[v]:u[E]=v}}}return typeof h=="string"?h.length>0&&(u[r.textNodeName]=h):h!==void 0&&(u[r.textNodeName]=h),u}function m(f){const r=Object.keys(f);for(let w=0;w<r.length;w++){const h=r[w];if(h!==":@")return h}}function k(f,r,w,h){if(r){const u=Object.keys(r),d=u.length;for(let b=0;b<d;b++){const E=u[b];h.isArray(E,w+"."+E,!0,!0)?f[E]=[r[E]]:f[E]=r[E]}}}function p(f,r){const{textNodeName:w}=r,h=Object.keys(f).length;return!!(h===0||h===1&&(f[w]||typeof f[w]=="boolean"||f[w]===0))}n.prettify=c},{}],13:[function(t,o,n){class c{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,k){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:k})}addChild(m){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child})}}o.exports=c},{}],14:[function(t,o,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(c,l,m,k,p){var f,r,w=p*8-k-1,h=(1<<w)-1,u=h>>1,d=-7,b=m?p-1:0,E=m?-1:1,g=c[l+b];for(b+=E,f=g&(1<<-d)-1,g>>=-d,d+=w;d>0;f=f*256+c[l+b],b+=E,d-=8);for(r=f&(1<<-d)-1,f>>=-d,d+=k;d>0;r=r*256+c[l+b],b+=E,d-=8);if(f===0)f=1-u;else{if(f===h)return r?NaN:(g?-1:1)*(1/0);r=r+Math.pow(2,k),f=f-u}return(g?-1:1)*r*Math.pow(2,f-k)},n.write=function(c,l,m,k,p,f){var r,w,h,u=f*8-p-1,d=(1<<u)-1,b=d>>1,E=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=k?0:f-1,v=k?1:-1,x=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(w=isNaN(l)?1:0,r=d):(r=Math.floor(Math.log(l)/Math.LN2),l*(h=Math.pow(2,-r))<1&&(r--,h*=2),r+b>=1?l+=E/h:l+=E*Math.pow(2,1-b),l*h>=2&&(r++,h/=2),r+b>=d?(w=0,r=d):r+b>=1?(w=(l*h-1)*Math.pow(2,p),r=r+b):(w=l*Math.pow(2,b-1)*Math.pow(2,p),r=0));p>=8;c[m+g]=w&255,g+=v,w/=256,p-=8);for(r=r<<p|w,u+=p;u>0;c[m+g]=r&255,g+=v,r/=256,u-=8);c[m+g-v]|=x*128}},{}],15:[function(t,o,n){const c=/^[-+]?0x[a-fA-F0-9]+$/,l=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const m={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function k(f,r={}){if(r=Object.assign({},m,r),!f||typeof f!="string")return f;let w=f.trim();if(r.skipLike!==void 0&&r.skipLike.test(w))return f;if(r.hex&&c.test(w))return Number.parseInt(w,16);{const h=l.exec(w);if(h){const u=h[1],d=h[2];let b=p(h[3]);const E=h[4]||h[6];if(!r.leadingZeros&&d.length>0&&u&&w[2]!==".")return f;if(!r.leadingZeros&&d.length>0&&!u&&w[1]!==".")return f;{const g=Number(w),v=""+g;return v.search(/[eE]/)!==-1||E?r.eNotation?g:f:w.indexOf(".")!==-1?v==="0"&&b===""||v===b||u&&v==="-"+b?g:f:d?b===v||u+b===v?g:f:w===v||w===u+v?g:f}}else return f}}function p(f){return f&&f.indexOf(".")!==-1&&(f=f.replace(/0+$/,""),f==="."?f="0":f[0]==="."?f="0"+f:f[f.length-1]==="."&&(f=f.substr(0,f.length-1))),f}o.exports=k},{}],16:[function(t,o,n){(function(c){(function(){var l=this&&this.__awaiter||function(w,h,u,d){function b(E){return E instanceof u?E:new u(function(g){g(E)})}return new(u||(u=Promise))(function(E,g){function v(O){try{C(d.next(O))}catch(T){g(T)}}function x(O){try{C(d.throw(O))}catch(T){g(T)}}function C(O){O.done?E(O.value):b(O.value).then(v,x)}C((d=d.apply(w,h||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.osmFetch=r;const m=t("../auth"),k=t("../config"),p=t("./_xml"),f=w=>typeof btoa>"u"?c.from(w,"binary").toString("base64"):btoa(w);function r(w,h,u){return l(this,void 0,void 0,function*(){const{apiUrl:d,authHeader:b,basicAuth:E,userAgent:g}=(0,k.getConfig)(),v=E&&`Basic ${f(`${E.username}:${E.password}`)}`,x=(0,m.getAuthToken)()&&`Bearer ${(0,m.getAuthToken)()}`;let C=new URLSearchParams(h).toString();C&&(C=`?${C}`);const O=yield fetch(`${d}/api${w}${C}`,Object.assign(Object.assign({},u),{headers:Object.assign({Authorization:b||v||x||"","User-Agent":g},u==null?void 0:u.headers)})),T=O.headers.get("Content-Type");if(T!=null&&T.startsWith("application/xml")){const N=yield O.text();return yield p.xmlParser.parse(N)}if(T!=null&&T.startsWith("application/json"))return O.json();if(O.ok)return yield O.text();const P=new Error(`OSM API: ${yield O.text()}`);throw P.cause=O.status,P})}}).call(this)}).call(this,t("buffer").Buffer)},{"../auth":51,"../config":53,"./_xml":17,buffer:2}],17:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.xmlParser=void 0;const c=t("fast-xml-parser");n.xmlParser=new c.XMLParser({ignoreAttributes:!1,attributesGroupName:"$",attributeNamePrefix:"",isArray:l=>l!=="$"})},{"fast-xml-parser":3}],18:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createChangesetMetaXml=m,n.createOsmChangeXml=p;const c=t("fast-xml-parser"),l=new c.XMLBuilder({ignoreAttributes:!1,attributeNamePrefix:"$",format:!0,suppressEmptyNode:!0,suppressBooleanAttributes:!1});function m(f){return l.build({osm:{changeset:{tag:Object.entries(f).map(([r,w])=>({$k:r,$v:w}))}}})}const k=(f,r,w)=>r.reduce((h,u)=>{const d={$id:u.id,$version:w?0:u.version,$changeset:f,tag:Object.entries(u.tags||{}).map(([b,E])=>({$k:b,$v:E}))};switch(u.type){case"node":{const b=Object.assign(Object.assign({},d),{$lat:u.lat,$lon:u.lon});return Object.assign(Object.assign({},h),{node:[...h.node,b]})}case"way":{if(!u.nodes)throw new Error("Way has no nodes");const b=Object.assign(Object.assign({},d),{nd:u.nodes.map(E=>({$ref:E}))});return Object.assign(Object.assign({},h),{way:[...h.way,b]})}case"relation":{if(!u.members)throw new Error("Relation has no members");const b=Object.assign(Object.assign({},d),{member:u.members.map(E=>({$type:E.type,$ref:E.ref,$role:E.role}))});return Object.assign(Object.assign({},h),{relation:[...h.relation,b]})}default:return h}},{node:[],way:[],relation:[]});function p(f,r,w){return l.build({osmChange:{$version:"0.6",$generator:"osm-api-js",changeset:w?{tag:Object.entries(w).map(([h,u])=>({$k:h,$v:u}))}:void 0,create:[k(f,r.create,!0)],modify:[k(f,r.modify)],delete:[Object.assign({"$if-unused":!0},k(f,r.delete))]}})}},{"fast-xml-parser":3}],19:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseOsmChangeJson=p,n.parseOsmChangeXml=f;const c=t("../_xml");function l(r){if(r!=null&&r.tag)return Object.fromEntries(r.tag.map(w=>[w.$.k,w.$.v]))}function m(r){return{changeset:+r.$.changeset,id:+r.$.id,timestamp:r.$.timestamp,uid:+r.$.uid,user:r.$.user,version:+r.$.version,tags:l(r)}}const k=r=>{const w=[];if(r.node){const h=r.node.map(u=>Object.assign(Object.assign({type:"node"},m(u)),{lat:+u.$.lat,lon:+u.$.lon}));w.push(...h)}if(r.way){const h=r.way.map(u=>{var d;return Object.assign(Object.assign({type:"way"},m(u)),{nodes:((d=u.nd)===null||d===void 0?void 0:d.map(b=>+b.$.ref))||[]})});w.push(...h)}if(r.relation){const h=r.relation.map(u=>{var d;return Object.assign(Object.assign({type:"relation"},m(u)),{members:((d=u.member)===null||d===void 0?void 0:d.map(b=>({ref:+b.$.ref,role:b.$.role,type:b.$.type})))||[]})});w.push(...h)}return w};function p(r){var w,h,u,d;const b=l((w=r.osmChange[0].changeset)===null||w===void 0?void 0:w[0]),E={create:((h=r.osmChange[0].create)===null||h===void 0?void 0:h.flatMap(k))||[],modify:((u=r.osmChange[0].modify)===null||u===void 0?void 0:u.flatMap(k))||[],delete:((d=r.osmChange[0].delete)===null||d===void 0?void 0:d.flatMap(k))||[]};return b&&(E.changeset=b),E}function f(r){const w=c.xmlParser.parse(r);return p(w)}},{"../_xml":17}],20:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getOsmChangeSize=k,n.chunkOsmChange=p;const c=["create","modify","delete"],l=["create-node","create-way","create-relation","delete-relation","delete-way","delete-node","modify-node","modify-way","modify-relation"],m=()=>({create:[],modify:[],delete:[]});function k(f){return f.create.length+f.modify.length+f.delete.length}function p(f,r){var w;const h=(w=r==null?void 0:r.api.changesets.maximum_elements)!==null&&w!==void 0?w:p.DEFAULT_LIMIT;if(k(f)<=h)return[f];const u={};for(const g of c)for(const v of f[g]){const x=`${g}-${v.type}`;u[x]||(u[x]=[]),u[x].push(v)}const d=[m()];function b(){var g;for(const v of l){const x=v.split("-")[0],C=(g=u[v])===null||g===void 0?void 0:g.pop();if(C)return{action:x,feature:C}}}let E;for(;E=b();){const g=d[0];g[E.action].push(E.feature),k(g)>=h&&d.unshift(m())}return d.reverse()}p.DEFAULT_LIMIT=1e4},{}],21:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.createChangesetComment=m;const l=t("../_osmFetch");function m(k,p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/changeset/${k}/comment`,void 0,Object.assign(Object.assign({},f),{method:"POST",body:`text=${encodeURIComponent(p)}`,headers:Object.assign(Object.assign({},f==null?void 0:f.headers),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})}))})}},{"../_osmFetch":16}],22:[function(t,o,n){var c=this&&this.__awaiter||function(p,f,r,w){function h(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function b(v){try{g(w.next(v))}catch(x){d(x)}}function E(v){try{g(w.throw(v))}catch(x){d(x)}}function g(v){v.done?u(v.value):h(v.value).then(b,E)}g((w=w.apply(p,f||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getChangesetDiff=k;const l=t("../_osmFetch"),m=t("./_parseOsmChangeXml");function k(p,f){return c(this,void 0,void 0,function*(){const r=yield(0,l.osmFetch)(`/0.6/changeset/${p}/download`,void 0,f);return(0,m.parseOsmChangeJson)(r)})}},{"../_osmFetch":16,"./_parseOsmChangeXml":19}],23:[function(t,o,n){var c=this&&this.__awaiter||function(r,w,h,u){function d(b){return b instanceof h?b:new h(function(E){E(b)})}return new(h||(h=Promise))(function(b,E){function g(C){try{x(u.next(C))}catch(O){E(O)}}function v(C){try{x(u.throw(C))}catch(O){E(O)}}function x(C){C.done?b(C.value):d(C.value).then(g,v)}x((u=u.apply(r,w||[])).next())})},l=this&&this.__rest||function(r,w){var h={};for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&w.indexOf(u)<0&&(h[u]=r[u]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(r);d<u.length;d++)w.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(r,u[d])&&(h[u[d]]=r[u[d]]);return h};Object.defineProperty(n,"__esModule",{value:!0}),n.listChangesets=p,n.getChangeset=f;const m=t("../_osmFetch"),k=r=>{var{comments:w}=r,h=l(r,["comments"]);return Object.assign(Object.assign({},h),{created_at:new Date(h.created_at),closed_at:h.closed_at?new Date(h.closed_at):void 0,discussion:w==null?void 0:w.map(u=>Object.assign(Object.assign({},u),{date:new Date(u.date),uid:`${u.uid}`}))})};function p(r,w){return c(this,void 0,void 0,function*(){const{only:h}=r,u=l(r,["only"]);return(yield(0,m.osmFetch)("/0.6/changesets.json",Object.assign(Object.assign({},h&&{[h]:!0}),u),w)).changesets.map(k)})}function f(r){return c(this,arguments,void 0,function*(w,h=!0,u){const d=yield(0,m.osmFetch)(`/0.6/changeset/${w}.json`,h?{include_discussion:1}:{},u);return k(d.changeset)})}},{"../_osmFetch":16}],24:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(p,f,r,w){w===void 0&&(w=r);var h=Object.getOwnPropertyDescriptor(f,r);(!h||("get"in h?!f.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return f[r]}}),Object.defineProperty(p,w,h)}:function(p,f,r,w){w===void 0&&(w=r),p[w]=f[r]}),l=this&&this.__exportStar||function(p,f){for(var r in p)r!=="default"&&!Object.prototype.hasOwnProperty.call(f,r)&&c(f,p,r)};Object.defineProperty(n,"__esModule",{value:!0}),n.createOsmChangeXml=n.parseOsmChangeXml=void 0,l(t("./chunkOsmChange"),n),l(t("./createChangesetComment"),n),l(t("./getChangesetDiff"),n),l(t("./getChangesets"),n),l(t("./subscription"),n),l(t("./uploadChangeset"),n);var m=t("./_parseOsmChangeXml");Object.defineProperty(n,"parseOsmChangeXml",{enumerable:!0,get:function(){return m.parseOsmChangeXml}});var k=t("./_createOsmChangeXml");Object.defineProperty(n,"createOsmChangeXml",{enumerable:!0,get:function(){return k.createOsmChangeXml}})},{"./_createOsmChangeXml":18,"./_parseOsmChangeXml":19,"./chunkOsmChange":20,"./createChangesetComment":21,"./getChangesetDiff":22,"./getChangesets":23,"./subscription":25,"./uploadChangeset":26}],25:[function(t,o,n){var c=this&&this.__awaiter||function(p,f,r,w){function h(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function b(v){try{g(w.next(v))}catch(x){d(x)}}function E(v){try{g(w.throw(v))}catch(x){d(x)}}function g(v){v.done?u(v.value):h(v.value).then(b,E)}g((w=w.apply(p,f||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToChangeset=m,n.unsubscribeFromChangeset=k;const l=t("../_osmFetch");function m(p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/changeset/${p}/subscribe`,{},Object.assign(Object.assign({},f),{method:"POST"}))})}function k(p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/changeset/${p}/unsubscribe`,{},Object.assign(Object.assign({},f),{method:"POST"}))})}},{"../_osmFetch":16}],26:[function(t,o,n){var c=this&&this.__awaiter||function(f,r,w,h){function u(d){return d instanceof w?d:new w(function(b){b(d)})}return new(w||(w=Promise))(function(d,b){function E(x){try{v(h.next(x))}catch(C){b(C)}}function g(x){try{v(h.throw(x))}catch(C){b(C)}}function v(x){x.done?d(x.value):u(x.value).then(E,g)}v((h=h.apply(f,r||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.uploadChangeset=p;const l=t("../_osmFetch"),m=t("./_createOsmChangeXml"),k=t("./chunkOsmChange");function p(f,r,w){return c(this,void 0,void 0,function*(){const h=(0,k.chunkOsmChange)(r),u=[],d=(0,k.getOsmChangeSize)(r);for(const[b,E]of h.entries()){let g=f;h.length>1&&(w!=null&&w.onChunk?g=w.onChunk({featureCount:d,changesetIndex:b,changesetTotal:h.length}):g.chunk=`${b+1}/${h.length}`);const v=+(yield(0,l.osmFetch)("/0.6/changeset/create",void 0,Object.assign(Object.assign({},w),{method:"PUT",body:(0,m.createChangesetMetaXml)(g),headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})}))),x=(0,m.createOsmChangeXml)(v,E);yield(0,l.osmFetch)(`/0.6/changeset/${v}/upload`,void 0,Object.assign(Object.assign({},w),{method:"POST",body:x,headers:Object.assign(Object.assign({},w==null?void 0:w.headers),{"content-type":"application/xml; charset=utf-8"})})),yield(0,l.osmFetch)(`/0.6/changeset/${v}/close`,void 0,Object.assign(Object.assign({},w),{method:"PUT"})),u.push(v)}return u[0]})}},{"../_osmFetch":16,"./_createOsmChangeXml":18,"./chunkOsmChange":20}],27:[function(t,o,n){var c=this&&this.__awaiter||function(p,f,r,w){function h(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function b(v){try{g(w.next(v))}catch(x){d(x)}}function E(v){try{g(w.throw(v))}catch(x){d(x)}}function g(v){v.done?u(v.value):h(v.value).then(b,E)}g((w=w.apply(p,f||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getApiCapabilities=m,n.getCapabilities=k;const l=t("./_osmFetch");function m(p){return c(this,void 0,void 0,function*(){return(0,l.osmFetch)("/capabilities.json",void 0,p)})}function k(){return c(this,void 0,void 0,function*(){const p=yield m();return{limits:{maxArea:p.api.area.maximum,maxNoteArea:p.api.note_area.maximum,maxTracepointPerPage:p.api.tracepoints.per_page,maxWayNodes:p.api.waynodes.maximum,maxChangesetElements:p.api.changesets.maximum_elements,maxTimeout:p.api.timeout.seconds},policy:{imageryBlacklist:p.policy.imagery.blacklist.map(r=>r.regex)}}})}},{"./_osmFetch":16}],28:[function(t,o,n){var c=this&&this.__awaiter||function(h,u,d,b){function E(g){return g instanceof d?g:new d(function(v){v(g)})}return new(d||(d=Promise))(function(g,v){function x(T){try{O(b.next(T))}catch(P){v(P)}}function C(T){try{O(b.throw(T))}catch(P){v(P)}}function O(T){T.done?g(T.value):E(T.value).then(x,C)}O((b=b.apply(h,u||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getFeature=m,n.getFeatures=k,n.getFeatureAtVersion=p,n.getFeatureHistory=f,n.getWaysForNode=r,n.getRelationsForElement=w;const l=t("./_osmFetch");function m(h,u,d,b){return c(this,void 0,void 0,function*(){const E=d&&h!=="node"?"/full":"";return(yield(0,l.osmFetch)(`/0.6/${h}/${u}${E}.json`,void 0,b)).elements})}function k(h,u,d){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/${h}s.json?${h}s=${u.join(",")}`,void 0,d)).elements})}function p(h,u,d,b){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/${h}/${u}/${d}.json`,void 0,b)).elements[0]})}function f(h,u,d){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/${h}/${u}/history.json`,void 0,d)).elements})}function r(h,u){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/node/${h}/ways.json`,void 0,u)).elements})}function w(h,u,d){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/${h}/${u}/relations.json`,void 0,d)).elements})}},{"./_osmFetch":16}],29:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getMapData=m;const l=t("./_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)("/0.6/map.json",{bbox:k},p)).elements})}},{"./_osmFetch":16}],30:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissions=m;const l=t("./_osmFetch");function m(k){return c(this,void 0,void 0,function*(){return(0,l.osmFetch)("/0.6/permissions.json",void 0,k)})}},{"./_osmFetch":16}],31:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getUIdFromDisplayName=m;const l=t("./changesets");function m(k){return c(this,void 0,void 0,function*(){const p=yield(0,l.listChangesets)({display_name:k});if(!p.length)throw new Error("Could not get uid because the user has never edited the map");return p[0].uid})}},{"./changesets":24}],32:[function(t,o,n){var c=this&&this.__awaiter||function(r,w,h,u){function d(b){return b instanceof h?b:new h(function(E){E(b)})}return new(h||(h=Promise))(function(b,E){function g(C){try{x(u.next(C))}catch(O){E(O)}}function v(C){try{x(u.throw(C))}catch(O){E(O)}}function x(C){C.done?b(C.value):d(C.value).then(g,v)}x((u=u.apply(r,w||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getUser=m,n.getUsers=k,n.getUserBlockById=p,n.getOwnUserBlocks=f;const l=t("./_osmFetch");function m(r,w){return c(this,void 0,void 0,function*(){const h=yield(0,l.osmFetch)(`/0.6/user/${r==="me"?"details":r}.json`,void 0,w);return Object.assign(Object.assign({},h.user),{account_created:new Date(h.user.account_created)})})}function k(r,w){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)("/0.6/users",{users:r},w)).users.map(u=>Object.assign(Object.assign({},u),{account_created:new Date(u.account_created)}))})}function p(r,w){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/user_blocks/${r}.json`,void 0,w)).user_block})}function f(r){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)("/0.6/user/blocks/active",void 0,r)).user_blocks})}},{"./_osmFetch":16}],33:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./changesets"),n),l(t("./messages"),n),l(t("./notes"),n),l(t("./preferences"),n),l(t("./getCapabilities"),n),l(t("./getFeature"),n),l(t("./getMapData"),n),l(t("./getPermissions"),n),l(t("./getUIdFromDisplayName"),n),l(t("./getUser"),n)},{"./changesets":24,"./getCapabilities":27,"./getFeature":28,"./getMapData":29,"./getPermissions":30,"./getUIdFromDisplayName":31,"./getUser":32,"./messages":36,"./notes":41,"./preferences":46}],34:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deleteMessage=m;const l=t("../_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/user/messages/${k}.json`,{},Object.assign(Object.assign({},p),{method:"DELETE"}))).message})}},{"../_osmFetch":16}],35:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getMessage=m;const l=t("../_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,p)).message})}},{"../_osmFetch":16}],36:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./deleteMessage"),n),l(t("./getMessage"),n),l(t("./listMessages"),n),l(t("./sendMessage"),n),l(t("./updateMessageReadStatus"),n)},{"./deleteMessage":34,"./getMessage":35,"./listMessages":37,"./sendMessage":38,"./updateMessageReadStatus":39}],37:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.listMessages=m;const l=t("../_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/user/messages/${k}.json`,void 0,p)).messages})}},{"../_osmFetch":16}],38:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.sendMessage=m;const l=t("../_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)("/0.6/user/messages.json",k,Object.assign(Object.assign({},p),{method:"POST"}))).message})}},{"../_osmFetch":16}],39:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.updateMessageReadStatus=m;const l=t("../_osmFetch");function m(k,p,f){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/user/messages/${k}.json`,{read_status:p},Object.assign(Object.assign({},f),{method:"POST"}))).message})}},{"../_osmFetch":16}],40:[function(t,o,n){var c=this&&this.__awaiter||function(w,h,u,d){function b(E){return E instanceof u?E:new u(function(g){g(E)})}return new(u||(u=Promise))(function(E,g){function v(O){try{C(d.next(O))}catch(T){g(T)}}function x(O){try{C(d.throw(O))}catch(T){g(T)}}function C(O){O.done?E(O.value):b(O.value).then(v,x)}C((d=d.apply(w,h||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getNotesForQuery=p,n.getNotesForArea=f,n.getNote=r;const l=t("../_osmFetch"),m=w=>{const[h,u]=w.geometry.coordinates;return Object.assign(Object.assign({},w.properties),{location:{lat:u,lng:h}})};function k(w,h,u){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)(`/0.6/notes${h?"/search":""}.json`,w,u)).features.map(m)})}function p(w,h){return k(w,!0,h)}function f(w,h){return k({bbox:w},!1,h)}function r(w,h){return c(this,void 0,void 0,function*(){const u=yield(0,l.osmFetch)(`/0.6/notes/${w}.json`,void 0,h);return m(u)})}},{"../_osmFetch":16}],41:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./getNotes"),n),l(t("./noteActions"),n),l(t("./subscription"),n)},{"./getNotes":40,"./noteActions":42,"./subscription":43}],42:[function(t,o,n){var c=this&&this.__awaiter||function(f,r,w,h){function u(d){return d instanceof w?d:new w(function(b){b(d)})}return new(w||(w=Promise))(function(d,b){function E(x){try{v(h.next(x))}catch(C){b(C)}}function g(x){try{v(h.throw(x))}catch(C){b(C)}}function v(x){x.done?d(x.value):u(x.value).then(E,g)}v((h=h.apply(f,r||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.createNote=m,n.commentOnNote=k,n.reopenNote=p;const l=t("../_osmFetch");function m(f,r,w,h){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)("/0.6/notes",{lat:f,lon:r,text:w},h)})}function k(f,r,w){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/notes/${f}/comment`,{text:r},w)})}function p(f,r,w){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/notes/${f}/reopen`,{text:r},w)})}},{"../_osmFetch":16}],43:[function(t,o,n){var c=this&&this.__awaiter||function(p,f,r,w){function h(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function b(v){try{g(w.next(v))}catch(x){d(x)}}function E(v){try{g(w.throw(v))}catch(x){d(x)}}function g(v){v.done?u(v.value):h(v.value).then(b,E)}g((w=w.apply(p,f||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToNote=m,n.unsubscribeFromNote=k;const l=t("../_osmFetch");function m(p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/notes/${p}/subscription`,{},Object.assign(Object.assign({},f),{method:"POST"}))})}function k(p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/notes/${p}/subscription`,{},Object.assign(Object.assign({},f),{method:"DELETE"}))})}},{"../_osmFetch":16}],44:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deletePreferences=m;const l=t("../_osmFetch");function m(k,p){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},p),{method:"DELETE"}))})}},{"../_osmFetch":16}],45:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getPreferences=m;const l=t("../_osmFetch");function m(k){return c(this,void 0,void 0,function*(){return(yield(0,l.osmFetch)("/0.6/user/preferences.json",void 0,k)).preferences})}},{"../_osmFetch":16}],46:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./deletePreferences"),n),l(t("./getPreferences"),n),l(t("./updatePreferences"),n)},{"./deletePreferences":44,"./getPreferences":45,"./updatePreferences":47}],47:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.updatePreferences=m;const l=t("../_osmFetch");function m(k,p,f){return c(this,void 0,void 0,function*(){yield(0,l.osmFetch)(`/0.6/user/preferences/${k}.json`,{},Object.assign(Object.assign({},f),{method:"PUT",body:p}))})}},{"../_osmFetch":16}],48:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createPopup=c;function c(l){let m=!1;return new Promise((k,p)=>{const[f,r]=[600,550],w=Object.entries({width:f,height:r,left:window.screen.width/2-f/2,top:window.screen.height/2-r/2}).map(([d,b])=>`${d}=${b}`).join(","),h=window.open("about:blank","oauth_window",w);if(!h)throw new Error("Popup was blocked");h.location=l,window.authComplete=d=>{k(d),m=!0};const u=setInterval(()=>{h.closed&&(m||p(new Error("Cancelled")),clearInterval(u))},500)})}},{}],49:[function(t,o,n){var c=this&&this.__awaiter||function(k,p,f,r){function w(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function d(g){try{E(r.next(g))}catch(v){u(v)}}function b(g){try{E(r.throw(g))}catch(v){u(v)}}function E(g){g.done?h(g.value):w(g.value).then(d,b)}E((r=r.apply(k,p||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.exchangeCode=m;const l=t("./helpers");function m(k,p){return c(this,arguments,void 0,function*(f,{options:r,pkceVerifier:w,state:h}){const u=new URL(f).searchParams,d=u.get("error_description"),b=u.get("code"),E=u.get("state");if(d)throw new Error(d);if(!b)throw new Error("No code in OAuth response");if(!w||!h)throw new Error("No login in progress");if(h!==E)throw new Error("State Mismatch");const g={grant_type:"authorization_code",code:b,redirect_uri:r.redirectUrl,client_id:r.clientId,code_verifier:w},v=`${(0,l.getOAuthBaseUrl)()}/oauth2/token?${new URLSearchParams(g).toString()}`,C=yield(yield fetch(v,{method:"POST",body:"",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).json();if("error_description"in C)throw new Error(C.error_description);const O={issuedAt:new Date(C.created_at*1e3).toISOString(),accessToken:C.access_token,scopes:C.scope.split(" ")};return localStorage.setItem("__osmAuth",JSON.stringify(O)),delete window.authComplete,O})}},{"./helpers":50}],50:[function(t,o,n){var c=this&&this.__awaiter||function(f,r,w,h){function u(d){return d instanceof w?d:new w(function(b){b(d)})}return new(w||(w=Promise))(function(d,b){function E(x){try{v(h.next(x))}catch(C){b(C)}}function g(x){try{v(h.throw(x))}catch(C){b(C)}}function v(x){x.done?d(x.value):u(x.value).then(E,g)}v((h=h.apply(f,r||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.sha256=m,n.getRandomString=k,n.getOAuthBaseUrl=p;const l=t("../config");function m(f){return c(this,void 0,void 0,function*(){const r=new TextEncoder().encode(f),w=yield window.crypto.subtle.digest("SHA-256",r);return btoa(String.fromCharCode(...new Uint8Array(w))).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")})}function k(){return[...window.crypto.getRandomValues(new Uint32Array(32))].map(f=>`0${f.toString(16)}`.slice(-2)).join("")}function p(){let f=(0,l.getConfig)().apiUrl;return f==="https://api.openstreetmap.org"&&(f="https://www.openstreetmap.org"),f}},{"../config":53}],51:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./oauth2"),n)},{"./oauth2":52}],52:[function(t,o,n){var c=this&&this.__awaiter||function(h,u,d,b){function E(g){return g instanceof d?g:new d(function(v){v(g)})}return new(d||(d=Promise))(function(g,v){function x(T){try{O(b.next(T))}catch(P){v(P)}}function C(T){try{O(b.throw(T))}catch(P){v(P)}}function O(T){T.done?g(T.value):E(T.value).then(x,C)}O((b=b.apply(h,u||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.isLoggedIn=n.getAuthToken=n.authReady=void 0,n.login=p,n.logout=w;const l=t("./createPopup"),m=t("./exchangeCode"),k=t("./helpers");function p(h){return c(this,void 0,void 0,function*(){if(!h.redirectUrl)throw new Error("You must include the 'redirectUrl' option");if(!h.clientId)throw new Error("You must include the 'clientId' option");if(!h.scopes)throw new Error("You must include the 'scopes' option");const u=(0,k.getRandomString)(),d=(0,k.getRandomString)(),b=yield(0,k.sha256)(d),E={scope:h.scopes.join(" "),include_granted_scopes:"true",response_type:"code",state:u,redirect_uri:h.redirectUrl,client_id:h.clientId,code_challenge_method:"S256",code_challenge:b},g=`/oauth2/authorize?${new URLSearchParams(E).toString()}`,v=h.switchUser?`/logout?referer=${encodeURIComponent(`/login?referer=${encodeURIComponent(g)}`)}`:g,x=(0,k.getOAuthBaseUrl)()+v,C={state:u,pkceVerifier:d,options:h};if(h.mode==="popup"){const O=yield(0,l.createPopup)(x);return(0,m.exchangeCode)(O,C)}if(h.mode==="redirect"){localStorage.set("__osmAuthTemp",JSON.stringify(C)),window.location.replace(x);return}throw new Error("options.mode must be 'popup' or 'redirect'")})}n.authReady=c(void 0,void 0,void 0,function*(){var h;if(typeof window>"u")return;const u=window.location.href,d=localStorage.getItem("__osmAuthTemp");if(new URL(u).searchParams.get("code")){if(!((h=window.opener)===null||h===void 0)&&h.authComplete)window.opener.authComplete(u),window.close();else if(d)try{const b=JSON.parse(d);yield(0,m.exchangeCode)(u,b),localStorage.removeItem("__osmAuthTemp")}catch(b){console.error("OSM Auth Error",b)}}});const f=()=>{try{const h=localStorage.getItem("__osmAuth");return h?JSON.parse(h).accessToken:void 0}catch{return}};n.getAuthToken=f;const r=()=>!!(0,n.getAuthToken)();n.isLoggedIn=r;function w(){localStorage.removeItem("__osmAuth")}},{"./createPopup":48,"./exchangeCode":49,"./helpers":50}],53:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConfig=void 0,n.configure=m;const c={apiUrl:"https://api.openstreetmap.org",userAgent:"https://github.com/osmlab/osm-api-js"},l=()=>c;n.getConfig=l;function m(k){Object.assign(c,k)}},{}],54:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./api"),n),l(t("./auth"),n),l(t("./config"),n),l(t("./types"),n)},{"./api":33,"./auth":51,"./config":53,"./types":58}],55:[function(t,o,n){Object.defineProperty(n,"__esModule",{value:!0})},{}],56:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],57:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],58:[function(t,o,n){var c=this&&this.__createBinding||(Object.create?function(m,k,p,f){f===void 0&&(f=p);var r=Object.getOwnPropertyDescriptor(k,p);(!r||("get"in r?!k.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return k[p]}}),Object.defineProperty(m,f,r)}:function(m,k,p,f){f===void 0&&(f=p),m[f]=k[p]}),l=this&&this.__exportStar||function(m,k){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(k,p)&&c(k,m,p)};Object.defineProperty(n,"__esModule",{value:!0}),l(t("./changesets"),n),l(t("./features"),n),l(t("./general"),n),l(t("./messages"),n),l(t("./notes"),n),l(t("./osmPatch"),n),l(t("./user"),n)},{"./changesets":55,"./features":56,"./general":57,"./messages":59,"./notes":60,"./osmPatch":61,"./user":62}],59:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],60:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],61:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],62:[function(t,o,n){arguments[4][55][0].apply(n,arguments)},{dup:55}]},{},[54])(54)})}(nt)),nt.exports}var Bn=$n();function rt(e){return Rn({async fetcher(i){return await Bn.getFeatures(e,i)},resolver:(i,t)=>i.find(o=>o.id==t),scheduler:In({windowMs:10,maxBatchSize:700})})}const ri={node:rt("node"),way:rt("way"),relation:rt("relation")};async function oi(e,i){const t=await ri[e].fetch(i);if(t===void 0)throw new Error(`Item not found: ${e} ${i}`);return t}async function Un(e,i){return(await Promise.all(i.map(t=>ri[e].fetch(t)))).filter(Boolean)}const Mn=ge({__name:"OsmPolyline",props:{latLngs:{},options:{},popupContent:{}},setup(e){const i=e,t=ni();return ti(()=>i.latLngs,()=>{if(!i.latLngs||!t.value)return;const o=Le.polyline(i.latLngs,i.options).addTo(t.value);i.popupContent&&o.bindPopup(i.popupContent)},{immediate:!0}),(o,n)=>Se(o.$slots,"default")}}),qn=ge({__name:"OsmWay",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(e){const i=e,t=mt([]);return kt(async()=>{const o=await oi("way",i.id),n=await Un("node",o.nodes);t.value=n.map(c=>[c.lat,c.lon])}),(o,n)=>(ve(),gt(Mn,{"lat-lngs":t.value,options:{color:o.stroke,weight:o.strokeWidth},"popup-content":o.popupContent},{default:ii(()=>[Se(o.$slots,"default")]),_:3},8,["lat-lngs","options","popup-content"]))}}),Xs=ge({__name:"OsmRelation",props:{id:{},stroke:{},strokeWidth:{},popupContent:{}},setup(e){const i=e,t=mt([]);return kt(async()=>{const o=await oi("relation",Number(i.id));t.value=o.members.filter(n=>n.type==="way").map(n=>n.ref)||[]}),(o,n)=>(ve(!0),ei(Sn,null,Fn(t.value,c=>(ve(),gt(qn,{key:c,id:c,stroke:i.stroke,"stroke-width":i.strokeWidth,"popup-content":i.popupContent},{default:ii(()=>[Se(o.$slots,"default")]),_:2},1032,["id","stroke","stroke-width","popup-content"]))),128))}});function oe(e){return i=>typeof i=="string"&&new RegExp(e.source,e.flags).test(i)}const Ln=oe(/^[1-9][0-9]*$/),yt=oe(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)$/),Vn=oe(/^E[1-9][0-9]*$/),Ve=oe(/^Q[1-9][0-9]*$/),We=oe(/^P[1-9][0-9]*$/),si=oe(/^L[1-9][0-9]*$/),ai=oe(/^L[1-9][0-9]*-F[1-9][0-9]*$/),ui=oe(/^L[1-9][0-9]*-S[1-9][0-9]*$/),zn=oe(/^M[1-9][0-9]*$/),Hn=oe(/^((Q|P|L|M)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),Xn=oe(/^[0-9a-f]{40}$/),ci=oe(/^\d+$/),li=oe(/^(Q|P|L|M)[1-9][0-9]*$/);function Wn(e){if(typeof e!="string")return!1;const[i,t]=e.split("#");return yt(i)&&We(t)}function fi(e){return typeof e!="string"?!1:e.startsWith("Item:")?Ve(e.substring(5)):e.startsWith("Lexeme:")?si(e.substring(7)):e.startsWith("Property:")?We(e.substring(9)):Ve(e)}function Jn(e){if(!li(e))throw new Error(`invalid entity id: ${e}`);return e.replace(/^(Q|P|L|M)/,"")}function Gn(e,i){let t=`https://commons.wikimedia.org/wiki/Special:FilePath/${e}`;return typeof i=="number"&&(t+=`?width=${i}`),t}function Kn(e){const i=e.split(/[$-]/);if(i.length===6)return i[0].toUpperCase();if(i.length===7)return i.slice(0,2).join("-").toUpperCase();throw new Error(`invalid guid: ${e}`)}const Qn=Object.freeze(Object.defineProperty({__proto__:null,getEntityIdFromGuid:Kn,getImageUrl:Gn,getNumericId:Jn,isEntityId:yt,isEntityPageTitle:fi,isEntitySchemaId:Vn,isFormId:ai,isGuid:Hn,isHash:Xn,isItemId:Ve,isLexemeId:si,isMediaInfoId:zn,isNonNestedEntityId:li,isNumericId:Ln,isPropertyClaimsId:Wn,isPropertyId:We,isRevisionId:ci,isSenseId:ui},Symbol.toStringTag,{value:"Module"}));function ue(e){return typeof e=="string"?[e]:Array.isArray(e)?[...e]:[]}function bt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}const di=e=>encodeURIComponent(e).replace(/[!'()*]/g,Yn),Dn=e=>e.replace(/\s/g,"_");function hi(e){return Array.from(new Set(e))}const Yn=e=>"%"+e.charCodeAt(0).toString(16);function le(e){if(e.length!==1||!bt(e[0]))throw new Error(`Since wikibase-sdk v9.0.0, this function expects arguments to be passed in an object
    See https://github.com/maxlath/wikibase-sdk/blob/main/CHANGELOG.md`)}function Oe(e,i){return typeof i=="string"&&e.includes(i)}function ut(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function Fe(e){return Object.entries(e)}function Zn(e){return Object.keys(e)}function _t(e){typeof e=="object"&&(e=e.time);const i=e[0];let[t,o]=e.slice(1).split("T");t=t.replace(/-00/g,"-01");const n=`${t}T${o}`;return er(i,n)}const er=(e,i)=>{const t=i.split("-")[0];return e==="-"||t.length>4?tr(e,i,t):new Date(i)},tr=(e,i,t)=>{let o;return t.length===4?o=`${e}00${i}`:t.length===5?o=`${e}0${i}`:o=e+i,new Date(o)},ir=e=>_t(e).getTime(),nr=e=>_t(e).toISOString(),rr=e=>{if(typeof e=="object"){const{time:i,precision:t}=e;t===9?e=i.replace("-01-01T","-00-00T"):t===10?e=i.replace("-01T","-00T"):e=i}return e.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")},wi=ir,pi=e=>{try{return nr(e)}catch{const{sign:t,yearMonthDay:o,withinDay:n}=ki(e);return`${t}${o}T${n}`}},mi=e=>{try{return rr(e)}catch{const{sign:t,yearMonthDay:o}=ki(e);return`${t}${o}`}};function ki(e){e=typeof e=="string"?e:e.time;const i=e[0];let[t,o]=e.slice(1).split("T");if(!i||!t||!o)throw new Error("TimeInput is invalid: "+JSON.stringify(e));return t=t.replace(/-00/g,"-01"),{sign:i,yearMonthDay:t,withinDay:o}}const or=Object.freeze(Object.defineProperty({__proto__:null,wikibaseTimeToDateObject:_t,wikibaseTimeToEpochTime:wi,wikibaseTimeToISOString:pi,wikibaseTimeToSimpleDay:mi},Symbol.toStringTag,{value:"Module"}));function ce(e){return e.value}function sr(e,i){return i.keepRichValues?e.value:e.value.text}function ke(e,i){const{entityPrefix:t}=i,{value:o}=e;let n;return o.id?n=o.id:n=`${ar[o["entity-type"]]}${o["numeric-id"]}`,typeof t=="string"?`${t}:${n}`:n}const ar={item:"Q","entity-schema":"E",lexeme:"L",property:"P",form:"F",sense:"S"};function ur(e,i){const{value:t}=e,o=parseFloat(t.amount);if(i.keepRichValues){const n={amount:parseFloat(t.amount),unit:t.unit.replace(/^https?:\/\/.*\/entity\//,"")};return t.upperBound!=null&&(n.upperBound=parseFloat(t.upperBound)),t.lowerBound!=null&&(n.lowerBound=parseFloat(t.lowerBound)),n}else return o}function cr(e,i){return i.keepRichValues?e.value:[e.value.latitude,e.value.longitude]}function lr(e,i){let t;if(typeof i.timeConverter=="function"?t=i.timeConverter(e.value):t=dr(i.timeConverter)(e.value),i.keepRichValues){const{timezone:o,before:n,after:c,precision:l,calendarmodel:m}=e.value;return{time:t,timezone:o,before:n,after:c,precision:l,calendarmodel:m}}else return t}const fr={iso:pi,epoch:wi,"simple-day":mi,none:e=>typeof e=="string"?e:e.time};function dr(e="iso"){const i=fr[e];if(!i)throw new Error(`invalid converter key: ${JSON.stringify(e).substring(0,100)}`);return i}const ze={commonsMedia:ce,"external-id":ce,"entity-schema":ke,"geo-shape":ce,"globe-coordinate":cr,localMedia:ce,math:ce,monolingualtext:sr,"musical-notation":ce,quantity:ur,string:ce,"tabular-data":ce,time:lr,url:ce,"wikibase-form":ke,"wikibase-item":ke,"wikibase-lexeme":ke,"wikibase-property":ke,"wikibase-sense":ke},hr={"musical notation":ze["musical-notation"],globecoordinate:ze["globe-coordinate"]};function wr(e,i,t){let o;if(e?o=ze[e]||hr[e]:o=ze[i.type],!o)throw new Error(`${e} claim parser isn't implemented. Please report to https://github.com/maxlath/wikibase-sdk/issues`);return o(i,t)}function Et(e){const i={};for(const t of e){const{rank:o}=t;i[o]=i[o]||[],i[o].push(t)}return i.preferred||i.normal||[]}function gi(e){return e.filter(i=>i.rank!=="deprecated")}function pr(e){const i={};for(const[t,o]of Fe(e))i[t]=Et(o);return i}const mr=Object.freeze(Object.defineProperty({__proto__:null,nonDeprecatedPropertyClaims:gi,truthyClaims:pr,truthyPropertyClaims:Et},Symbol.toStringTag,{value:"Module"}));function Je(e,i={}){const{keepTypes:t,keepSnaktypes:o,keepHashes:n}=vt(i);let c;const{datatype:l,datavalue:m,snaktype:k,hash:p}=e;if(m)c=wr(l,m,i);else if(k==="somevalue")c=i.somevalueValue;else if(k==="novalue")c=i.novalueValue;else throw new Error("no datavalue or special snaktype found");if(t||o||n){const f={value:c};return t&&(f.type=l),o&&(f.snaktype=k),n&&(f.hash=p),f}else return c}function yi(e,i={}){const{keepQualifiers:t,keepReferences:o,keepIds:n,keepTypes:c,keepSnaktypes:l,keepRanks:m}=vt(i),{mainsnak:k,rank:p}=e,f=Je(k,i);if(!(t||o||n||c||l||m))return f;let r={value:f};return bt(f)&&"value"in f?r=f:r={value:f},m&&(r.rank=p),t&&(r.qualifiers=vi(e.qualifiers,i)),o&&(e.references=e.references||[],r.references=Oi(e.references,i)),n&&(r.id=e.id),r}function xe(e,i={}){const{propertyPrefix:t}=i,o={};for(let[n,c]of Fe(e))t&&(n=t+":"+n),o[n]=bi(c,i);return o}function bi(e,i={}){if(e==null||e.length===0)return[];const{keepNonTruthy:t,keepNonDeprecated:o}=vt(i),{minTimePrecision:n}=i;o?e=gi(e):t||(e=Et(e));const c=[];for(const l of e)if(!Ti(l.mainsnak,n)){const k=yi(l,i);k!==void 0&&c.push(k)}return c[0]&&typeof c[0]!="object"?hi(c):c}function _i(e={},i={}){const{propertyPrefix:t}=i,o={};for(let[n,c]of Fe(e))t&&(n=t+":"+n),o[n]=Ei(c,i);return o}function Ei(e,i={}){if(e==null||e.length===0)return[];const{minTimePrecision:t}=i,o=[];for(const n of e)if(!Ti(n,t)){const l=Je(n,i);l!==void 0&&o.push(l)}return o[0]&&typeof o[0]!="object"?hi(o):o}function vi(e,i={}){return _i(e,i)}function kr(e,i={}){return Ei(e,i)}function gr(e,i={}){return Je(e,i)}function Oi(e,i={}){return e.map(t=>xi(t,i))}function xi(e,i={}){const t=_i(e.snaks,i);return i.keepHashes?{snaks:t,hash:e.hash}:t}const yr=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks","keepRichValues"],vt=(e={})=>{if(e.keepAll)for(const i of yr)e[i]==null&&(e[i]=!0);return e};function Ti(e,i){if(i==null||e.datatype!=="time"||e.snaktype!=="value")return!1;const{value:t}=e.datavalue;return t.precision<i}function Ne(e){const i={};for(const[t,o]of Fe(e))i[t]=o!=null?o.value:null;return i}function br(e){const i={};for(const[t,o]of Fe(e))i[t]=o!=null?o.map(n=>n.value):[];return i}function Si(e){return Ne(e)}function Fi(e){return Ne(e)}function Ni(e){return br(e)}function Ai(e){return Ne(e)}function Ci(e){return Ne(e)}function ji(e){return Ne(e)}const Ri=(e,i={})=>{const{id:t,representations:o,grammaticalFeatures:n,claims:c}=e;if(!ai(t))throw new Error("invalid form object");return{id:t,representations:Ci(o),grammaticalFeatures:n,claims:xe(c,i)}},Pi=(e,i={})=>e.map(t=>Ri(t,i)),Ii=(e,i={})=>{const{id:t,glosses:o,claims:n}=e;if(!ui(t))throw new Error("invalid sense object");return{id:t,glosses:ji(o),claims:xe(n,i)}};function $i(e,i={}){return e.map(t=>Ii(t,i))}const ct={commonswiki:"commons",foundationwiki:"foundation",mediawikiwiki:"mediawiki",metawiki:"meta",outreachwiki:"outreach",sourceswiki:"sources",specieswiki:"species",wikidatawiki:"wikidata",wikifunctionswiki:"wikifunctions",wikimaniawiki:"wikimania"},Ot=["aawiki","aawikibooks","aawiktionary","abwiki","abwiktionary","acewiki","adywiki","afwiki","afwikibooks","afwikiquote","afwiktionary","akwiki","akwikibooks","akwiktionary","alswiki","alswikibooks","alswikiquote","alswiktionary","altwiki","amiwiki","amwiki","amwikiquote","amwiktionary","angwiki","angwikibooks","angwikiquote","angwikisource","angwiktionary","annwiki","anpwiki","anwiki","anwiktionary","arcwiki","arwiki","arwikibooks","arwikinews","arwikiquote","arwikisource","arwikiversity","arwiktionary","arywiki","arzwiki","astwiki","astwikibooks","astwikiquote","astwiktionary","aswiki","aswikibooks","aswikiquote","aswikisource","aswiktionary","atjwiki","avkwiki","avwiki","avwiktionary","awawiki","aywiki","aywikibooks","aywiktionary","azbwiki","azwiki","azwikibooks","azwikiquote","azwikisource","azwiktionary","banwiki","banwikisource","barwiki","bat_smgwiki","bawiki","bawikibooks","bbcwiki","bclwiki","bclwikiquote","bclwikisource","bclwiktionary","bdrwiki","be_x_oldwiki","bewiki","bewikibooks","bewikiquote","bewikisource","bewiktionary","bewwiki","bgwiki","bgwikibooks","bgwikinews","bgwikiquote","bgwikisource","bgwiktionary","bhwiki","bhwiktionary","biwiki","biwikibooks","biwiktionary","bjnwiki","bjnwikiquote","bjnwiktionary","blkwiki","blkwiktionary","bmwiki","bmwikibooks","bmwikiquote","bmwiktionary","bnwiki","bnwikibooks","bnwikiquote","bnwikisource","bnwikivoyage","bnwiktionary","bowiki","bowikibooks","bowiktionary","bpywiki","brwiki","brwikiquote","brwikisource","brwiktionary","bswiki","bswikibooks","bswikinews","bswikiquote","bswikisource","bswiktionary","btmwiki","btmwiktionary","bugwiki","bxrwiki","cawiki","cawikibooks","cawikinews","cawikiquote","cawikisource","cawiktionary","cbk_zamwiki","cdowiki","cebwiki","cewiki","chowiki","chrwiki","chrwiktionary","chwiki","chwikibooks","chwiktionary","chywiki","ckbwiki","ckbwiktionary","commonswiki","cowiki","cowikibooks","cowikiquote","cowiktionary","crhwiki","crwiki","crwikiquote","crwiktionary","csbwiki","csbwiktionary","cswiki","cswikibooks","cswikinews","cswikiquote","cswikisource","cswikiversity","cswikivoyage","cswiktionary","cuwiki","cvwiki","cvwikibooks","cywiki","cywikibooks","cywikiquote","cywikisource","cywiktionary","dagwiki","dawiki","dawikibooks","dawikiquote","dawikisource","dawiktionary","dewiki","dewikibooks","dewikinews","dewikiquote","dewikisource","dewikiversity","dewikivoyage","dewiktionary","dgawiki","dinwiki","diqwiki","diqwiktionary","dsbwiki","dtpwiki","dtywiki","dvwiki","dvwiktionary","dzwiki","dzwiktionary","eewiki","elwiki","elwikibooks","elwikinews","elwikiquote","elwikisource","elwikiversity","elwikivoyage","elwiktionary","emlwiki","enwiki","enwikibooks","enwikinews","enwikiquote","enwikisource","enwikiversity","enwikivoyage","enwiktionary","eowiki","eowikibooks","eowikinews","eowikiquote","eowikisource","eowikivoyage","eowiktionary","eswiki","eswikibooks","eswikinews","eswikiquote","eswikisource","eswikiversity","eswikivoyage","eswiktionary","etwiki","etwikibooks","etwikiquote","etwikisource","etwiktionary","euwiki","euwikibooks","euwikiquote","euwikisource","euwiktionary","extwiki","fatwiki","fawiki","fawikibooks","fawikinews","fawikiquote","fawikisource","fawikivoyage","fawiktionary","ffwiki","fiu_vrowiki","fiwiki","fiwikibooks","fiwikinews","fiwikiquote","fiwikisource","fiwikiversity","fiwikivoyage","fiwiktionary","fjwiki","fjwiktionary","fonwiki","foundationwiki","fowiki","fowikisource","fowiktionary","frpwiki","frrwiki","frwiki","frwikibooks","frwikinews","frwikiquote","frwikisource","frwikiversity","frwikivoyage","frwiktionary","furwiki","fywiki","fywikibooks","fywiktionary","gagwiki","ganwiki","gawiki","gawikibooks","gawikiquote","gawiktionary","gcrwiki","gdwiki","gdwiktionary","glkwiki","glwiki","glwikibooks","glwikiquote","glwikisource","glwiktionary","gnwiki","gnwikibooks","gnwiktionary","gomwiki","gomwiktionary","gorwiki","gorwikiquote","gorwiktionary","gotwiki","gotwikibooks","gpewiki","gucwiki","gurwiki","guwiki","guwikibooks","guwikiquote","guwikisource","guwiktionary","guwwiki","guwwikinews","guwwikiquote","guwwiktionary","gvwiki","gvwiktionary","hakwiki","hawiki","hawiktionary","hawwiki","hewiki","hewikibooks","hewikinews","hewikiquote","hewikisource","hewikivoyage","hewiktionary","hifwiki","hifwiktionary","hiwiki","hiwikibooks","hiwikiquote","hiwikisource","hiwikiversity","hiwikivoyage","hiwiktionary","howiki","hrwiki","hrwikibooks","hrwikiquote","hrwikisource","hrwiktionary","hsbwiki","hsbwiktionary","htwiki","htwikisource","huwiki","huwikibooks","huwikinews","huwikiquote","huwikisource","huwiktionary","hywiki","hywikibooks","hywikiquote","hywikisource","hywiktionary","hywwiki","hzwiki","iawiki","iawikibooks","iawiktionary","ibawiki","idwiki","idwikibooks","idwikiquote","idwikisource","idwikivoyage","idwiktionary","iewiki","iewikibooks","iewiktionary","iglwiki","igwiki","igwikiquote","igwiktionary","iiwiki","ikwiki","ikwiktionary","ilowiki","inhwiki","iowiki","iowiktionary","iswiki","iswikibooks","iswikiquote","iswikisource","iswiktionary","itwiki","itwikibooks","itwikinews","itwikiquote","itwikisource","itwikiversity","itwikivoyage","itwiktionary","iuwiki","iuwiktionary","jamwiki","jawiki","jawikibooks","jawikinews","jawikiquote","jawikisource","jawikiversity","jawikivoyage","jawiktionary","jbowiki","jbowiktionary","jvwiki","jvwikisource","jvwiktionary","kaawiki","kaawiktionary","kabwiki","kawiki","kawikibooks","kawikiquote","kawikisource","kawiktionary","kbdwiki","kbdwiktionary","kbpwiki","kcgwiki","kcgwiktionary","kgewiki","kgwiki","kiwiki","kjwiki","kkwiki","kkwikibooks","kkwikiquote","kkwiktionary","klwiki","klwiktionary","kmwiki","kmwikibooks","kmwiktionary","kncwiki","knwiki","knwikibooks","knwikiquote","knwikisource","knwiktionary","koiwiki","kowiki","kowikibooks","kowikinews","kowikiquote","kowikisource","kowikiversity","kowiktionary","krcwiki","krwiki","krwikiquote","kshwiki","kswiki","kswikibooks","kswikiquote","kswiktionary","kuswiki","kuwiki","kuwikibooks","kuwikiquote","kuwiktionary","kvwiki","kwwiki","kwwikiquote","kwwiktionary","kywiki","kywikibooks","kywikiquote","kywiktionary","ladwiki","lawiki","lawikibooks","lawikiquote","lawikisource","lawiktionary","lbewiki","lbwiki","lbwikibooks","lbwikiquote","lbwiktionary","lezwiki","lfnwiki","lgwiki","lijwiki","lijwikisource","liwiki","liwikibooks","liwikinews","liwikiquote","liwikisource","liwiktionary","lldwiki","lmowiki","lmowiktionary","lnwiki","lnwikibooks","lnwiktionary","lowiki","lowiktionary","lrcwiki","ltgwiki","ltwiki","ltwikibooks","ltwikiquote","ltwikisource","ltwiktionary","lvwiki","lvwikibooks","lvwiktionary","madwiki","madwiktionary","maiwiki","map_bmswiki","mdfwiki","mediawikiwiki","metawiki","mgwiki","mgwikibooks","mgwiktionary","mhrwiki","mhwiki","mhwiktionary","minwiki","minwiktionary","miwiki","miwikibooks","miwiktionary","mkwiki","mkwikibooks","mkwikisource","mkwiktionary","mlwiki","mlwikibooks","mlwikiquote","mlwikisource","mlwiktionary","mniwiki","mniwiktionary","mnwiki","mnwikibooks","mnwiktionary","mnwwiki","mnwwiktionary","moswiki","mowiki","mowiktionary","mrjwiki","mrwiki","mrwikibooks","mrwikiquote","mrwikisource","mrwiktionary","mswiki","mswikibooks","mswikisource","mswiktionary","mtwiki","mtwiktionary","muswiki","mwlwiki","myvwiki","mywiki","mywikibooks","mywikisource","mywiktionary","mznwiki","nahwiki","nahwikibooks","nahwiktionary","napwiki","napwikisource","nawiki","nawikibooks","nawikiquote","nawiktionary","nds_nlwiki","ndswiki","ndswikibooks","ndswikiquote","ndswiktionary","newiki","newikibooks","newiktionary","newwiki","ngwiki","niawiki","niawiktionary","nlwiki","nlwikibooks","nlwikinews","nlwikiquote","nlwikisource","nlwikivoyage","nlwiktionary","nnwiki","nnwikiquote","nnwiktionary","novwiki","nowiki","nowikibooks","nowikinews","nowikiquote","nowikisource","nowiktionary","nqowiki","nrmwiki","nrwiki","nsowiki","nvwiki","nywiki","ocwiki","ocwikibooks","ocwiktionary","olowiki","omwiki","omwiktionary","orwiki","orwikisource","orwiktionary","oswiki","outreachwiki","pagwiki","pamwiki","papwiki","pawiki","pawikibooks","pawikisource","pawiktionary","pcdwiki","pcmwiki","pdcwiki","pflwiki","pihwiki","piwiki","piwiktionary","plwiki","plwikibooks","plwikinews","plwikiquote","plwikisource","plwikivoyage","plwiktionary","pmswiki","pmswikisource","pnbwiki","pnbwiktionary","pntwiki","pswiki","pswikibooks","pswikivoyage","pswiktionary","ptwiki","ptwikibooks","ptwikinews","ptwikiquote","ptwikisource","ptwikiversity","ptwikivoyage","ptwiktionary","pwnwiki","quwiki","quwikibooks","quwikiquote","quwiktionary","rmwiki","rmwikibooks","rmwiktionary","rmywiki","rnwiki","rnwiktionary","roa_rupwiki","roa_rupwiktionary","roa_tarawiki","rowiki","rowikibooks","rowikinews","rowikiquote","rowikisource","rowikivoyage","rowiktionary","rskwiki","ruewiki","ruwiki","ruwikibooks","ruwikinews","ruwikiquote","ruwikisource","ruwikiversity","ruwikivoyage","ruwiktionary","rwwiki","rwwiktionary","sahwiki","sahwikiquote","sahwikisource","satwiki","satwiktionary","sawiki","sawikibooks","sawikiquote","sawikisource","sawiktionary","scnwiki","scnwiktionary","scowiki","scwiki","scwiktionary","sdwiki","sdwikinews","sdwiktionary","sewiki","sewikibooks","sgwiki","sgwiktionary","shiwiki","shnwiki","shnwikibooks","shnwikinews","shnwikivoyage","shnwiktionary","shwiki","shwiktionary","shywiktionary","simplewiki","simplewikibooks","simplewikiquote","simplewiktionary","siwiki","siwikibooks","siwiktionary","skrwiki","skrwiktionary","skwiki","skwikibooks","skwikiquote","skwikisource","skwiktionary","slwiki","slwikibooks","slwikiquote","slwikisource","slwikiversity","slwiktionary","smnwiki","smwiki","smwiktionary","snwiki","snwiktionary","sourceswiki","sowiki","sowiktionary","specieswiki","sqwiki","sqwikibooks","sqwikinews","sqwikiquote","sqwiktionary","srnwiki","srwiki","srwikibooks","srwikinews","srwikiquote","srwikisource","srwiktionary","sswiki","sswiktionary","stqwiki","stwiki","stwiktionary","suwiki","suwikibooks","suwikiquote","suwikisource","suwiktionary","svwiki","svwikibooks","svwikinews","svwikiquote","svwikisource","svwikiversity","svwikivoyage","svwiktionary","swwiki","swwikibooks","swwiktionary","sylwiki","szlwiki","szywiki","tawiki","tawikibooks","tawikinews","tawikiquote","tawikisource","tawiktionary","taywiki","tcywiki","tcywikisource","tcywiktionary","tddwiki","tetwiki","tewiki","tewikibooks","tewikiquote","tewikisource","tewiktionary","tgwiki","tgwikibooks","tgwiktionary","thwiki","thwikibooks","thwikinews","thwikiquote","thwikisource","thwiktionary","tigwiki","tiwiki","tiwiktionary","tkwiki","tkwikibooks","tkwikiquote","tkwiktionary","tlwiki","tlwikibooks","tlwikiquote","tlwiktionary","tlywiki","tnwiki","tnwiktionary","towiki","towiktionary","tpiwiki","tpiwiktionary","trvwiki","trwiki","trwikibooks","trwikinews","trwikiquote","trwikisource","trwikivoyage","trwiktionary","tswiki","tswiktionary","ttwiki","ttwikibooks","ttwikiquote","ttwiktionary","tumwiki","twwiki","twwiktionary","tyvwiki","tywiki","udmwiki","ugwiki","ugwikibooks","ugwikiquote","ugwiktionary","ukwiki","ukwikibooks","ukwikinews","ukwikiquote","ukwikisource","ukwikivoyage","ukwiktionary","urwiki","urwikibooks","urwikiquote","urwiktionary","uzwiki","uzwikibooks","uzwikiquote","uzwiktionary","vecwiki","vecwikisource","vecwiktionary","vepwiki","vewiki","viwiki","viwikibooks","viwikiquote","viwikisource","viwikivoyage","viwiktionary","vlswiki","vowiki","vowikibooks","vowikiquote","vowiktionary","warwiki","wawiki","wawikibooks","wawikisource","wawiktionary","wikidatawiki","wikifunctionswiki","wikimaniawiki","wowiki","wowikiquote","wowiktionary","wuuwiki","xalwiki","xhwiki","xhwikibooks","xhwiktionary","xmfwiki","yiwiki","yiwikisource","yiwiktionary","yowiki","yowikibooks","yowiktionary","yuewiktionary","zawiki","zawikibooks","zawikiquote","zawiktionary","zeawiki","zghwiki","zh_classicalwiki","zh_min_nanwiki","zh_min_nanwikibooks","zh_min_nanwikiquote","zh_min_nanwikisource","zh_min_nanwiktionary","zh_yuewiki","zhwiki","zhwikibooks","zhwikinews","zhwikiquote","zhwikisource","zhwikiversity","zhwikivoyage","zhwiktionary","zuwiki","zuwikibooks","zuwiktionary"],_r="https://www.wikidata.org/wiki/";function Bi({site:e,title:i}){if(le(arguments),!e)throw new Error("missing a site");if(!i)throw new Error("missing a title");if(ut(Be,e))return Be[e](i);const t=e.replace(/wiki$/,"");if(ut(Be,t))return Be[t](i);const{lang:o,project:n}=Ui(e);return i=di(Dn(i)),`https://${o}.${n}.org/wiki/${i}`}const de=e=>i=>`https://${e}.wikimedia.org/wiki/${i}`,Be={commons:de("commons"),foundation:de("foundation"),mediawiki:e=>`https://www.mediawiki.org/wiki/${e}`,meta:de("meta"),outreach:de("outreach"),sources:e=>`https://wikisource.org/wiki/${e}`,species:de("species"),wikidata:e=>{const i=Er[e[0]];let t=i?`${i}:${e}`:e;return t=t.replace("-","#"),`${_r}${t}`},wikifunctions:de("wikifunctions"),wikimania:de("wikimania")},Er={E:"EntitySchema",L:"Lexeme",P:"Property"},vr=/^https?:\/\/([\w-]{2,10})\.(\w+)\.org\/\w+\/(.*)/;function Ui(e){if(e.startsWith("http")){const i=e,t=i.match(vr);if(!t)throw new Error(`invalid sitelink url: ${i}`);let[o,n,c]=t.slice(1);if(c=decodeURIComponent(c),o==="commons")return{lang:"en",project:"commons",key:"commons",title:c,url:i};if(!Oe(xr,n))throw new Error(`project is unknown: ${n}`);if(o==="www")return{lang:"en",project:n,key:n,title:c,url:i};const m=`${o.replace(/-/g,"_")}${n}`.replace("wikipedia","wiki");return{lang:o,project:n,key:m,title:c,url:i}}else{if(ut(ct,e))return{lang:"en",project:ct[e],key:e};if(!Oe(Ot,e))throw new Error(`site not found: ${e}. Updating wikibase-sdk to a more recent version might fix the issue.`);let[i,t,o]=e.split("wik");if(o!=null)throw new Error(`invalid sitelink key: ${e}`);i=i.replace(/_/g,"-");const n=qi[t];if(!n)throw new Error(`sitelink project not found: ${n}`);return{lang:i,project:n,key:e}}}const Mi=e=>Oe(Ot,e),Or=Mi,qi={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"},xr=[...Object.values(qi),...Object.values(ct)],Tr=Object.freeze(Object.defineProperty({__proto__:null,getSitelinkData:Ui,getSitelinkUrl:Bi,isSite:Mi,isSitelinkKey:Or},Symbol.toStringTag,{value:"Module"}));function Li(e,i={}){let{addUrl:t,keepBadges:o,keepAll:n}=i;return o=o||n,Zn(e).reduce(Sr({sitelinks:e,addUrl:t,keepBadges:o}),{})}const Sr=({sitelinks:e,addUrl:i,keepBadges:t})=>(o,n)=>{if(e[n]==null)return o[n]=e[n],o;const{title:c,badges:l}=e[n];return i||t?(o[n]={title:c},i&&(o[n].url=Bi({site:n,title:c})),t&&(o[n].badges=l)):o[n]=c,o},Fr={labels:Si,descriptions:Fi,aliases:Ni,claims:xe,statements:xe,sitelinks:Li,lemmas:Ai,forms:Pi,senses:$i},Vi=(e,i={})=>{const{type:t}=e;if(!t)throw new Error("missing entity type");const o={id:e.id,type:t,modified:e.modified};return t==="item"?(Y(e,o,"labels"),Y(e,o,"descriptions"),Y(e,o,"aliases"),Y(e,o,"claims",i),Y(e,o,"sitelinks",i)):t==="property"?(o.datatype=e.datatype,Y(e,o,"labels"),Y(e,o,"descriptions"),Y(e,o,"aliases"),Y(e,o,"claims",i)):t==="lexeme"?(Y(e,o,"lemmas"),o.lexicalCategory=e.lexicalCategory,o.language=e.language,Y(e,o,"claims",i),Y(e,o,"forms",i),Y(e,o,"senses",i)):t==="mediainfo"&&(Y(e,o,"labels"),Y(e,o,"descriptions"),Y(e,o,"statements",i)),o},Y=(e,i,t,o)=>{e[t]!=null&&(i[t]=Fr[t](e[t],o))},zi=(e,i={})=>{e.entities&&(e=e.entities);const{entityPrefix:t}=i,o={};for(const[n,c]of Object.entries(e)){const l=t?`${t}:${n}`:n;o[l]=Vi(c,i)}return o};function Nr(e){e=e.body||e;const{entities:i}=e;return zi(i)}function Ar(e){return e=e.body||e,e.query.search.map(i=>i.title)}const Cr=Object.freeze(Object.defineProperty({__proto__:null,entities:Nr,pagesTitles:Ar},Symbol.toStringTag,{value:"Module"}));function jr(e){typeof e=="string"&&(e=JSON.parse(e));const{vars:i}=e.head,t=e.results.bindings,{richVars:o,associatedVars:n,standaloneVars:c}=Ir(i);return t.map(m=>$r(o,n,c,m))}function $t(e){if(!e||e.type==="bnode")return null;const{value:i}=e;if(e.type==="uri")return Rr(i);const t=(e.datatype||"").replace("http://www.w3.org/2001/XMLSchema#","");return t==="decimal"||t==="integer"||t==="float"||t==="double"?parseFloat(i):t==="boolean"?i==="true":i}function Rr(e){return e.match(/http.*\/entity\/statement\//)?Pr(e):e.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,"")}function Pr(e){e=e.replace(/^https?:\/\/.*\/entity\/statement\//,"");const i=e.split("-");return i[0]+"$"+i.slice(1).join("-")}function Ir(e){let i=e.filter(c=>{const l=new RegExp(`^${c}[A-Z]\\w+`);return e.some(m=>l.test(m))});i=i.filter(c=>!i.some(l=>c!==l&&c.startsWith(l)));const t=new RegExp(`^(${i.join("|")})[A-Z]`),o=e.filter(c=>t.test(c)),n=e.filter(c=>!i.includes(c)&&!t.test(c));return{richVars:i,associatedVars:o,standaloneVars:n}}function $r(e,i,t,o){const n={};for(const c of e){const l={},m=$t(o[c]);m!=null&&(l.value=m);for(const k of i)k.startsWith(c)&&Br(o,c,k,l);Object.keys(l).length>0&&(n[c]=l)}for(const c of t){const l=$t(o[c]);l!=null&&(n[c]=l)}return n}function Br(e,i,t,o){let n=t.split(i)[1];n=n[0].toLowerCase()+n.slice(1),n=n==="altLabel"?"aliases":n;const c=e[t];c!=null&&(o[n]=c.value)}const Ur=Object.freeze(Object.defineProperty({__proto__:null,aliases:Ni,claim:yi,claims:xe,descriptions:Fi,entities:zi,entity:Vi,form:Ri,forms:Pi,glosses:ji,labels:Si,lemmas:Ai,propertyClaims:bi,propertyQualifiers:kr,qualifier:gr,qualifiers:vi,reference:xi,references:Oi,representations:Ci,sense:Ii,senses:$i,sitelinks:Li,snak:Je,sparqlResults:jr},Symbol.toStringTag,{value:"Module"})),Mr=/^\d+[|\d]*$/;function qr(e){return function(t){le(arguments);for(const[u,d]of Object.entries(t))if(u.startsWith("sr")){const b=u.replace(/^sr/,"");if(t[b]!=null)throw new Error(`${b} and ${u} are the same`);t[b]=d}const{search:o,haswbstatement:n,format:c="json",limit:l,offset:m,profile:k,sort:p}=t;let{namespace:f,prop:r}=t;if(!(o||n))throw new Error('missing "search" or "haswbstatement" parameter');let w="";if(o&&(w+=o),n){const u=n instanceof Array?n:[n];for(const d of u)d[0]==="-"?w+=` -haswbstatement:${d.slice(1)}`:w+=` haswbstatement:${d}`}if(l!=null&&(typeof l!="number"||l<1))throw new Error(`invalid limit: ${l}`);if(m!=null&&(typeof m!="number"||m<0))throw new Error(`invalid offset: ${m}`);if(f instanceof Array?f=f.join("|"):typeof f=="number"&&(f=f.toString()),f&&!Mr.test(f))throw new Error(`invalid namespace: ${f}`);if(k!=null&&typeof k!="string")throw new Error(`invalid profile: ${k} (${typeof k}, expected string)`);if(p!=null&&typeof p!="string")throw new Error(`invalid sort: ${p} (${typeof p}, expected string)`);let h;if(r!=null){if(r instanceof Array&&(r=r.join("|")),typeof r!="string")throw new Error(`invalid prop: ${r} (${typeof r}, expected string)`);h=r.toString()}return e({action:"query",list:"search",srsearch:w.trim(),format:c,srnamespace:f,srlimit:l,sroffset:m,srqiprofile:k,srsort:p,srprop:h})}}function Ge(e,i){return function(t){if(!i(t))throw new Error(`invalid ${e}: ${t} (type: ${Hr(t)})`)}}const Hi=Ge("entity id",yt),Lr=Ge("property id",We),Vr=Ge("entity page title",fi),zr=Ge("revision id",ci);function Hr(e){const i=typeof e;if(i==="object"){if(e===null)return"null";if(e instanceof Array)return"array";if(e instanceof Promise)return"promise"}return i==="number"&&Number.isNaN(e)?"NaN":i}function Xi(e){return function({ids:t,languages:o,props:n,format:c="json",redirects:l}){if(le(arguments),!(t&&t.length>0))throw new Error("no id provided");t=ue(t),t.forEach(k=>Hi(k)),t.length>50&&console.warn(`getEntities accepts 50 ids max to match Wikidata API limitations:
      this request won't get all the desired entities.
      You can use getManyEntities instead to generate several request urls
      to work around this limitation`);const m={action:"wbgetentities",ids:t.join("|"),format:c};return l===!1&&(m.redirects="no"),o&&(o=ue(o),m.languages=o.join("|")),n&&n.length>0&&(m.props=ue(n).join("|")),e(m)}}function Xr(e){return function({titles:t,sites:o,languages:n,props:c,format:l="json",redirects:m}){if(le(arguments),!(t&&t.length>0))throw new Error("no titles provided");o&&o.length>0||(o=["enwiki"]),t=ue(t),o=ue(o).map(Wr),c=ue(c);const k={action:"wbgetentities",titles:t.join("|"),sites:o.join("|"),format:l};return o.length===1&&t.length===1&&(k.normalize=!0),n&&(n=ue(n),k.languages=n.join("|")),c.length>0&&(k.props=c.join("|")),m===!1&&(k.redirects="no"),e(k)}}function Wr(e){return Oe(Ot,e)?e:e.replace(/-/g,"_")+"wiki"}function Jr(e,i){return function({id:o,revision:n}){return le(arguments),Hi(o),zr(n),`${e}/${i}/index.php?title=Special:EntityData/${o}.json&revision=${n}`}}function Gr(e){const i=Xi(e);return function({ids:o,languages:n,props:c,format:l,redirects:m}){if(le(arguments),!(o instanceof Array))throw new Error("getManyEntities expects an array of ids");return Kr(o).map(k=>i({ids:k,languages:n,props:c,format:l,redirects:m}))}}function Kr(e){const i=[];for(;e.length>0;){const t=e.slice(0,50);e=e.slice(50),i.push(t)}return i}function Wi(e){return function(t){const o=di(t);return`${e}?format=json&query=${o}`}}const Qr="FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",Dr=e=>{const i=Wi(e);return function(o){let{properties:n}=o;const{values:c,limit:l,caseInsensitive:m,keepProperties:k}=o,p=m?eo:Zr,f=k?"":Qr;n=ue(n),n.forEach(h=>Lr(h));let w=`SELECT DISTINCT ?subject WHERE { ${Yr(c,p,n,f)} }`;return l&&(w+=` LIMIT ${l}`),i(w)}},Yr=(e,i,t,o)=>(t=t.map(to).join("|"),e instanceof Array?"{ "+e.map(Bt).map(c=>i(t,c,o)).join("} UNION {")+" }":i(t,Bt(e),o)),Bt=e=>(Ve(e)?e=`wd:${e}`:typeof e=="string"&&(e=`'${e}'`),e),Zr=(e,i,t)=>`?subject ${e} ${i} .
    ${t}`,eo=(e,i,t)=>`?subject ${e} ?value .
    FILTER (lcase(?value) = ${i.toLowerCase()})
    ${t}`,to=e=>"wdt:"+e;function io(e){return function({ids:t,format:o,limit:n,start:c,end:l,prop:m,user:k,excludeuser:p,tag:f}){le(arguments),t=ue(t),t.forEach(h=>Vr(h));const r=t.length===1,w={action:"query",prop:"revisions"};return w.titles=t.join("|"),w.format=o||"json",r&&(w.rvlimit=n||"max"),r&&c&&(w.rvstart=Ut(c)),r&&l&&(w.rvend=Ut(l)),m?w.rvprop=ue(m).join("|"):w.rvprop="ids|flags|timestamp|user|userid|size|slotsize|sha1|slotsha1|contentmodel|comment|parsedcomment|content|tags|roles|oresscores",w.rvslots="*",k&&(w.rvuser=k),p&&(w.rvexcludeuser=p),f&&(w.rvtag=f),e(w)}}const Ut=e=>typeof e=="number"&&e<no?e:Math.trunc(new Date(e).getTime()/1e3),no=new Date("2000-01-01").getTime(),ro=["item","property","lexeme","form","sense","entity-schema"],oo=e=>function({search:t,language:o="en",uselang:n,limit:c="20",continue:l="0",format:m="json",type:k="item"}){if(le(arguments),n=n||o,!(t&&t.length>0))throw new Error("search can't be empty");if(!Oe(ro,k))throw new Error(`invalid type: ${k}`);return e({action:"wbsearchentities",search:t,language:o,limit:c,continue:l,format:m,uselang:n,type:k})},so=typeof location<"u"&&typeof document<"u";function ao(e){return i=>{so&&(i=Object.assign(Object.assign({},i),{origin:"*"}));const t=Object.entries(i).filter(([,n])=>n!=null).map(([n,c])=>[n,String(c)]),o=new URLSearchParams(t).toString();return e+"?"+o}}const uo=`Tip: if you just want to access functions that don't need an instance or a sparqlEndpoint,
those are also exposed directly on the module object. Exemple:
import { isItemId, simplify } from 'wikibase-sdk'`,co=Object.assign(Object.assign(Object.assign(Object.assign({simplify:Ur,parse:Cr},Qn),Tr),mr),or);function Ws(e){if(!bt(e))throw new Error("invalid config");const{instance:i,sparqlEndpoint:t}=e;let{wgScriptPath:o="w"}=e;if(o=o.replace(/^\//,""),!(i||t))throw new Error(`one of instance or sparqlEndpoint should be set at initialization.
${uo}`);let n,c,l;if(i){Mt("instance",i),c=i.replace(/\/$/,"").replace(`/${o}/api.php`,""),l=`${c}/${o}/api.php`;const k=ao(l);n={searchEntities:oo(k),cirrusSearchPages:qr(k),getEntities:Xi(k),getManyEntities:Gr(k),getRevisions:io(k),getEntityRevision:Jr(i,o),getEntitiesFromSitelinks:Xr(k)}}else n={searchEntities:he("searchEntities"),cirrusSearchPages:he("cirrusSearchPages"),getEntities:he("getEntities"),getManyEntities:he("getManyEntities"),getRevisions:he("getRevisions"),getEntityRevision:he("getEntityRevision"),getEntitiesFromSitelinks:he("getEntitiesFromSitelinks")};let m;return t?(Mt("sparqlEndpoint",t),m={sparqlQuery:Wi(t),getReverseClaims:Dr(t)}):m={sparqlQuery:qt("sparqlQuery"),getReverseClaims:qt("getReverseClaims")},Object.assign(Object.assign(Object.assign({instance:{root:c,apiEndpoint:l}},co),n),m)}const Mt=(e,i)=>{if(!(typeof i=="string"&&i.startsWith("http")))throw new Error(`invalid ${e}: ${i}`)},Ji=e=>i=>()=>{throw new Error(`${i} requires ${e} to be set at initialization`)},qt=Ji("a sparqlEndpoint"),he=Ji("an instance");function Gi(e,i){return function(){return e.apply(i,arguments)}}const{toString:lo}=Object.prototype,{getPrototypeOf:xt}=Object,Ke=(e=>i=>{const t=lo.call(i);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),se=e=>(e=e.toLowerCase(),i=>Ke(i)===e),Qe=e=>i=>typeof i===e,{isArray:ye}=Array,Te=Qe("undefined");function fo(e){return e!==null&&!Te(e)&&e.constructor!==null&&!Te(e.constructor)&&re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ki=se("ArrayBuffer");function ho(e){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&Ki(e.buffer),i}const wo=Qe("string"),re=Qe("function"),Qi=Qe("number"),De=e=>e!==null&&typeof e=="object",po=e=>e===!0||e===!1,Ue=e=>{if(Ke(e)!=="object")return!1;const i=xt(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mo=se("Date"),ko=se("File"),go=se("Blob"),yo=se("FileList"),bo=e=>De(e)&&re(e.pipe),_o=e=>{let i;return e&&(typeof FormData=="function"&&e instanceof FormData||re(e.append)&&((i=Ke(e))==="formdata"||i==="object"&&re(e.toString)&&e.toString()==="[object FormData]"))},Eo=se("URLSearchParams"),[vo,Oo,xo,To]=["ReadableStream","Request","Response","Headers"].map(se),So=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ae(e,i,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let o,n;if(typeof e!="object"&&(e=[e]),ye(e))for(o=0,n=e.length;o<n;o++)i.call(null,e[o],o,e);else{const c=t?Object.getOwnPropertyNames(e):Object.keys(e),l=c.length;let m;for(o=0;o<l;o++)m=c[o],i.call(null,e[m],m,e)}}function Di(e,i){i=i.toLowerCase();const t=Object.keys(e);let o=t.length,n;for(;o-- >0;)if(n=t[o],i===n.toLowerCase())return n;return null}const we=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yi=e=>!Te(e)&&e!==we;function lt(){const{caseless:e}=Yi(this)&&this||{},i={},t=(o,n)=>{const c=e&&Di(i,n)||n;Ue(i[c])&&Ue(o)?i[c]=lt(i[c],o):Ue(o)?i[c]=lt({},o):ye(o)?i[c]=o.slice():i[c]=o};for(let o=0,n=arguments.length;o<n;o++)arguments[o]&&Ae(arguments[o],t);return i}const Fo=(e,i,t,{allOwnKeys:o}={})=>(Ae(i,(n,c)=>{t&&re(n)?e[c]=Gi(n,t):e[c]=n},{allOwnKeys:o}),e),No=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ao=(e,i,t,o)=>{e.prototype=Object.create(i.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:i.prototype}),t&&Object.assign(e.prototype,t)},Co=(e,i,t,o)=>{let n,c,l;const m={};if(i=i||{},e==null)return i;do{for(n=Object.getOwnPropertyNames(e),c=n.length;c-- >0;)l=n[c],(!o||o(l,e,i))&&!m[l]&&(i[l]=e[l],m[l]=!0);e=t!==!1&&xt(e)}while(e&&(!t||t(e,i))&&e!==Object.prototype);return i},jo=(e,i,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=i.length;const o=e.indexOf(i,t);return o!==-1&&o===t},Ro=e=>{if(!e)return null;if(ye(e))return e;let i=e.length;if(!Qi(i))return null;const t=new Array(i);for(;i-- >0;)t[i]=e[i];return t},Po=(e=>i=>e&&i instanceof e)(typeof Uint8Array<"u"&&xt(Uint8Array)),Io=(e,i)=>{const o=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=o.next())&&!n.done;){const c=n.value;i.call(e,c[0],c[1])}},$o=(e,i)=>{let t;const o=[];for(;(t=e.exec(i))!==null;)o.push(t);return o},Bo=se("HTMLFormElement"),Uo=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,n){return o.toUpperCase()+n}),Lt=(({hasOwnProperty:e})=>(i,t)=>e.call(i,t))(Object.prototype),Mo=se("RegExp"),Zi=(e,i)=>{const t=Object.getOwnPropertyDescriptors(e),o={};Ae(t,(n,c)=>{let l;(l=i(n,c,e))!==!1&&(o[c]=l||n)}),Object.defineProperties(e,o)},qo=e=>{Zi(e,(i,t)=>{if(re(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=e[t];if(re(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Lo=(e,i)=>{const t={},o=n=>{n.forEach(c=>{t[c]=!0})};return ye(e)?o(e):o(String(e).split(i)),t},Vo=()=>{},zo=(e,i)=>e!=null&&Number.isFinite(e=+e)?e:i;function Ho(e){return!!(e&&re(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Xo=e=>{const i=new Array(10),t=(o,n)=>{if(De(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[n]=o;const c=ye(o)?[]:{};return Ae(o,(l,m)=>{const k=t(l,n+1);!Te(k)&&(c[m]=k)}),i[n]=void 0,c}}return o};return t(e,0)},Wo=se("AsyncFunction"),Jo=e=>e&&(De(e)||re(e))&&re(e.then)&&re(e.catch),en=((e,i)=>e?setImmediate:i?((t,o)=>(we.addEventListener("message",({source:n,data:c})=>{n===we&&c===t&&o.length&&o.shift()()},!1),n=>{o.push(n),we.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",re(we.postMessage)),Go=typeof queueMicrotask<"u"?queueMicrotask.bind(we):typeof process<"u"&&process.nextTick||en,A={isArray:ye,isArrayBuffer:Ki,isBuffer:fo,isFormData:_o,isArrayBufferView:ho,isString:wo,isNumber:Qi,isBoolean:po,isObject:De,isPlainObject:Ue,isReadableStream:vo,isRequest:Oo,isResponse:xo,isHeaders:To,isUndefined:Te,isDate:mo,isFile:ko,isBlob:go,isRegExp:Mo,isFunction:re,isStream:bo,isURLSearchParams:Eo,isTypedArray:Po,isFileList:yo,forEach:Ae,merge:lt,extend:Fo,trim:So,stripBOM:No,inherits:Ao,toFlatObject:Co,kindOf:Ke,kindOfTest:se,endsWith:jo,toArray:Ro,forEachEntry:Io,matchAll:$o,isHTMLForm:Bo,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:Zi,freezeMethods:qo,toObjectSet:Lo,toCamelCase:Uo,noop:Vo,toFiniteNumber:zo,findKey:Di,global:we,isContextDefined:Yi,isSpecCompliantForm:Ho,toJSONObject:Xo,isAsyncFn:Wo,isThenable:Jo,setImmediate:en,asap:Go};function L(e,i,t,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",i&&(this.code=i),t&&(this.config=t),o&&(this.request=o),n&&(this.response=n,this.status=n.status?n.status:null)}A.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const tn=L.prototype,nn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nn[e]={value:e}});Object.defineProperties(L,nn);Object.defineProperty(tn,"isAxiosError",{value:!0});L.from=(e,i,t,o,n,c)=>{const l=Object.create(tn);return A.toFlatObject(e,l,function(k){return k!==Error.prototype},m=>m!=="isAxiosError"),L.call(l,e.message,i,t,o,n),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l};const Ko=null;function ft(e){return A.isPlainObject(e)||A.isArray(e)}function rn(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Vt(e,i,t){return e?e.concat(i).map(function(n,c){return n=rn(n),!t&&c?"["+n+"]":n}).join(t?".":""):i}function Qo(e){return A.isArray(e)&&!e.some(ft)}const Do=A.toFlatObject(A,{},null,function(i){return/^is[A-Z]/.test(i)});function Ye(e,i,t){if(!A.isObject(e))throw new TypeError("target must be an object");i=i||new FormData,t=A.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,b){return!A.isUndefined(b[d])});const o=t.metaTokens,n=t.visitor||f,c=t.dots,l=t.indexes,k=(t.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(i);if(!A.isFunction(n))throw new TypeError("visitor must be a function");function p(u){if(u===null)return"";if(A.isDate(u))return u.toISOString();if(!k&&A.isBlob(u))throw new L("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(u)||A.isTypedArray(u)?k&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function f(u,d,b){let E=u;if(u&&!b&&typeof u=="object"){if(A.endsWith(d,"{}"))d=o?d:d.slice(0,-2),u=JSON.stringify(u);else if(A.isArray(u)&&Qo(u)||(A.isFileList(u)||A.endsWith(d,"[]"))&&(E=A.toArray(u)))return d=rn(d),E.forEach(function(v,x){!(A.isUndefined(v)||v===null)&&i.append(l===!0?Vt([d],x,c):l===null?d:d+"[]",p(v))}),!1}return ft(u)?!0:(i.append(Vt(b,d,c),p(u)),!1)}const r=[],w=Object.assign(Do,{defaultVisitor:f,convertValue:p,isVisitable:ft});function h(u,d){if(!A.isUndefined(u)){if(r.indexOf(u)!==-1)throw Error("Circular reference detected in "+d.join("."));r.push(u),A.forEach(u,function(E,g){(!(A.isUndefined(E)||E===null)&&n.call(i,E,A.isString(g)?g.trim():g,d,w))===!0&&h(E,d?d.concat(g):[g])}),r.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return h(e),i}function zt(e){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Tt(e,i){this._pairs=[],e&&Ye(e,this,i)}const on=Tt.prototype;on.append=function(i,t){this._pairs.push([i,t])};on.toString=function(i){const t=i?function(o){return i.call(this,o,zt)}:zt;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Yo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sn(e,i,t){if(!i)return e;const o=t&&t.encode||Yo;A.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let c;if(n?c=n(i,t):c=A.isURLSearchParams(i)?i.toString():new Tt(i,t).toString(o),c){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Ht{constructor(){this.handlers=[]}use(i,t,o){return this.handlers.push({fulfilled:i,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){A.forEach(this.handlers,function(o){o!==null&&i(o)})}}const an={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zo=typeof URLSearchParams<"u"?URLSearchParams:Tt,es=typeof FormData<"u"?FormData:null,ts=typeof Blob<"u"?Blob:null,is={isBrowser:!0,classes:{URLSearchParams:Zo,FormData:es,Blob:ts},protocols:["http","https","file","blob","url","data"]},St=typeof window<"u"&&typeof document<"u",dt=typeof navigator=="object"&&navigator||void 0,ns=St&&(!dt||["ReactNative","NativeScript","NS"].indexOf(dt.product)<0),rs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",os=St&&window.location.href||"http://localhost",ss=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:St,hasStandardBrowserEnv:ns,hasStandardBrowserWebWorkerEnv:rs,navigator:dt,origin:os},Symbol.toStringTag,{value:"Module"})),Z={...ss,...is};function as(e,i){return Ye(e,new Z.classes.URLSearchParams,Object.assign({visitor:function(t,o,n,c){return Z.isNode&&A.isBuffer(t)?(this.append(o,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function us(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(i=>i[0]==="[]"?"":i[1]||i[0])}function cs(e){const i={},t=Object.keys(e);let o;const n=t.length;let c;for(o=0;o<n;o++)c=t[o],i[c]=e[c];return i}function un(e){function i(t,o,n,c){let l=t[c++];if(l==="__proto__")return!0;const m=Number.isFinite(+l),k=c>=t.length;return l=!l&&A.isArray(n)?n.length:l,k?(A.hasOwnProp(n,l)?n[l]=[n[l],o]:n[l]=o,!m):((!n[l]||!A.isObject(n[l]))&&(n[l]=[]),i(t,o,n[l],c)&&A.isArray(n[l])&&(n[l]=cs(n[l])),!m)}if(A.isFormData(e)&&A.isFunction(e.entries)){const t={};return A.forEachEntry(e,(o,n)=>{i(us(o),n,t,0)}),t}return null}function ls(e,i,t){if(A.isString(e))try{return(i||JSON.parse)(e),A.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(e)}const Ce={transitional:an,adapter:["xhr","http","fetch"],transformRequest:[function(i,t){const o=t.getContentType()||"",n=o.indexOf("application/json")>-1,c=A.isObject(i);if(c&&A.isHTMLForm(i)&&(i=new FormData(i)),A.isFormData(i))return n?JSON.stringify(un(i)):i;if(A.isArrayBuffer(i)||A.isBuffer(i)||A.isStream(i)||A.isFile(i)||A.isBlob(i)||A.isReadableStream(i))return i;if(A.isArrayBufferView(i))return i.buffer;if(A.isURLSearchParams(i))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let m;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return as(i,this.formSerializer).toString();if((m=A.isFileList(i))||o.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Ye(m?{"files[]":i}:i,k&&new k,this.formSerializer)}}return c||n?(t.setContentType("application/json",!1),ls(i)):i}],transformResponse:[function(i){const t=this.transitional||Ce.transitional,o=t&&t.forcedJSONParsing,n=this.responseType==="json";if(A.isResponse(i)||A.isReadableStream(i))return i;if(i&&A.isString(i)&&(o&&!this.responseType||n)){const l=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(i)}catch(m){if(l)throw m.name==="SyntaxError"?L.from(m,L.ERR_BAD_RESPONSE,this,null,this.response):m}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z.classes.FormData,Blob:Z.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{Ce.headers[e]={}});const fs=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ds=e=>{const i={};let t,o,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),t=l.substring(0,n).trim().toLowerCase(),o=l.substring(n+1).trim(),!(!t||i[t]&&fs[t])&&(t==="set-cookie"?i[t]?i[t].push(o):i[t]=[o]:i[t]=i[t]?i[t]+", "+o:o)}),i},Xt=Symbol("internals");function Ee(e){return e&&String(e).trim().toLowerCase()}function Me(e){return e===!1||e==null?e:A.isArray(e)?e.map(Me):String(e)}function hs(e){const i=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(e);)i[o[1]]=o[2];return i}const ws=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ot(e,i,t,o,n){if(A.isFunction(o))return o.call(this,i,t);if(n&&(i=t),!!A.isString(i)){if(A.isString(o))return i.indexOf(o)!==-1;if(A.isRegExp(o))return o.test(i)}}function ps(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,t,o)=>t.toUpperCase()+o)}function ms(e,i){const t=A.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+t,{value:function(n,c,l){return this[o].call(this,i,n,c,l)},configurable:!0})})}let ie=class{constructor(i){i&&this.set(i)}set(i,t,o){const n=this;function c(m,k,p){const f=Ee(k);if(!f)throw new Error("header name must be a non-empty string");const r=A.findKey(n,f);(!r||n[r]===void 0||p===!0||p===void 0&&n[r]!==!1)&&(n[r||k]=Me(m))}const l=(m,k)=>A.forEach(m,(p,f)=>c(p,f,k));if(A.isPlainObject(i)||i instanceof this.constructor)l(i,t);else if(A.isString(i)&&(i=i.trim())&&!ws(i))l(ds(i),t);else if(A.isHeaders(i))for(const[m,k]of i.entries())c(k,m,o);else i!=null&&c(t,i,o);return this}get(i,t){if(i=Ee(i),i){const o=A.findKey(this,i);if(o){const n=this[o];if(!t)return n;if(t===!0)return hs(n);if(A.isFunction(t))return t.call(this,n,o);if(A.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,t){if(i=Ee(i),i){const o=A.findKey(this,i);return!!(o&&this[o]!==void 0&&(!t||ot(this,this[o],o,t)))}return!1}delete(i,t){const o=this;let n=!1;function c(l){if(l=Ee(l),l){const m=A.findKey(o,l);m&&(!t||ot(o,o[m],m,t))&&(delete o[m],n=!0)}}return A.isArray(i)?i.forEach(c):c(i),n}clear(i){const t=Object.keys(this);let o=t.length,n=!1;for(;o--;){const c=t[o];(!i||ot(this,this[c],c,i,!0))&&(delete this[c],n=!0)}return n}normalize(i){const t=this,o={};return A.forEach(this,(n,c)=>{const l=A.findKey(o,c);if(l){t[l]=Me(n),delete t[c];return}const m=i?ps(c):String(c).trim();m!==c&&delete t[c],t[m]=Me(n),o[m]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const t=Object.create(null);return A.forEach(this,(o,n)=>{o!=null&&o!==!1&&(t[n]=i&&A.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,t])=>i+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...t){const o=new this(i);return t.forEach(n=>o.set(n)),o}static accessor(i){const o=(this[Xt]=this[Xt]={accessors:{}}).accessors,n=this.prototype;function c(l){const m=Ee(l);o[m]||(ms(n,l),o[m]=!0)}return A.isArray(i)?i.forEach(c):c(i),this}};ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(ie.prototype,({value:e},i)=>{let t=i[0].toUpperCase()+i.slice(1);return{get:()=>e,set(o){this[t]=o}}});A.freezeMethods(ie);function st(e,i){const t=this||Ce,o=i||t,n=ie.from(o.headers);let c=o.data;return A.forEach(e,function(m){c=m.call(t,c,n.normalize(),i?i.status:void 0)}),n.normalize(),c}function cn(e){return!!(e&&e.__CANCEL__)}function be(e,i,t){L.call(this,e??"canceled",L.ERR_CANCELED,i,t),this.name="CanceledError"}A.inherits(be,L,{__CANCEL__:!0});function ln(e,i,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?e(t):i(new L("Request failed with status code "+t.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ks(e){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}function gs(e,i){e=e||10;const t=new Array(e),o=new Array(e);let n=0,c=0,l;return i=i!==void 0?i:1e3,function(k){const p=Date.now(),f=o[c];l||(l=p),t[n]=k,o[n]=p;let r=c,w=0;for(;r!==n;)w+=t[r++],r=r%e;if(n=(n+1)%e,n===c&&(c=(c+1)%e),p-l<i)return;const h=f&&p-f;return h?Math.round(w*1e3/h):void 0}}function ys(e,i){let t=0,o=1e3/i,n,c;const l=(p,f=Date.now())=>{t=f,n=null,c&&(clearTimeout(c),c=null),e.apply(null,p)};return[(...p)=>{const f=Date.now(),r=f-t;r>=o?l(p,f):(n=p,c||(c=setTimeout(()=>{c=null,l(n)},o-r)))},()=>n&&l(n)]}const He=(e,i,t=3)=>{let o=0;const n=gs(50,250);return ys(c=>{const l=c.loaded,m=c.lengthComputable?c.total:void 0,k=l-o,p=n(k),f=l<=m;o=l;const r={loaded:l,total:m,progress:m?l/m:void 0,bytes:k,rate:p||void 0,estimated:p&&m&&f?(m-l)/p:void 0,event:c,lengthComputable:m!=null,[i?"download":"upload"]:!0};e(r)},t)},Wt=(e,i)=>{const t=e!=null;return[o=>i[0]({lengthComputable:t,total:e,loaded:o}),i[1]]},Jt=e=>(...i)=>A.asap(()=>e(...i)),bs=Z.hasStandardBrowserEnv?((e,i)=>t=>(t=new URL(t,Z.origin),e.protocol===t.protocol&&e.host===t.host&&(i||e.port===t.port)))(new URL(Z.origin),Z.navigator&&/(msie|trident)/i.test(Z.navigator.userAgent)):()=>!0,_s=Z.hasStandardBrowserEnv?{write(e,i,t,o,n,c){const l=[e+"="+encodeURIComponent(i)];A.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),A.isString(o)&&l.push("path="+o),A.isString(n)&&l.push("domain="+n),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Es(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vs(e,i){return i?e.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):e}function fn(e,i,t){let o=!Es(i);return e&&(o||t==!1)?vs(e,i):i}const Gt=e=>e instanceof ie?{...e}:e;function me(e,i){i=i||{};const t={};function o(p,f,r,w){return A.isPlainObject(p)&&A.isPlainObject(f)?A.merge.call({caseless:w},p,f):A.isPlainObject(f)?A.merge({},f):A.isArray(f)?f.slice():f}function n(p,f,r,w){if(A.isUndefined(f)){if(!A.isUndefined(p))return o(void 0,p,r,w)}else return o(p,f,r,w)}function c(p,f){if(!A.isUndefined(f))return o(void 0,f)}function l(p,f){if(A.isUndefined(f)){if(!A.isUndefined(p))return o(void 0,p)}else return o(void 0,f)}function m(p,f,r){if(r in i)return o(p,f);if(r in e)return o(void 0,p)}const k={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:m,headers:(p,f,r)=>n(Gt(p),Gt(f),r,!0)};return A.forEach(Object.keys(Object.assign({},e,i)),function(f){const r=k[f]||n,w=r(e[f],i[f],f);A.isUndefined(w)&&r!==m||(t[f]=w)}),t}const dn=e=>{const i=me({},e);let{data:t,withXSRFToken:o,xsrfHeaderName:n,xsrfCookieName:c,headers:l,auth:m}=i;i.headers=l=ie.from(l),i.url=sn(fn(i.baseURL,i.url,i.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&l.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let k;if(A.isFormData(t)){if(Z.hasStandardBrowserEnv||Z.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((k=l.getContentType())!==!1){const[p,...f]=k?k.split(";").map(r=>r.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...f].join("; "))}}if(Z.hasStandardBrowserEnv&&(o&&A.isFunction(o)&&(o=o(i)),o||o!==!1&&bs(i.url))){const p=n&&c&&_s.read(c);p&&l.set(n,p)}return i},Os=typeof XMLHttpRequest<"u",xs=Os&&function(e){return new Promise(function(t,o){const n=dn(e);let c=n.data;const l=ie.from(n.headers).normalize();let{responseType:m,onUploadProgress:k,onDownloadProgress:p}=n,f,r,w,h,u;function d(){h&&h(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(f),n.signal&&n.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function E(){if(!b)return;const v=ie.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!m||m==="text"||m==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};ln(function(T){t(T),d()},function(T){o(T),d()},C),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(o(new L("Request aborted",L.ECONNABORTED,e,b)),b=null)},b.onerror=function(){o(new L("Network Error",L.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let x=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||an;n.timeoutErrorMessage&&(x=n.timeoutErrorMessage),o(new L(x,C.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,e,b)),b=null},c===void 0&&l.setContentType(null),"setRequestHeader"in b&&A.forEach(l.toJSON(),function(x,C){b.setRequestHeader(C,x)}),A.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),m&&m!=="json"&&(b.responseType=n.responseType),p&&([w,u]=He(p,!0),b.addEventListener("progress",w)),k&&b.upload&&([r,h]=He(k),b.upload.addEventListener("progress",r),b.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(f=v=>{b&&(o(!v||v.type?new be(null,e,b):v),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(f),n.signal&&(n.signal.aborted?f():n.signal.addEventListener("abort",f)));const g=ks(n.url);if(g&&Z.protocols.indexOf(g)===-1){o(new L("Unsupported protocol "+g+":",L.ERR_BAD_REQUEST,e));return}b.send(c||null)})},Ts=(e,i)=>{const{length:t}=e=e?e.filter(Boolean):[];if(i||t){let o=new AbortController,n;const c=function(p){if(!n){n=!0,m();const f=p instanceof Error?p:this.reason;o.abort(f instanceof L?f:new be(f instanceof Error?f.message:f))}};let l=i&&setTimeout(()=>{l=null,c(new L(`timeout ${i} of ms exceeded`,L.ETIMEDOUT))},i);const m=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),e=null)};e.forEach(p=>p.addEventListener("abort",c));const{signal:k}=o;return k.unsubscribe=()=>A.asap(m),k}},Ss=function*(e,i){let t=e.byteLength;if(t<i){yield e;return}let o=0,n;for(;o<t;)n=o+i,yield e.slice(o,n),o=n},Fs=async function*(e,i){for await(const t of Ns(e))yield*Ss(t,i)},Ns=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const i=e.getReader();try{for(;;){const{done:t,value:o}=await i.read();if(t)break;yield o}}finally{await i.cancel()}},Kt=(e,i,t,o)=>{const n=Fs(e,i);let c=0,l,m=k=>{l||(l=!0,o&&o(k))};return new ReadableStream({async pull(k){try{const{done:p,value:f}=await n.next();if(p){m(),k.close();return}let r=f.byteLength;if(t){let w=c+=r;t(w)}k.enqueue(new Uint8Array(f))}catch(p){throw m(p),p}},cancel(k){return m(k),n.return()}},{highWaterMark:2})},Ze=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hn=Ze&&typeof ReadableStream=="function",As=Ze&&(typeof TextEncoder=="function"?(e=>i=>e.encode(i))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wn=(e,...i)=>{try{return!!e(...i)}catch{return!1}},Cs=hn&&wn(()=>{let e=!1;const i=new Request(Z.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!i}),Qt=64*1024,ht=hn&&wn(()=>A.isReadableStream(new Response("").body)),Xe={stream:ht&&(e=>e.body)};Ze&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Xe[i]&&(Xe[i]=A.isFunction(e[i])?t=>t[i]():(t,o)=>{throw new L(`Response type '${i}' is not supported`,L.ERR_NOT_SUPPORT,o)})})})(new Response);const js=async e=>{if(e==null)return 0;if(A.isBlob(e))return e.size;if(A.isSpecCompliantForm(e))return(await new Request(Z.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(A.isArrayBufferView(e)||A.isArrayBuffer(e))return e.byteLength;if(A.isURLSearchParams(e)&&(e=e+""),A.isString(e))return(await As(e)).byteLength},Rs=async(e,i)=>{const t=A.toFiniteNumber(e.getContentLength());return t??js(i)},Ps=Ze&&(async e=>{let{url:i,method:t,data:o,signal:n,cancelToken:c,timeout:l,onDownloadProgress:m,onUploadProgress:k,responseType:p,headers:f,withCredentials:r="same-origin",fetchOptions:w}=dn(e);p=p?(p+"").toLowerCase():"text";let h=Ts([n,c&&c.toAbortSignal()],l),u;const d=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(k&&Cs&&t!=="get"&&t!=="head"&&(b=await Rs(f,o))!==0){let C=new Request(i,{method:"POST",body:o,duplex:"half"}),O;if(A.isFormData(o)&&(O=C.headers.get("content-type"))&&f.setContentType(O),C.body){const[T,P]=Wt(b,He(Jt(k)));o=Kt(C.body,Qt,T,P)}}A.isString(r)||(r=r?"include":"omit");const E="credentials"in Request.prototype;u=new Request(i,{...w,signal:h,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:o,duplex:"half",credentials:E?r:void 0});let g=await fetch(u);const v=ht&&(p==="stream"||p==="response");if(ht&&(m||v&&d)){const C={};["status","statusText","headers"].forEach(N=>{C[N]=g[N]});const O=A.toFiniteNumber(g.headers.get("content-length")),[T,P]=m&&Wt(O,He(Jt(m),!0))||[];g=new Response(Kt(g.body,Qt,T,()=>{P&&P(),d&&d()}),C)}p=p||"text";let x=await Xe[A.findKey(Xe,p)||"text"](g,e);return!v&&d&&d(),await new Promise((C,O)=>{ln(C,O,{data:x,headers:ie.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:u})})}catch(E){throw d&&d(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,e,u),{cause:E.cause||E}):L.from(E,E&&E.code,e,u)}}),wt={http:Ko,xhr:xs,fetch:Ps};A.forEach(wt,(e,i)=>{if(e){try{Object.defineProperty(e,"name",{value:i})}catch{}Object.defineProperty(e,"adapterName",{value:i})}});const Dt=e=>`- ${e}`,Is=e=>A.isFunction(e)||e===null||e===!1,pn={getAdapter:e=>{e=A.isArray(e)?e:[e];const{length:i}=e;let t,o;const n={};for(let c=0;c<i;c++){t=e[c];let l;if(o=t,!Is(t)&&(o=wt[(l=String(t)).toLowerCase()],o===void 0))throw new L(`Unknown adapter '${l}'`);if(o)break;n[l||"#"+c]=o}if(!o){const c=Object.entries(n).map(([m,k])=>`adapter ${m} `+(k===!1?"is not supported by the environment":"is not available in the build"));let l=i?c.length>1?`since :
`+c.map(Dt).join(`
`):" "+Dt(c[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:wt};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new be(null,e)}function Yt(e){return at(e),e.headers=ie.from(e.headers),e.data=st.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pn.getAdapter(e.adapter||Ce.adapter)(e).then(function(o){return at(e),o.data=st.call(e,e.transformResponse,o),o.headers=ie.from(o.headers),o},function(o){return cn(o)||(at(e),o&&o.response&&(o.response.data=st.call(e,e.transformResponse,o.response),o.response.headers=ie.from(o.response.headers))),Promise.reject(o)})}const mn="1.8.4",et={};["object","boolean","number","function","string","symbol"].forEach((e,i)=>{et[e]=function(o){return typeof o===e||"a"+(i<1?"n ":" ")+e}});const Zt={};et.transitional=function(i,t,o){function n(c,l){return"[Axios v"+mn+"] Transitional option '"+c+"'"+l+(o?". "+o:"")}return(c,l,m)=>{if(i===!1)throw new L(n(l," has been removed"+(t?" in "+t:"")),L.ERR_DEPRECATED);return t&&!Zt[l]&&(Zt[l]=!0,console.warn(n(l," has been deprecated since v"+t+" and will be removed in the near future"))),i?i(c,l,m):!0}};et.spelling=function(i){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function $s(e,i,t){if(typeof e!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let n=o.length;for(;n-- >0;){const c=o[n],l=i[c];if(l){const m=e[c],k=m===void 0||l(m,c,e);if(k!==!0)throw new L("option "+c+" must be "+k,L.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new L("Unknown option "+c,L.ERR_BAD_OPTION)}}const qe={assertOptions:$s,validators:et},ae=qe.validators;let pe=class{constructor(i){this.defaults=i,this.interceptors={request:new Ht,response:new Ht}}async request(i,t){try{return await this._request(i,t)}catch(o){if(o instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const c=n.stack?n.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(i,t){typeof i=="string"?(t=t||{},t.url=i):t=i||{},t=me(this.defaults,t);const{transitional:o,paramsSerializer:n,headers:c}=t;o!==void 0&&qe.assertOptions(o,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),n!=null&&(A.isFunction(n)?t.paramsSerializer={serialize:n}:qe.assertOptions(n,{encode:ae.function,serialize:ae.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qe.assertOptions(t,{baseUrl:ae.spelling("baseURL"),withXsrfToken:ae.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=c&&A.merge(c.common,c[t.method]);c&&A.forEach(["delete","get","head","post","put","patch","common"],u=>{delete c[u]}),t.headers=ie.concat(l,c);const m=[];let k=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(k=k&&d.synchronous,m.unshift(d.fulfilled,d.rejected))});const p=[];this.interceptors.response.forEach(function(d){p.push(d.fulfilled,d.rejected)});let f,r=0,w;if(!k){const u=[Yt.bind(this),void 0];for(u.unshift.apply(u,m),u.push.apply(u,p),w=u.length,f=Promise.resolve(t);r<w;)f=f.then(u[r++],u[r++]);return f}w=m.length;let h=t;for(r=0;r<w;){const u=m[r++],d=m[r++];try{h=u(h)}catch(b){d.call(this,b);break}}try{f=Yt.call(this,h)}catch(u){return Promise.reject(u)}for(r=0,w=p.length;r<w;)f=f.then(p[r++],p[r++]);return f}getUri(i){i=me(this.defaults,i);const t=fn(i.baseURL,i.url,i.allowAbsoluteUrls);return sn(t,i.params,i.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(i){pe.prototype[i]=function(t,o){return this.request(me(o||{},{method:i,url:t,data:(o||{}).data}))}});A.forEach(["post","put","patch"],function(i){function t(o){return function(c,l,m){return this.request(me(m||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:l}))}}pe.prototype[i]=t(),pe.prototype[i+"Form"]=t(!0)});let Bs=class kn{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const o=this;this.promise.then(n=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](n);o._listeners=null}),this.promise.then=n=>{let c;const l=new Promise(m=>{o.subscribe(m),c=m}).then(n);return l.cancel=function(){o.unsubscribe(c)},l},i(function(c,l,m){o.reason||(o.reason=new be(c,l,m),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const t=this._listeners.indexOf(i);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const i=new AbortController,t=o=>{i.abort(o)};return this.subscribe(t),i.signal.unsubscribe=()=>this.unsubscribe(t),i.signal}static source(){let i;return{token:new kn(function(n){i=n}),cancel:i}}};function Us(e){return function(t){return e.apply(null,t)}}function Ms(e){return A.isObject(e)&&e.isAxiosError===!0}const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach(([e,i])=>{pt[i]=e});function gn(e){const i=new pe(e),t=Gi(pe.prototype.request,i);return A.extend(t,pe.prototype,i,{allOwnKeys:!0}),A.extend(t,i,null,{allOwnKeys:!0}),t.create=function(n){return gn(me(e,n))},t}const Q=gn(Ce);Q.Axios=pe;Q.CanceledError=be;Q.CancelToken=Bs;Q.isCancel=cn;Q.VERSION=mn;Q.toFormData=Ye;Q.AxiosError=L;Q.Cancel=Q.CanceledError;Q.all=function(i){return Promise.all(i)};Q.spread=Us;Q.isAxiosError=Ms;Q.mergeConfig=me;Q.AxiosHeaders=ie;Q.formToJSON=e=>un(A.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=pn.getAdapter;Q.HttpStatusCode=pt;Q.default=Q;const{Axios:Ks,AxiosError:Qs,CanceledError:Ds,isCancel:Ys,CancelToken:Zs,VERSION:ea,all:ta,Cancel:ia,isAxiosError:na,spread:ra,toFormData:oa,AxiosHeaders:sa,HttpStatusCode:aa,formToJSON:ua,getAdapter:ca,mergeConfig:la}=Q;export{zs as V,Ws as W,Hs as _,Q as a,Xs as b};
